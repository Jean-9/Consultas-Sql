{"ast":null,"code":"ace.define(\"ace/snippets\", [\"require\", \"exports\", \"module\", \"ace/lib/dom\", \"ace/lib/oop\", \"ace/lib/event_emitter\", \"ace/lib/lang\", \"ace/range\", \"ace/range_list\", \"ace/keyboard/hash_handler\", \"ace/tokenizer\", \"ace/clipboard\", \"ace/editor\"], function (require, exports, module) {\n  \"use strict\";\n\n  var dom = require(\"./lib/dom\");\n  var oop = require(\"./lib/oop\");\n  var EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\n  var lang = require(\"./lib/lang\");\n  var Range = require(\"./range\").Range;\n  var RangeList = require(\"./range_list\").RangeList;\n  var HashHandler = require(\"./keyboard/hash_handler\").HashHandler;\n  var Tokenizer = require(\"./tokenizer\").Tokenizer;\n  var clipboard = require(\"./clipboard\");\n  var VARIABLES = {\n    CURRENT_WORD: function (editor) {\n      return editor.session.getTextRange(editor.session.getWordRange());\n    },\n    SELECTION: function (editor, name, indentation) {\n      var text = editor.session.getTextRange();\n      if (indentation) return text.replace(/\\n\\r?([ \\t]*\\S)/g, \"\\n\" + indentation + \"$1\");\n      return text;\n    },\n    CURRENT_LINE: function (editor) {\n      return editor.session.getLine(editor.getCursorPosition().row);\n    },\n    PREV_LINE: function (editor) {\n      return editor.session.getLine(editor.getCursorPosition().row - 1);\n    },\n    LINE_INDEX: function (editor) {\n      return editor.getCursorPosition().row;\n    },\n    LINE_NUMBER: function (editor) {\n      return editor.getCursorPosition().row + 1;\n    },\n    SOFT_TABS: function (editor) {\n      return editor.session.getUseSoftTabs() ? \"YES\" : \"NO\";\n    },\n    TAB_SIZE: function (editor) {\n      return editor.session.getTabSize();\n    },\n    CLIPBOARD: function (editor) {\n      return clipboard.getText && clipboard.getText();\n    },\n    FILENAME: function (editor) {\n      return /[^/\\\\]*$/.exec(this.FILEPATH(editor))[0];\n    },\n    FILENAME_BASE: function (editor) {\n      return /[^/\\\\]*$/.exec(this.FILEPATH(editor))[0].replace(/\\.[^.]*$/, \"\");\n    },\n    DIRECTORY: function (editor) {\n      return this.FILEPATH(editor).replace(/[^/\\\\]*$/, \"\");\n    },\n    FILEPATH: function (editor) {\n      return \"/not implemented.txt\";\n    },\n    WORKSPACE_NAME: function () {\n      return \"Unknown\";\n    },\n    FULLNAME: function () {\n      return \"Unknown\";\n    },\n    BLOCK_COMMENT_START: function (editor) {\n      var mode = editor.session.$mode || {};\n      return mode.blockComment && mode.blockComment.start || \"\";\n    },\n    BLOCK_COMMENT_END: function (editor) {\n      var mode = editor.session.$mode || {};\n      return mode.blockComment && mode.blockComment.end || \"\";\n    },\n    LINE_COMMENT: function (editor) {\n      var mode = editor.session.$mode || {};\n      return mode.lineCommentStart || \"\";\n    },\n    CURRENT_YEAR: date.bind(null, {\n      year: \"numeric\"\n    }),\n    CURRENT_YEAR_SHORT: date.bind(null, {\n      year: \"2-digit\"\n    }),\n    CURRENT_MONTH: date.bind(null, {\n      month: \"numeric\"\n    }),\n    CURRENT_MONTH_NAME: date.bind(null, {\n      month: \"long\"\n    }),\n    CURRENT_MONTH_NAME_SHORT: date.bind(null, {\n      month: \"short\"\n    }),\n    CURRENT_DATE: date.bind(null, {\n      day: \"2-digit\"\n    }),\n    CURRENT_DAY_NAME: date.bind(null, {\n      weekday: \"long\"\n    }),\n    CURRENT_DAY_NAME_SHORT: date.bind(null, {\n      weekday: \"short\"\n    }),\n    CURRENT_HOUR: date.bind(null, {\n      hour: \"2-digit\",\n      hour12: false\n    }),\n    CURRENT_MINUTE: date.bind(null, {\n      minute: \"2-digit\"\n    }),\n    CURRENT_SECOND: date.bind(null, {\n      second: \"2-digit\"\n    })\n  };\n  VARIABLES.SELECTED_TEXT = VARIABLES.SELECTION;\n  function date(dateFormat) {\n    var str = new Date().toLocaleString(\"en-us\", dateFormat);\n    return str.length == 1 ? \"0\" + str : str;\n  }\n  var SnippetManager = /** @class */function () {\n    function SnippetManager() {\n      this.snippetMap = {};\n      this.snippetNameMap = {};\n      this.variables = VARIABLES;\n    }\n    SnippetManager.prototype.getTokenizer = function () {\n      return SnippetManager[\"$tokenizer\"] || this.createTokenizer();\n    };\n    SnippetManager.prototype.createTokenizer = function () {\n      function TabstopToken(str) {\n        str = str.substr(1);\n        if (/^\\d+$/.test(str)) return [{\n          tabstopId: parseInt(str, 10)\n        }];\n        return [{\n          text: str\n        }];\n      }\n      function escape(ch) {\n        return \"(?:[^\\\\\\\\\" + ch + \"]|\\\\\\\\.)\";\n      }\n      var formatMatcher = {\n        regex: \"/(\" + escape(\"/\") + \"+)/\",\n        onMatch: function (val, state, stack) {\n          var ts = stack[0];\n          ts.fmtString = true;\n          ts.guard = val.slice(1, -1);\n          ts.flag = \"\";\n          return \"\";\n        },\n        next: \"formatString\"\n      };\n      SnippetManager[\"$tokenizer\"] = new Tokenizer({\n        start: [{\n          regex: /\\\\./,\n          onMatch: function (val, state, stack) {\n            var ch = val[1];\n            if (ch == \"}\" && stack.length) {\n              val = ch;\n            } else if (\"`$\\\\\".indexOf(ch) != -1) {\n              val = ch;\n            }\n            return [val];\n          }\n        }, {\n          regex: /}/,\n          onMatch: function (val, state, stack) {\n            return [stack.length ? stack.shift() : val];\n          }\n        }, {\n          regex: /\\$(?:\\d+|\\w+)/,\n          onMatch: TabstopToken\n        }, {\n          regex: /\\$\\{[\\dA-Z_a-z]+/,\n          onMatch: function (str, state, stack) {\n            var t = TabstopToken(str.substr(1));\n            stack.unshift(t[0]);\n            return t;\n          },\n          next: \"snippetVar\"\n        }, {\n          regex: /\\n/,\n          token: \"newline\",\n          merge: false\n        }],\n        snippetVar: [{\n          regex: \"\\\\|\" + escape(\"\\\\|\") + \"*\\\\|\",\n          onMatch: function (val, state, stack) {\n            var choices = val.slice(1, -1).replace(/\\\\[,|\\\\]|,/g, function (operator) {\n              return operator.length == 2 ? operator[1] : \"\\x00\";\n            }).split(\"\\x00\").map(function (value) {\n              return {\n                value: value\n              };\n            });\n            stack[0].choices = choices;\n            return [choices[0]];\n          },\n          next: \"start\"\n        }, formatMatcher, {\n          regex: \"([^:}\\\\\\\\]|\\\\\\\\.)*:?\",\n          token: \"\",\n          next: \"start\"\n        }],\n        formatString: [{\n          regex: /:/,\n          onMatch: function (val, state, stack) {\n            if (stack.length && stack[0].expectElse) {\n              stack[0].expectElse = false;\n              stack[0].ifEnd = {\n                elseEnd: stack[0]\n              };\n              return [stack[0].ifEnd];\n            }\n            return \":\";\n          }\n        }, {\n          regex: /\\\\./,\n          onMatch: function (val, state, stack) {\n            var ch = val[1];\n            if (ch == \"}\" && stack.length) val = ch;else if (\"`$\\\\\".indexOf(ch) != -1) val = ch;else if (ch == \"n\") val = \"\\n\";else if (ch == \"t\") val = \"\\t\";else if (\"ulULE\".indexOf(ch) != -1) val = {\n              changeCase: ch,\n              local: ch > \"a\"\n            };\n            return [val];\n          }\n        }, {\n          regex: \"/\\\\w*}\",\n          onMatch: function (val, state, stack) {\n            var next = stack.shift();\n            if (next) next.flag = val.slice(1, -1);\n            this.next = next && next.tabstopId ? \"start\" : \"\";\n            return [next || val];\n          },\n          next: \"start\"\n        }, {\n          regex: /\\$(?:\\d+|\\w+)/,\n          onMatch: function (val, state, stack) {\n            return [{\n              text: val.slice(1)\n            }];\n          }\n        }, {\n          regex: /\\${\\w+/,\n          onMatch: function (val, state, stack) {\n            var token = {\n              text: val.slice(2)\n            };\n            stack.unshift(token);\n            return [token];\n          },\n          next: \"formatStringVar\"\n        }, {\n          regex: /\\n/,\n          token: \"newline\",\n          merge: false\n        }, {\n          regex: /}/,\n          onMatch: function (val, state, stack) {\n            var next = stack.shift();\n            this.next = next && next.tabstopId ? \"start\" : \"\";\n            return [next || val];\n          },\n          next: \"start\"\n        }],\n        formatStringVar: [{\n          regex: /:\\/\\w+}/,\n          onMatch: function (val, state, stack) {\n            var ts = stack[0];\n            ts.formatFunction = val.slice(2, -1);\n            return [stack.shift()];\n          },\n          next: \"formatString\"\n        }, formatMatcher, {\n          regex: /:[\\?\\-+]?/,\n          onMatch: function (val, state, stack) {\n            if (val[1] == \"+\") stack[0].ifEnd = stack[0];\n            if (val[1] == \"?\") stack[0].expectElse = true;\n          },\n          next: \"formatString\"\n        }, {\n          regex: \"([^:}\\\\\\\\]|\\\\\\\\.)*:?\",\n          token: \"\",\n          next: \"formatString\"\n        }]\n      });\n      return SnippetManager[\"$tokenizer\"];\n    };\n    SnippetManager.prototype.tokenizeTmSnippet = function (str, startState) {\n      return this.getTokenizer().getLineTokens(str, startState).tokens.map(function (x) {\n        return x.value || x;\n      });\n    };\n    SnippetManager.prototype.getVariableValue = function (editor, name, indentation) {\n      if (/^\\d+$/.test(name)) return (this.variables.__ || {})[name] || \"\";\n      if (/^[A-Z]\\d+$/.test(name)) return (this.variables[name[0] + \"__\"] || {})[name.substr(1)] || \"\";\n      name = name.replace(/^TM_/, \"\");\n      if (!this.variables.hasOwnProperty(name)) return \"\";\n      var value = this.variables[name];\n      if (typeof value == \"function\") value = this.variables[name](editor, name, indentation);\n      return value == null ? \"\" : value;\n    };\n    SnippetManager.prototype.tmStrFormat = function (str, ch, editor) {\n      if (!ch.fmt) return str;\n      var flag = ch.flag || \"\";\n      var re = ch.guard;\n      re = new RegExp(re, flag.replace(/[^gim]/g, \"\"));\n      var fmtTokens = typeof ch.fmt == \"string\" ? this.tokenizeTmSnippet(ch.fmt, \"formatString\") : ch.fmt;\n      var _self = this;\n      var formatted = str.replace(re, function () {\n        var oldArgs = _self.variables.__;\n        _self.variables.__ = [].slice.call(arguments);\n        var fmtParts = _self.resolveVariables(fmtTokens, editor);\n        var gChangeCase = \"E\";\n        for (var i = 0; i < fmtParts.length; i++) {\n          var ch = fmtParts[i];\n          if (typeof ch == \"object\") {\n            fmtParts[i] = \"\";\n            if (ch.changeCase && ch.local) {\n              var next = fmtParts[i + 1];\n              if (next && typeof next == \"string\") {\n                if (ch.changeCase == \"u\") fmtParts[i] = next[0].toUpperCase();else fmtParts[i] = next[0].toLowerCase();\n                fmtParts[i + 1] = next.substr(1);\n              }\n            } else if (ch.changeCase) {\n              gChangeCase = ch.changeCase;\n            }\n          } else if (gChangeCase == \"U\") {\n            fmtParts[i] = ch.toUpperCase();\n          } else if (gChangeCase == \"L\") {\n            fmtParts[i] = ch.toLowerCase();\n          }\n        }\n        _self.variables.__ = oldArgs;\n        return fmtParts.join(\"\");\n      });\n      return formatted;\n    };\n    SnippetManager.prototype.tmFormatFunction = function (str, ch, editor) {\n      if (ch.formatFunction == \"upcase\") return str.toUpperCase();\n      if (ch.formatFunction == \"downcase\") return str.toLowerCase();\n      return str;\n    };\n    SnippetManager.prototype.resolveVariables = function (snippet, editor) {\n      var result = [];\n      var indentation = \"\";\n      var afterNewLine = true;\n      for (var i = 0; i < snippet.length; i++) {\n        var ch = snippet[i];\n        if (typeof ch == \"string\") {\n          result.push(ch);\n          if (ch == \"\\n\") {\n            afterNewLine = true;\n            indentation = \"\";\n          } else if (afterNewLine) {\n            indentation = /^\\t*/.exec(ch)[0];\n            afterNewLine = /\\S/.test(ch);\n          }\n          continue;\n        }\n        if (!ch) continue;\n        afterNewLine = false;\n        if (ch.fmtString) {\n          var j = snippet.indexOf(ch, i + 1);\n          if (j == -1) j = snippet.length;\n          ch.fmt = snippet.slice(i + 1, j);\n          i = j;\n        }\n        if (ch.text) {\n          var value = this.getVariableValue(editor, ch.text, indentation) + \"\";\n          if (ch.fmtString) value = this.tmStrFormat(value, ch, editor);\n          if (ch.formatFunction) value = this.tmFormatFunction(value, ch, editor);\n          if (value && !ch.ifEnd) {\n            result.push(value);\n            gotoNext(ch);\n          } else if (!value && ch.ifEnd) {\n            gotoNext(ch.ifEnd);\n          }\n        } else if (ch.elseEnd) {\n          gotoNext(ch.elseEnd);\n        } else if (ch.tabstopId != null) {\n          result.push(ch);\n        } else if (ch.changeCase != null) {\n          result.push(ch);\n        }\n      }\n      function gotoNext(ch) {\n        var i1 = snippet.indexOf(ch, i + 1);\n        if (i1 != -1) i = i1;\n      }\n      return result;\n    };\n    SnippetManager.prototype.getDisplayTextForSnippet = function (editor, snippetText) {\n      var processedSnippet = processSnippetText.call(this, editor, snippetText);\n      return processedSnippet.text;\n    };\n    SnippetManager.prototype.insertSnippetForSelection = function (editor, snippetText, options) {\n      if (options === void 0) {\n        options = {};\n      }\n      var processedSnippet = processSnippetText.call(this, editor, snippetText, options);\n      var range = editor.getSelectionRange();\n      var end = editor.session.replace(range, processedSnippet.text);\n      var tabstopManager = new TabstopManager(editor);\n      var selectionId = editor.inVirtualSelectionMode && editor.selection.index;\n      tabstopManager.addTabstops(processedSnippet.tabstops, range.start, end, selectionId);\n    };\n    SnippetManager.prototype.insertSnippet = function (editor, snippetText, options) {\n      if (options === void 0) {\n        options = {};\n      }\n      var self = this;\n      if (editor.inVirtualSelectionMode) return self.insertSnippetForSelection(editor, snippetText, options);\n      editor.forEachSelection(function () {\n        self.insertSnippetForSelection(editor, snippetText, options);\n      }, null, {\n        keepOrder: true\n      });\n      if (editor.tabstopManager) editor.tabstopManager.tabNext();\n    };\n    SnippetManager.prototype.$getScope = function (editor) {\n      var scope = editor.session.$mode.$id || \"\";\n      scope = scope.split(\"/\").pop();\n      if (scope === \"html\" || scope === \"php\") {\n        if (scope === \"php\" && !editor.session.$mode.inlinePhp) scope = \"html\";\n        var c = editor.getCursorPosition();\n        var state = editor.session.getState(c.row);\n        if (typeof state === \"object\") {\n          state = state[0];\n        }\n        if (state.substring) {\n          if (state.substring(0, 3) == \"js-\") scope = \"javascript\";else if (state.substring(0, 4) == \"css-\") scope = \"css\";else if (state.substring(0, 4) == \"php-\") scope = \"php\";\n        }\n      }\n      return scope;\n    };\n    SnippetManager.prototype.getActiveScopes = function (editor) {\n      var scope = this.$getScope(editor);\n      var scopes = [scope];\n      var snippetMap = this.snippetMap;\n      if (snippetMap[scope] && snippetMap[scope].includeScopes) {\n        scopes.push.apply(scopes, snippetMap[scope].includeScopes);\n      }\n      scopes.push(\"_\");\n      return scopes;\n    };\n    SnippetManager.prototype.expandWithTab = function (editor, options) {\n      var self = this;\n      var result = editor.forEachSelection(function () {\n        return self.expandSnippetForSelection(editor, options);\n      }, null, {\n        keepOrder: true\n      });\n      if (result && editor.tabstopManager) editor.tabstopManager.tabNext();\n      return result;\n    };\n    SnippetManager.prototype.expandSnippetForSelection = function (editor, options) {\n      var cursor = editor.getCursorPosition();\n      var line = editor.session.getLine(cursor.row);\n      var before = line.substring(0, cursor.column);\n      var after = line.substr(cursor.column);\n      var snippetMap = this.snippetMap;\n      var snippet;\n      this.getActiveScopes(editor).some(function (scope) {\n        var snippets = snippetMap[scope];\n        if (snippets) snippet = this.findMatchingSnippet(snippets, before, after);\n        return !!snippet;\n      }, this);\n      if (!snippet) return false;\n      if (options && options.dryRun) return true;\n      editor.session.doc.removeInLine(cursor.row, cursor.column - snippet.replaceBefore.length, cursor.column + snippet.replaceAfter.length);\n      this.variables.M__ = snippet.matchBefore;\n      this.variables.T__ = snippet.matchAfter;\n      this.insertSnippetForSelection(editor, snippet.content);\n      this.variables.M__ = this.variables.T__ = null;\n      return true;\n    };\n    SnippetManager.prototype.findMatchingSnippet = function (snippetList, before, after) {\n      for (var i = snippetList.length; i--;) {\n        var s = snippetList[i];\n        if (s.startRe && !s.startRe.test(before)) continue;\n        if (s.endRe && !s.endRe.test(after)) continue;\n        if (!s.startRe && !s.endRe) continue;\n        s.matchBefore = s.startRe ? s.startRe.exec(before) : [\"\"];\n        s.matchAfter = s.endRe ? s.endRe.exec(after) : [\"\"];\n        s.replaceBefore = s.triggerRe ? s.triggerRe.exec(before)[0] : \"\";\n        s.replaceAfter = s.endTriggerRe ? s.endTriggerRe.exec(after)[0] : \"\";\n        return s;\n      }\n    };\n    SnippetManager.prototype.register = function (snippets, scope) {\n      var snippetMap = this.snippetMap;\n      var snippetNameMap = this.snippetNameMap;\n      var self = this;\n      if (!snippets) snippets = [];\n      function wrapRegexp(src) {\n        if (src && !/^\\^?\\(.*\\)\\$?$|^\\\\b$/.test(src)) src = \"(?:\" + src + \")\";\n        return src || \"\";\n      }\n      function guardedRegexp(re, guard, opening) {\n        re = wrapRegexp(re);\n        guard = wrapRegexp(guard);\n        if (opening) {\n          re = guard + re;\n          if (re && re[re.length - 1] != \"$\") re = re + \"$\";\n        } else {\n          re = re + guard;\n          if (re && re[0] != \"^\") re = \"^\" + re;\n        }\n        return new RegExp(re);\n      }\n      function addSnippet(s) {\n        if (!s.scope) s.scope = scope || \"_\";\n        scope = s.scope;\n        if (!snippetMap[scope]) {\n          snippetMap[scope] = [];\n          snippetNameMap[scope] = {};\n        }\n        var map = snippetNameMap[scope];\n        if (s.name) {\n          var old = map[s.name];\n          if (old) self.unregister(old);\n          map[s.name] = s;\n        }\n        snippetMap[scope].push(s);\n        if (s.prefix) s.tabTrigger = s.prefix;\n        if (!s.content && s.body) s.content = Array.isArray(s.body) ? s.body.join(\"\\n\") : s.body;\n        if (s.tabTrigger && !s.trigger) {\n          if (!s.guard && /^\\w/.test(s.tabTrigger)) s.guard = \"\\\\b\";\n          s.trigger = lang.escapeRegExp(s.tabTrigger);\n        }\n        if (!s.trigger && !s.guard && !s.endTrigger && !s.endGuard) return;\n        s.startRe = guardedRegexp(s.trigger, s.guard, true);\n        s.triggerRe = new RegExp(s.trigger);\n        s.endRe = guardedRegexp(s.endTrigger, s.endGuard, true);\n        s.endTriggerRe = new RegExp(s.endTrigger);\n      }\n      if (Array.isArray(snippets)) {\n        snippets.forEach(addSnippet);\n      } else {\n        Object.keys(snippets).forEach(function (key) {\n          addSnippet(snippets[key]);\n        });\n      }\n      this._signal(\"registerSnippets\", {\n        scope: scope\n      });\n    };\n    SnippetManager.prototype.unregister = function (snippets, scope) {\n      var snippetMap = this.snippetMap;\n      var snippetNameMap = this.snippetNameMap;\n      function removeSnippet(s) {\n        var nameMap = snippetNameMap[s.scope || scope];\n        if (nameMap && nameMap[s.name]) {\n          delete nameMap[s.name];\n          var map = snippetMap[s.scope || scope];\n          var i = map && map.indexOf(s);\n          if (i >= 0) map.splice(i, 1);\n        }\n      }\n      if (snippets.content) removeSnippet(snippets);else if (Array.isArray(snippets)) snippets.forEach(removeSnippet);\n    };\n    SnippetManager.prototype.parseSnippetFile = function (str) {\n      str = str.replace(/\\r/g, \"\");\n      var list = [],\n        /**@type{Snippet}*/snippet = {};\n      var re = /^#.*|^({[\\s\\S]*})\\s*$|^(\\S+) (.*)$|^((?:\\n*\\t.*)+)/gm;\n      var m;\n      while (m = re.exec(str)) {\n        if (m[1]) {\n          try {\n            snippet = JSON.parse(m[1]);\n            list.push(snippet);\n          } catch (e) {}\n        }\n        if (m[4]) {\n          snippet.content = m[4].replace(/^\\t/gm, \"\");\n          list.push(snippet);\n          snippet = {};\n        } else {\n          var key = m[2],\n            val = m[3];\n          if (key == \"regex\") {\n            var guardRe = /\\/((?:[^\\/\\\\]|\\\\.)*)|$/g;\n            snippet.guard = guardRe.exec(val)[1];\n            snippet.trigger = guardRe.exec(val)[1];\n            snippet.endTrigger = guardRe.exec(val)[1];\n            snippet.endGuard = guardRe.exec(val)[1];\n          } else if (key == \"snippet\") {\n            snippet.tabTrigger = val.match(/^\\S*/)[0];\n            if (!snippet.name) snippet.name = val;\n          } else if (key) {\n            snippet[key] = val;\n          }\n        }\n      }\n      return list;\n    };\n    SnippetManager.prototype.getSnippetByName = function (name, editor) {\n      var snippetMap = this.snippetNameMap;\n      var snippet;\n      this.getActiveScopes(editor).some(function (scope) {\n        var snippets = snippetMap[scope];\n        if (snippets) snippet = snippets[name];\n        return !!snippet;\n      }, this);\n      return snippet;\n    };\n    return SnippetManager;\n  }();\n  oop.implement(SnippetManager.prototype, EventEmitter);\n  var processSnippetText = function (editor, snippetText, options) {\n    if (options === void 0) {\n      options = {};\n    }\n    var cursor = editor.getCursorPosition();\n    var line = editor.session.getLine(cursor.row);\n    var tabString = editor.session.getTabString();\n    var indentString = line.match(/^\\s*/)[0];\n    if (cursor.column < indentString.length) indentString = indentString.slice(0, cursor.column);\n    snippetText = snippetText.replace(/\\r/g, \"\");\n    var tokens = this.tokenizeTmSnippet(snippetText);\n    tokens = this.resolveVariables(tokens, editor);\n    tokens = tokens.map(function (x) {\n      if (x == \"\\n\" && !options.excludeExtraIndent) return x + indentString;\n      if (typeof x == \"string\") return x.replace(/\\t/g, tabString);\n      return x;\n    });\n    var tabstops = [];\n    tokens.forEach(function (p, i) {\n      if (typeof p != \"object\") return;\n      var id = p.tabstopId;\n      var ts = tabstops[id];\n      if (!ts) {\n        ts = tabstops[id] = [];\n        ts.index = id;\n        ts.value = \"\";\n        ts.parents = {};\n      }\n      if (ts.indexOf(p) !== -1) return;\n      if (p.choices && !ts.choices) ts.choices = p.choices;\n      ts.push(p);\n      var i1 = tokens.indexOf(p, i + 1);\n      if (i1 === -1) return;\n      var value = tokens.slice(i + 1, i1);\n      var isNested = value.some(function (t) {\n        return typeof t === \"object\";\n      });\n      if (isNested && !ts.value) {\n        ts.value = value;\n      } else if (value.length && (!ts.value || typeof ts.value !== \"string\")) {\n        ts.value = value.join(\"\");\n      }\n    });\n    tabstops.forEach(function (ts) {\n      ts.length = 0;\n    });\n    var expanding = {};\n    function copyValue(val) {\n      var copy = [];\n      for (var i = 0; i < val.length; i++) {\n        var p = val[i];\n        if (typeof p == \"object\") {\n          if (expanding[p.tabstopId]) continue;\n          var j = val.lastIndexOf(p, i - 1);\n          p = copy[j] || {\n            tabstopId: p.tabstopId\n          };\n        }\n        copy[i] = p;\n      }\n      return copy;\n    }\n    for (var i = 0; i < tokens.length; i++) {\n      var p = tokens[i];\n      if (typeof p != \"object\") continue;\n      var id = p.tabstopId;\n      var ts = tabstops[id];\n      var i1 = tokens.indexOf(p, i + 1);\n      if (expanding[id]) {\n        if (expanding[id] === p) {\n          delete expanding[id];\n          Object.keys(expanding).forEach(function (parentId) {\n            ts.parents[parentId] = true;\n          });\n        }\n        continue;\n      }\n      expanding[id] = p;\n      var value = ts.value;\n      if (typeof value !== \"string\") value = copyValue(value);else if (p.fmt) value = this.tmStrFormat(value, p, editor);\n      tokens.splice.apply(tokens, [i + 1, Math.max(0, i1 - i)].concat(value, p));\n      if (ts.indexOf(p) === -1) ts.push(p);\n    }\n    var row = 0,\n      column = 0;\n    var text = \"\";\n    tokens.forEach(function (t) {\n      if (typeof t === \"string\") {\n        var lines = t.split(\"\\n\");\n        if (lines.length > 1) {\n          column = lines[lines.length - 1].length;\n          row += lines.length - 1;\n        } else column += t.length;\n        text += t;\n      } else if (t) {\n        if (!t.start) t.start = {\n          row: row,\n          column: column\n        };else t.end = {\n          row: row,\n          column: column\n        };\n      }\n    });\n    return {\n      text: text,\n      tabstops: tabstops,\n      tokens: tokens\n    };\n  };\n  var TabstopManager = /** @class */function () {\n    function TabstopManager(editor) {\n      this.index = 0;\n      this.ranges = [];\n      this.tabstops = [];\n      if (editor.tabstopManager) return editor.tabstopManager;\n      editor.tabstopManager = this;\n      this.$onChange = this.onChange.bind(this);\n      this.$onChangeSelection = lang.delayedCall(this.onChangeSelection.bind(this)).schedule;\n      this.$onChangeSession = this.onChangeSession.bind(this);\n      this.$onAfterExec = this.onAfterExec.bind(this);\n      this.attach(editor);\n    }\n    TabstopManager.prototype.attach = function (editor) {\n      this.$openTabstops = null;\n      this.selectedTabstop = null;\n      this.editor = editor;\n      this.session = editor.session;\n      this.editor.on(\"change\", this.$onChange);\n      this.editor.on(\"changeSelection\", this.$onChangeSelection);\n      this.editor.on(\"changeSession\", this.$onChangeSession);\n      this.editor.commands.on(\"afterExec\", this.$onAfterExec);\n      this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler);\n    };\n    TabstopManager.prototype.detach = function () {\n      this.tabstops.forEach(this.removeTabstopMarkers, this);\n      this.ranges.length = 0;\n      this.tabstops.length = 0;\n      this.selectedTabstop = null;\n      this.editor.off(\"change\", this.$onChange);\n      this.editor.off(\"changeSelection\", this.$onChangeSelection);\n      this.editor.off(\"changeSession\", this.$onChangeSession);\n      this.editor.commands.off(\"afterExec\", this.$onAfterExec);\n      this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler);\n      this.editor.tabstopManager = null;\n      this.session = null;\n      this.editor = null;\n    };\n    TabstopManager.prototype.onChange = function (delta) {\n      var isRemove = delta.action[0] == \"r\";\n      var selectedTabstop = this.selectedTabstop || {};\n      var parents = selectedTabstop.parents || {};\n      var tabstops = this.tabstops.slice();\n      for (var i = 0; i < tabstops.length; i++) {\n        var ts = tabstops[i];\n        var active = ts == selectedTabstop || parents[ts.index];\n        ts.rangeList.$bias = active ? 0 : 1;\n        if (delta.action == \"remove\" && ts !== selectedTabstop) {\n          var parentActive = ts.parents && ts.parents[selectedTabstop.index];\n          var startIndex = ts.rangeList.pointIndex(delta.start, parentActive);\n          startIndex = startIndex < 0 ? -startIndex - 1 : startIndex + 1;\n          var endIndex = ts.rangeList.pointIndex(delta.end, parentActive);\n          endIndex = endIndex < 0 ? -endIndex - 1 : endIndex - 1;\n          var toRemove = ts.rangeList.ranges.slice(startIndex, endIndex);\n          for (var j = 0; j < toRemove.length; j++) this.removeRange(toRemove[j]);\n        }\n        ts.rangeList.$onChange(delta);\n      }\n      var session = this.session;\n      if (!this.$inChange && isRemove && session.getLength() == 1 && !session.getValue()) this.detach();\n    };\n    TabstopManager.prototype.updateLinkedFields = function () {\n      var ts = this.selectedTabstop;\n      if (!ts || !ts.hasLinkedRanges || !ts.firstNonLinked) return;\n      this.$inChange = true;\n      var session = this.session;\n      var text = session.getTextRange(ts.firstNonLinked);\n      for (var i = 0; i < ts.length; i++) {\n        var range = ts[i];\n        if (!range.linked) continue;\n        var original = range.original;\n        var fmt = exports.snippetManager.tmStrFormat(text, original, this.editor);\n        session.replace(range, fmt);\n      }\n      this.$inChange = false;\n    };\n    TabstopManager.prototype.onAfterExec = function (e) {\n      if (e.command && !e.command.readOnly) this.updateLinkedFields();\n    };\n    TabstopManager.prototype.onChangeSelection = function () {\n      if (!this.editor) return;\n      var lead = this.editor.selection.lead;\n      var anchor = this.editor.selection.anchor;\n      var isEmpty = this.editor.selection.isEmpty();\n      for (var i = 0; i < this.ranges.length; i++) {\n        if (this.ranges[i].linked) continue;\n        var containsLead = this.ranges[i].contains(lead.row, lead.column);\n        var containsAnchor = isEmpty || this.ranges[i].contains(anchor.row, anchor.column);\n        if (containsLead && containsAnchor) return;\n      }\n      this.detach();\n    };\n    TabstopManager.prototype.onChangeSession = function () {\n      this.detach();\n    };\n    TabstopManager.prototype.tabNext = function (dir) {\n      var max = this.tabstops.length;\n      var index = this.index + (dir || 1);\n      index = Math.min(Math.max(index, 1), max);\n      if (index == max) index = 0;\n      this.selectTabstop(index);\n      this.updateTabstopMarkers();\n      if (index === 0) {\n        this.detach();\n      }\n    };\n    TabstopManager.prototype.selectTabstop = function (index) {\n      this.$openTabstops = null;\n      var ts = this.tabstops[this.index];\n      if (ts) this.addTabstopMarkers(ts);\n      this.index = index;\n      ts = this.tabstops[this.index];\n      if (!ts || !ts.length) return;\n      this.selectedTabstop = ts;\n      var range = ts.firstNonLinked || ts;\n      if (ts.choices) range.cursor = range.start;\n      if (!this.editor.inVirtualSelectionMode) {\n        var sel = this.editor.multiSelect;\n        sel.toSingleRange(range);\n        for (var i = 0; i < ts.length; i++) {\n          if (ts.hasLinkedRanges && ts[i].linked) continue;\n          sel.addRange(ts[i].clone(), true);\n        }\n      } else {\n        this.editor.selection.fromOrientedRange(range);\n      }\n      this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler);\n      if (this.selectedTabstop && this.selectedTabstop.choices) this.editor.execCommand(\"startAutocomplete\", {\n        matches: this.selectedTabstop.choices\n      });\n    };\n    TabstopManager.prototype.addTabstops = function (tabstops, start, end) {\n      var useLink = this.useLink || !this.editor.getOption(\"enableMultiselect\");\n      if (!this.$openTabstops) this.$openTabstops = [];\n      if (!tabstops[0]) {\n        var p = Range.fromPoints(end, end);\n        moveRelative(p.start, start);\n        moveRelative(p.end, start);\n        tabstops[0] = [p];\n        tabstops[0].index = 0;\n      }\n      var i = this.index;\n      var arg = [i + 1, 0];\n      var ranges = this.ranges;\n      var snippetId = this.snippetId = (this.snippetId || 0) + 1;\n      tabstops.forEach(function (ts, index) {\n        var dest = this.$openTabstops[index] || ts;\n        dest.snippetId = snippetId;\n        for (var i = 0; i < ts.length; i++) {\n          var p = ts[i];\n          var range = Range.fromPoints(p.start, p.end || p.start);\n          movePoint(range.start, start);\n          movePoint(range.end, start);\n          range.original = p;\n          range.tabstop = dest;\n          ranges.push(range);\n          if (dest != ts) dest.unshift(range);else dest[i] = range;\n          if (p.fmtString || dest.firstNonLinked && useLink) {\n            range.linked = true;\n            dest.hasLinkedRanges = true;\n          } else if (!dest.firstNonLinked) dest.firstNonLinked = range;\n        }\n        if (!dest.firstNonLinked) dest.hasLinkedRanges = false;\n        if (dest === ts) {\n          arg.push(dest);\n          this.$openTabstops[index] = dest;\n        }\n        this.addTabstopMarkers(dest);\n        dest.rangeList = dest.rangeList || new RangeList();\n        dest.rangeList.$bias = 0;\n        dest.rangeList.addList(dest);\n      }, this);\n      if (arg.length > 2) {\n        if (this.tabstops.length) arg.push(arg.splice(2, 1)[0]);\n        this.tabstops.splice.apply(this.tabstops, arg);\n      }\n    };\n    TabstopManager.prototype.addTabstopMarkers = function (ts) {\n      var session = this.session;\n      ts.forEach(function (range) {\n        if (!range.markerId) range.markerId = session.addMarker(range, \"ace_snippet-marker\", \"text\");\n      });\n    };\n    TabstopManager.prototype.removeTabstopMarkers = function (ts) {\n      var session = this.session;\n      ts.forEach(function (range) {\n        session.removeMarker(range.markerId);\n        range.markerId = null;\n      });\n    };\n    TabstopManager.prototype.updateTabstopMarkers = function () {\n      if (!this.selectedTabstop) return;\n      var currentSnippetId = this.selectedTabstop.snippetId;\n      if (this.selectedTabstop.index === 0) {\n        currentSnippetId--;\n      }\n      this.tabstops.forEach(function (ts) {\n        if (ts.snippetId === currentSnippetId) this.addTabstopMarkers(ts);else this.removeTabstopMarkers(ts);\n      }, this);\n    };\n    TabstopManager.prototype.removeRange = function (range) {\n      var i = range.tabstop.indexOf(range);\n      if (i != -1) range.tabstop.splice(i, 1);\n      i = this.ranges.indexOf(range);\n      if (i != -1) this.ranges.splice(i, 1);\n      i = range.tabstop.rangeList.ranges.indexOf(range);\n      if (i != -1) range.tabstop.splice(i, 1);\n      this.session.removeMarker(range.markerId);\n      if (!range.tabstop.length) {\n        i = this.tabstops.indexOf(range.tabstop);\n        if (i != -1) this.tabstops.splice(i, 1);\n        if (!this.tabstops.length) this.detach();\n      }\n    };\n    return TabstopManager;\n  }();\n  TabstopManager.prototype.keyboardHandler = new HashHandler();\n  TabstopManager.prototype.keyboardHandler.bindKeys({\n    \"Tab\": function (editor) {\n      if (exports.snippetManager && exports.snippetManager.expandWithTab(editor)) return;\n      editor.tabstopManager.tabNext(1);\n      editor.renderer.scrollCursorIntoView();\n    },\n    \"Shift-Tab\": function (editor) {\n      editor.tabstopManager.tabNext(-1);\n      editor.renderer.scrollCursorIntoView();\n    },\n    \"Esc\": function (editor) {\n      editor.tabstopManager.detach();\n    }\n  });\n  var movePoint = function (point, diff) {\n    if (point.row == 0) point.column += diff.column;\n    point.row += diff.row;\n  };\n  var moveRelative = function (point, start) {\n    if (point.row == start.row) point.column -= start.column;\n    point.row -= start.row;\n  };\n  dom.importCssString(\"\\n.ace_snippet-marker {\\n    -moz-box-sizing: border-box;\\n    box-sizing: border-box;\\n    background: rgba(194, 193, 208, 0.09);\\n    border: 1px dotted rgba(211, 208, 235, 0.62);\\n    position: absolute;\\n}\", \"snippets.css\", false);\n  exports.snippetManager = new SnippetManager();\n  var Editor = require(\"./editor\").Editor;\n  (function () {\n    this.insertSnippet = function (content, options) {\n      return exports.snippetManager.insertSnippet(this, content, options);\n    };\n    this.expandSnippet = function (options) {\n      return exports.snippetManager.expandWithTab(this, options);\n    };\n  }).call(Editor.prototype);\n});\nace.define(\"ace/autocomplete/inline_screenreader\", [\"require\", \"exports\", \"module\"], function (require, exports, module) {\n  \"use strict\";\n\n  var AceInlineScreenReader = /** @class */function () {\n    function AceInlineScreenReader(editor) {\n      this.editor = editor;\n      this.screenReaderDiv = document.createElement(\"div\");\n      this.screenReaderDiv.classList.add(\"ace_screenreader-only\");\n      this.editor.container.appendChild(this.screenReaderDiv);\n    }\n    AceInlineScreenReader.prototype.setScreenReaderContent = function (content) {\n      if (!this.popup && this.editor.completer && /**@type{import(\"../autocomplete\").Autocomplete}*/this.editor.completer.popup) {\n        this.popup = /**@type{import(\"../autocomplete\").Autocomplete}*/this.editor.completer.popup;\n        this.popup.renderer.on(\"afterRender\", function () {\n          var row = this.popup.getRow();\n          var t = this.popup.renderer.$textLayer;\n          var selected = t.element.childNodes[row - t.config.firstRow];\n          if (selected) {\n            var idString = \"doc-tooltip \";\n            for (var lineIndex = 0; lineIndex < this._lines.length; lineIndex++) {\n              idString += \"ace-inline-screenreader-line-\".concat(lineIndex, \" \");\n            }\n            selected.setAttribute(\"aria-describedby\", idString);\n          }\n        }.bind(this));\n      }\n      while (this.screenReaderDiv.firstChild) {\n        this.screenReaderDiv.removeChild(this.screenReaderDiv.firstChild);\n      }\n      this._lines = content.split(/\\r\\n|\\r|\\n/);\n      var codeElement = this.createCodeBlock();\n      this.screenReaderDiv.appendChild(codeElement);\n    };\n    AceInlineScreenReader.prototype.destroy = function () {\n      this.screenReaderDiv.remove();\n    };\n    AceInlineScreenReader.prototype.createCodeBlock = function () {\n      var container = document.createElement(\"pre\");\n      container.setAttribute(\"id\", \"ace-inline-screenreader\");\n      for (var lineIndex = 0; lineIndex < this._lines.length; lineIndex++) {\n        var codeElement = document.createElement(\"code\");\n        codeElement.setAttribute(\"id\", \"ace-inline-screenreader-line-\".concat(lineIndex));\n        var line = document.createTextNode(this._lines[lineIndex]);\n        codeElement.appendChild(line);\n        container.appendChild(codeElement);\n      }\n      return container;\n    };\n    return AceInlineScreenReader;\n  }();\n  exports.AceInlineScreenReader = AceInlineScreenReader;\n});\nace.define(\"ace/autocomplete/inline\", [\"require\", \"exports\", \"module\", \"ace/snippets\", \"ace/autocomplete/inline_screenreader\"], function (require, exports, module) {\n  \"use strict\";\n\n  var snippetManager = require(\"../snippets\").snippetManager;\n  var AceInlineScreenReader = require(\"./inline_screenreader\").AceInlineScreenReader;\n  var AceInline = /** @class */function () {\n    function AceInline() {\n      this.editor = null;\n    }\n    AceInline.prototype.show = function (editor, completion, prefix) {\n      prefix = prefix || \"\";\n      if (editor && this.editor && this.editor !== editor) {\n        this.hide();\n        this.editor = null;\n        this.inlineScreenReader = null;\n      }\n      if (!editor || !completion) {\n        return false;\n      }\n      if (!this.inlineScreenReader) {\n        this.inlineScreenReader = new AceInlineScreenReader(editor);\n      }\n      var displayText = completion.snippet ? snippetManager.getDisplayTextForSnippet(editor, completion.snippet) : completion.value;\n      if (completion.hideInlinePreview || !displayText || !displayText.startsWith(prefix)) {\n        return false;\n      }\n      this.editor = editor;\n      this.inlineScreenReader.setScreenReaderContent(displayText);\n      displayText = displayText.slice(prefix.length);\n      if (displayText === \"\") {\n        editor.removeGhostText();\n      } else {\n        editor.setGhostText(displayText);\n      }\n      return true;\n    };\n    AceInline.prototype.isOpen = function () {\n      if (!this.editor) {\n        return false;\n      }\n      return !!this.editor.renderer.$ghostText;\n    };\n    AceInline.prototype.hide = function () {\n      if (!this.editor) {\n        return false;\n      }\n      this.editor.removeGhostText();\n      return true;\n    };\n    AceInline.prototype.destroy = function () {\n      this.hide();\n      this.editor = null;\n      if (this.inlineScreenReader) {\n        this.inlineScreenReader.destroy();\n        this.inlineScreenReader = null;\n      }\n    };\n    return AceInline;\n  }();\n  exports.AceInline = AceInline;\n});\nace.define(\"ace/autocomplete/popup\", [\"require\", \"exports\", \"module\", \"ace/virtual_renderer\", \"ace/editor\", \"ace/range\", \"ace/lib/event\", \"ace/lib/lang\", \"ace/lib/dom\", \"ace/config\", \"ace/lib/useragent\"], function (require, exports, module) {\n  \"use strict\";\n\n  var Renderer = require(\"../virtual_renderer\").VirtualRenderer;\n  var Editor = require(\"../editor\").Editor;\n  var Range = require(\"../range\").Range;\n  var event = require(\"../lib/event\");\n  var lang = require(\"../lib/lang\");\n  var dom = require(\"../lib/dom\");\n  var nls = require(\"../config\").nls;\n  var userAgent = require(\"./../lib/useragent\");\n  var getAriaId = function (index) {\n    return \"suggest-aria-id:\".concat(index);\n  };\n  var popupAriaRole = userAgent.isSafari ? \"menu\" : \"listbox\";\n  var optionAriaRole = userAgent.isSafari ? \"menuitem\" : \"option\";\n  var ariaActiveState = userAgent.isSafari ? \"aria-current\" : \"aria-selected\";\n  var $singleLineEditor = function (el) {\n    var renderer = new Renderer(el);\n    renderer.$maxLines = 4;\n    var editor = new Editor(renderer);\n    editor.setHighlightActiveLine(false);\n    editor.setShowPrintMargin(false);\n    editor.renderer.setShowGutter(false);\n    editor.renderer.setHighlightGutterLine(false);\n    editor.$mouseHandler.$focusTimeout = 0;\n    editor.$highlightTagPending = true;\n    return editor;\n  };\n  var AcePopup = /** @class */function () {\n    function AcePopup(parentNode) {\n      var el = dom.createElement(\"div\");\n      var popup = $singleLineEditor(el);\n      if (parentNode) {\n        parentNode.appendChild(el);\n      }\n      el.style.display = \"none\";\n      popup.renderer.content.style.cursor = \"default\";\n      popup.renderer.setStyle(\"ace_autocomplete\");\n      popup.renderer.$textLayer.element.setAttribute(\"role\", popupAriaRole);\n      popup.renderer.$textLayer.element.setAttribute(\"aria-roledescription\", nls(\"autocomplete.popup.aria-roledescription\", \"Autocomplete suggestions\"));\n      popup.renderer.$textLayer.element.setAttribute(\"aria-label\", nls(\"autocomplete.popup.aria-label\", \"Autocomplete suggestions\"));\n      popup.renderer.textarea.setAttribute(\"aria-hidden\", \"true\");\n      popup.setOption(\"displayIndentGuides\", false);\n      popup.setOption(\"dragDelay\", 150);\n      var noop = function () {};\n      popup.focus = noop;\n      popup.$isFocused = true;\n      popup.renderer.$cursorLayer.restartTimer = noop;\n      popup.renderer.$cursorLayer.element.style.opacity = \"0\";\n      popup.renderer.$maxLines = 8;\n      popup.renderer.$keepTextAreaAtCursor = false;\n      popup.setHighlightActiveLine(false);\n      popup.session.highlight(\"\");\n      popup.session.$searchHighlight.clazz = \"ace_highlight-marker\";\n      popup.on(\"mousedown\", function (e) {\n        var pos = e.getDocumentPosition();\n        popup.selection.moveToPosition(pos);\n        selectionMarker.start.row = selectionMarker.end.row = pos.row;\n        e.stop();\n      });\n      var lastMouseEvent;\n      var hoverMarker = new Range(-1, 0, -1, Infinity);\n      var selectionMarker = new Range(-1, 0, -1, Infinity);\n      selectionMarker.id = popup.session.addMarker(selectionMarker, \"ace_active-line\", \"fullLine\");\n      popup.setSelectOnHover = function (val) {\n        if (!val) {\n          hoverMarker.id = popup.session.addMarker(hoverMarker, \"ace_line-hover\", \"fullLine\");\n        } else if (hoverMarker.id) {\n          popup.session.removeMarker(hoverMarker.id);\n          hoverMarker.id = null;\n        }\n      };\n      popup.setSelectOnHover(false);\n      popup.on(\"mousemove\", function (e) {\n        if (!lastMouseEvent) {\n          lastMouseEvent = e;\n          return;\n        }\n        if (lastMouseEvent.x == e.x && lastMouseEvent.y == e.y) {\n          return;\n        }\n        lastMouseEvent = e;\n        lastMouseEvent.scrollTop = popup.renderer.scrollTop;\n        popup.isMouseOver = true;\n        var row = lastMouseEvent.getDocumentPosition().row;\n        if (hoverMarker.start.row != row) {\n          if (!hoverMarker.id) popup.setRow(row);\n          setHoverMarker(row);\n        }\n      });\n      popup.renderer.on(\"beforeRender\", function () {\n        if (lastMouseEvent && hoverMarker.start.row != -1) {\n          lastMouseEvent.$pos = null;\n          var row = lastMouseEvent.getDocumentPosition().row;\n          if (!hoverMarker.id) popup.setRow(row);\n          setHoverMarker(row, true);\n        }\n      });\n      popup.renderer.on(\"afterRender\", function () {\n        var t = popup.renderer.$textLayer;\n        for (var row = t.config.firstRow, l = t.config.lastRow; row <= l; row++) {\n          var popupRowElement = /** @type {HTMLElement|null} */t.element.childNodes[row - t.config.firstRow];\n          popupRowElement.setAttribute(\"role\", optionAriaRole);\n          popupRowElement.setAttribute(\"aria-roledescription\", nls(\"autocomplete.popup.item.aria-roledescription\", \"item\"));\n          popupRowElement.setAttribute(\"aria-setsize\", popup.data.length);\n          popupRowElement.setAttribute(\"aria-describedby\", \"doc-tooltip\");\n          popupRowElement.setAttribute(\"aria-posinset\", row + 1);\n          var rowData = popup.getData(row);\n          if (rowData) {\n            var ariaLabel = \"\".concat(rowData.caption || rowData.value).concat(rowData.meta ? \", \".concat(rowData.meta) : '');\n            popupRowElement.setAttribute(\"aria-label\", ariaLabel);\n          }\n          var highlightedSpans = popupRowElement.querySelectorAll(\".ace_completion-highlight\");\n          highlightedSpans.forEach(function (span) {\n            span.setAttribute(\"role\", \"mark\");\n          });\n        }\n      });\n      popup.renderer.on(\"afterRender\", function () {\n        var row = popup.getRow();\n        var t = popup.renderer.$textLayer;\n        var selected = /** @type {HTMLElement|null} */t.element.childNodes[row - t.config.firstRow];\n        var el = document.activeElement; // Active element is textarea of main editor\n        if (selected !== popup.selectedNode && popup.selectedNode) {\n          dom.removeCssClass(popup.selectedNode, \"ace_selected\");\n          popup.selectedNode.removeAttribute(ariaActiveState);\n          popup.selectedNode.removeAttribute(\"id\");\n        }\n        el.removeAttribute(\"aria-activedescendant\");\n        popup.selectedNode = selected;\n        if (selected) {\n          var ariaId = getAriaId(row);\n          dom.addCssClass(selected, \"ace_selected\");\n          selected.id = ariaId;\n          t.element.setAttribute(\"aria-activedescendant\", ariaId);\n          el.setAttribute(\"aria-activedescendant\", ariaId);\n          selected.setAttribute(ariaActiveState, \"true\");\n        }\n      });\n      var hideHoverMarker = function () {\n        setHoverMarker(-1);\n      };\n      var setHoverMarker = function (row, suppressRedraw) {\n        if (row !== hoverMarker.start.row) {\n          hoverMarker.start.row = hoverMarker.end.row = row;\n          if (!suppressRedraw) popup.session._emit(\"changeBackMarker\");\n          popup._emit(\"changeHoverMarker\");\n        }\n      };\n      popup.getHoveredRow = function () {\n        return hoverMarker.start.row;\n      };\n      event.addListener(popup.container, \"mouseout\", function () {\n        popup.isMouseOver = false;\n        hideHoverMarker();\n      });\n      popup.on(\"hide\", hideHoverMarker);\n      popup.on(\"changeSelection\", hideHoverMarker);\n      popup.session.doc.getLength = function () {\n        return popup.data.length;\n      };\n      popup.session.doc.getLine = function (i) {\n        var data = popup.data[i];\n        if (typeof data == \"string\") return data;\n        return data && data.value || \"\";\n      };\n      var bgTokenizer = popup.session.bgTokenizer;\n      bgTokenizer.$tokenizeRow = function (row) {\n        var data = popup.data[row];\n        var tokens = [];\n        if (!data) return tokens;\n        if (typeof data == \"string\") data = {\n          value: data\n        };\n        var caption = data.caption || data.value || data.name;\n        function addToken(value, className) {\n          value && tokens.push({\n            type: (data.className || \"\") + (className || \"\"),\n            value: value\n          });\n        }\n        var lower = caption.toLowerCase();\n        var filterText = (popup.filterText || \"\").toLowerCase();\n        var lastIndex = 0;\n        var lastI = 0;\n        for (var i = 0; i <= filterText.length; i++) {\n          if (i != lastI && (data.matchMask & 1 << i || i == filterText.length)) {\n            var sub = filterText.slice(lastI, i);\n            lastI = i;\n            var index = lower.indexOf(sub, lastIndex);\n            if (index == -1) continue;\n            addToken(caption.slice(lastIndex, index), \"\");\n            lastIndex = index + sub.length;\n            addToken(caption.slice(index, lastIndex), \"completion-highlight\");\n          }\n        }\n        addToken(caption.slice(lastIndex, caption.length), \"\");\n        tokens.push({\n          type: \"completion-spacer\",\n          value: \" \"\n        });\n        if (data.meta) tokens.push({\n          type: \"completion-meta\",\n          value: data.meta\n        });\n        if (data.message) tokens.push({\n          type: \"completion-message\",\n          value: data.message\n        });\n        return tokens;\n      };\n      bgTokenizer.$updateOnChange = noop;\n      bgTokenizer.start = noop;\n      popup.session.$computeWidth = function () {\n        return this.screenWidth = 0;\n      };\n      popup.isOpen = false;\n      popup.isTopdown = false;\n      popup.autoSelect = true;\n      popup.filterText = \"\";\n      popup.isMouseOver = false;\n      popup.data = [];\n      popup.setData = function (list, filterText) {\n        popup.filterText = filterText || \"\";\n        popup.setValue(lang.stringRepeat(\"\\n\", list.length), -1);\n        popup.data = list || [];\n        popup.setRow(0);\n      };\n      popup.getData = function (row) {\n        return popup.data[row];\n      };\n      popup.getRow = function () {\n        return selectionMarker.start.row;\n      };\n      popup.setRow = function (line) {\n        line = Math.max(this.autoSelect ? 0 : -1, Math.min(this.data.length - 1, line));\n        if (selectionMarker.start.row != line) {\n          popup.selection.clearSelection();\n          selectionMarker.start.row = selectionMarker.end.row = line || 0;\n          popup.session._emit(\"changeBackMarker\");\n          popup.moveCursorTo(line || 0, 0);\n          if (popup.isOpen) popup._signal(\"select\");\n        }\n      };\n      popup.on(\"changeSelection\", function () {\n        if (popup.isOpen) popup.setRow(popup.selection.lead.row);\n        popup.renderer.scrollCursorIntoView();\n      });\n      popup.hide = function () {\n        this.container.style.display = \"none\";\n        popup.anchorPos = null;\n        popup.anchor = null;\n        if (popup.isOpen) {\n          popup.isOpen = false;\n          this._signal(\"hide\");\n        }\n      };\n      popup.tryShow = function (pos, lineHeight, anchor, forceShow) {\n        if (!forceShow && popup.isOpen && popup.anchorPos && popup.anchor && popup.anchorPos.top === pos.top && popup.anchorPos.left === pos.left && popup.anchor === anchor) {\n          return true;\n        }\n        var el = this.container;\n        var scrollBarSize = this.renderer.scrollBar.width || 10;\n        var screenHeight = window.innerHeight - scrollBarSize;\n        var screenWidth = window.innerWidth - scrollBarSize;\n        var renderer = this.renderer;\n        var maxH = renderer.$maxLines * lineHeight * 1.4;\n        var dims = {\n          top: 0,\n          bottom: 0,\n          left: 0\n        };\n        var spaceBelow = screenHeight - pos.top - 3 * this.$borderSize - lineHeight;\n        var spaceAbove = pos.top - 3 * this.$borderSize;\n        if (!anchor) {\n          if (spaceAbove <= spaceBelow || spaceBelow >= maxH) {\n            anchor = \"bottom\";\n          } else {\n            anchor = \"top\";\n          }\n        }\n        if (anchor === \"top\") {\n          dims.bottom = pos.top - this.$borderSize;\n          dims.top = dims.bottom - maxH;\n        } else if (anchor === \"bottom\") {\n          dims.top = pos.top + lineHeight + this.$borderSize;\n          dims.bottom = dims.top + maxH;\n        }\n        var fitsX = dims.top >= 0 && dims.bottom <= screenHeight;\n        if (!forceShow && !fitsX) {\n          return false;\n        }\n        if (!fitsX) {\n          if (anchor === \"top\") {\n            renderer.$maxPixelHeight = spaceAbove;\n          } else {\n            renderer.$maxPixelHeight = spaceBelow;\n          }\n        } else {\n          renderer.$maxPixelHeight = null;\n        }\n        if (anchor === \"top\") {\n          el.style.top = \"\";\n          el.style.bottom = screenHeight + scrollBarSize - dims.bottom + \"px\";\n          popup.isTopdown = false;\n        } else {\n          el.style.top = dims.top + \"px\";\n          el.style.bottom = \"\";\n          popup.isTopdown = true;\n        }\n        el.style.display = \"\";\n        var left = pos.left;\n        if (left + el.offsetWidth > screenWidth) left = screenWidth - el.offsetWidth;\n        el.style.left = left + \"px\";\n        el.style.right = \"\";\n        if (!popup.isOpen) {\n          popup.isOpen = true;\n          this._signal(\"show\");\n          lastMouseEvent = null;\n        }\n        popup.anchorPos = pos;\n        popup.anchor = anchor;\n        return true;\n      };\n      popup.show = function (pos, lineHeight, topdownOnly) {\n        this.tryShow(pos, lineHeight, topdownOnly ? \"bottom\" : undefined, true);\n      };\n      popup.goTo = function (where) {\n        var row = this.getRow();\n        var max = this.session.getLength() - 1;\n        switch (where) {\n          case \"up\":\n            row = row <= 0 ? max : row - 1;\n            break;\n          case \"down\":\n            row = row >= max ? -1 : row + 1;\n            break;\n          case \"start\":\n            row = 0;\n            break;\n          case \"end\":\n            row = max;\n            break;\n        }\n        this.setRow(row);\n      };\n      popup.getTextLeftOffset = function () {\n        return this.$borderSize + this.renderer.$padding + this.$imageSize;\n      };\n      popup.$imageSize = 0;\n      popup.$borderSize = 1;\n      return popup;\n    }\n    return AcePopup;\n  }();\n  dom.importCssString(\"\\n.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {\\n    background-color: #CAD6FA;\\n    z-index: 1;\\n}\\n.ace_dark.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {\\n    background-color: #3a674e;\\n}\\n.ace_editor.ace_autocomplete .ace_line-hover {\\n    border: 1px solid #abbffe;\\n    margin-top: -1px;\\n    background: rgba(233,233,253,0.4);\\n    position: absolute;\\n    z-index: 2;\\n}\\n.ace_dark.ace_editor.ace_autocomplete .ace_line-hover {\\n    border: 1px solid rgba(109, 150, 13, 0.8);\\n    background: rgba(58, 103, 78, 0.62);\\n}\\n.ace_completion-meta {\\n    opacity: 0.5;\\n    margin-left: 0.9em;\\n}\\n.ace_completion-message {\\n    margin-left: 0.9em;\\n    color: blue;\\n}\\n.ace_editor.ace_autocomplete .ace_completion-highlight{\\n    color: #2d69c7;\\n}\\n.ace_dark.ace_editor.ace_autocomplete .ace_completion-highlight{\\n    color: #93ca12;\\n}\\n.ace_editor.ace_autocomplete {\\n    width: 300px;\\n    z-index: 200000;\\n    border: 1px lightgray solid;\\n    position: fixed;\\n    box-shadow: 2px 3px 5px rgba(0,0,0,.2);\\n    line-height: 1.4;\\n    background: #fefefe;\\n    color: #111;\\n}\\n.ace_dark.ace_editor.ace_autocomplete {\\n    border: 1px #484747 solid;\\n    box-shadow: 2px 3px 5px rgba(0, 0, 0, 0.51);\\n    line-height: 1.4;\\n    background: #25282c;\\n    color: #c1c1c1;\\n}\\n.ace_autocomplete .ace_text-layer  {\\n    width: calc(100% - 8px);\\n}\\n.ace_autocomplete .ace_line {\\n    display: flex;\\n    align-items: center;\\n}\\n.ace_autocomplete .ace_line > * {\\n    min-width: 0;\\n    flex: 0 0 auto;\\n}\\n.ace_autocomplete .ace_line .ace_ {\\n    flex: 0 1 auto;\\n    overflow: hidden;\\n    text-overflow: ellipsis;\\n}\\n.ace_autocomplete .ace_completion-spacer {\\n    flex: 1;\\n}\\n.ace_autocomplete.ace_loading:after  {\\n    content: \\\"\\\";\\n    position: absolute;\\n    top: 0px;\\n    height: 2px;\\n    width: 8%;\\n    background: blue;\\n    z-index: 100;\\n    animation: ace_progress 3s infinite linear;\\n    animation-delay: 300ms;\\n    transform: translateX(-100%) scaleX(1);\\n}\\n@keyframes ace_progress {\\n    0% { transform: translateX(-100%) scaleX(1) }\\n    50% { transform: translateX(625%) scaleX(2) } \\n    100% { transform: translateX(1500%) scaleX(3) } \\n}\\n@media (prefers-reduced-motion) {\\n    .ace_autocomplete.ace_loading:after {\\n        transform: translateX(625%) scaleX(2);\\n        animation: none;\\n     }\\n}\\n\", \"autocompletion.css\", false);\n  exports.AcePopup = AcePopup;\n  exports.$singleLineEditor = $singleLineEditor;\n  exports.getAriaId = getAriaId;\n});\nace.define(\"ace/autocomplete/util\", [\"require\", \"exports\", \"module\"], function (require, exports, module) {\n  \"use strict\";\n\n  exports.parForEach = function (array, fn, callback) {\n    var completed = 0;\n    var arLength = array.length;\n    if (arLength === 0) callback();\n    for (var i = 0; i < arLength; i++) {\n      fn(array[i], function (result, err) {\n        completed++;\n        if (completed === arLength) callback(result, err);\n      });\n    }\n  };\n  var ID_REGEX = /[a-zA-Z_0-9\\$\\-\\u00A2-\\u2000\\u2070-\\uFFFF]/;\n  exports.retrievePrecedingIdentifier = function (text, pos, regex) {\n    regex = regex || ID_REGEX;\n    var buf = [];\n    for (var i = pos - 1; i >= 0; i--) {\n      if (regex.test(text[i])) buf.push(text[i]);else break;\n    }\n    return buf.reverse().join(\"\");\n  };\n  exports.retrieveFollowingIdentifier = function (text, pos, regex) {\n    regex = regex || ID_REGEX;\n    var buf = [];\n    for (var i = pos; i < text.length; i++) {\n      if (regex.test(text[i])) buf.push(text[i]);else break;\n    }\n    return buf;\n  };\n  exports.getCompletionPrefix = function (editor) {\n    var pos = editor.getCursorPosition();\n    var line = editor.session.getLine(pos.row);\n    var prefix;\n    editor.completers.forEach(function (completer) {\n      if (completer.identifierRegexps) {\n        completer.identifierRegexps.forEach(function (identifierRegex) {\n          if (!prefix && identifierRegex) prefix = this.retrievePrecedingIdentifier(line, pos.column, identifierRegex);\n        }.bind(this));\n      }\n    }.bind(this));\n    return prefix || this.retrievePrecedingIdentifier(line, pos.column);\n  };\n  exports.triggerAutocomplete = function (editor, previousChar) {\n    var previousChar = previousChar == null ? editor.session.getPrecedingCharacter() : previousChar;\n    return editor.completers.some(function (completer) {\n      if (completer.triggerCharacters && Array.isArray(completer.triggerCharacters)) {\n        return completer.triggerCharacters.includes(previousChar);\n      }\n    });\n  };\n});\nace.define(\"ace/autocomplete\", [\"require\", \"exports\", \"module\", \"ace/keyboard/hash_handler\", \"ace/autocomplete/popup\", \"ace/autocomplete/inline\", \"ace/autocomplete/popup\", \"ace/autocomplete/util\", \"ace/lib/lang\", \"ace/lib/dom\", \"ace/snippets\", \"ace/config\", \"ace/lib/event\", \"ace/lib/scroll\"], function (require, exports, module) {\n  \"use strict\";\n\n  var HashHandler = require(\"./keyboard/hash_handler\").HashHandler;\n  var AcePopup = require(\"./autocomplete/popup\").AcePopup;\n  var AceInline = require(\"./autocomplete/inline\").AceInline;\n  var getAriaId = require(\"./autocomplete/popup\").getAriaId;\n  var util = require(\"./autocomplete/util\");\n  var lang = require(\"./lib/lang\");\n  var dom = require(\"./lib/dom\");\n  var snippetManager = require(\"./snippets\").snippetManager;\n  var config = require(\"./config\");\n  var event = require(\"./lib/event\");\n  var preventParentScroll = require(\"./lib/scroll\").preventParentScroll;\n  var destroyCompleter = function (e, editor) {\n    editor.completer && editor.completer.destroy();\n  };\n  var Autocomplete = /** @class */function () {\n    function Autocomplete() {\n      this.autoInsert = false;\n      this.autoSelect = true;\n      this.autoShown = false;\n      this.exactMatch = false;\n      this.inlineEnabled = false;\n      this.keyboardHandler = new HashHandler();\n      this.keyboardHandler.bindKeys(this.commands);\n      this.parentNode = null;\n      this.setSelectOnHover = false;\n      this.hasSeen = new Set();\n      this.showLoadingState = false;\n      this.stickySelectionDelay = 500;\n      this.blurListener = this.blurListener.bind(this);\n      this.changeListener = this.changeListener.bind(this);\n      this.mousedownListener = this.mousedownListener.bind(this);\n      this.mousewheelListener = this.mousewheelListener.bind(this);\n      this.onLayoutChange = this.onLayoutChange.bind(this);\n      this.changeTimer = lang.delayedCall(function () {\n        this.updateCompletions(true);\n      }.bind(this));\n      this.tooltipTimer = lang.delayedCall(this.updateDocTooltip.bind(this), 50);\n      this.popupTimer = lang.delayedCall(this.$updatePopupPosition.bind(this), 50);\n      this.stickySelectionTimer = lang.delayedCall(function () {\n        this.stickySelection = true;\n      }.bind(this), this.stickySelectionDelay);\n      this.$firstOpenTimer = lang.delayedCall(/**@this{Autocomplete}*/function () {\n        var initialPosition = this.completionProvider && this.completionProvider.initialPosition;\n        if (this.autoShown || this.popup && this.popup.isOpen || !initialPosition || this.editor.completers.length === 0) return;\n        this.completions = new FilteredList(Autocomplete.completionsForLoading);\n        this.openPopup(this.editor, initialPosition.prefix, false);\n        this.popup.renderer.setStyle(\"ace_loading\", true);\n      }.bind(this), this.stickySelectionDelay);\n    }\n    Object.defineProperty(Autocomplete, \"completionsForLoading\", {\n      get: function () {\n        return [{\n          caption: config.nls(\"autocomplete.loading\", \"Loading...\"),\n          value: \"\"\n        }];\n      },\n      enumerable: false,\n      configurable: true\n    });\n    Autocomplete.prototype.$init = function () {\n      this.popup = new AcePopup(this.parentNode || document.body || document.documentElement);\n      this.popup.on(\"click\", function (e) {\n        this.insertMatch();\n        e.stop();\n      }.bind(this));\n      this.popup.focus = this.editor.focus.bind(this.editor);\n      this.popup.on(\"show\", this.$onPopupShow.bind(this));\n      this.popup.on(\"hide\", this.$onHidePopup.bind(this));\n      this.popup.on(\"select\", this.$onPopupChange.bind(this));\n      event.addListener(this.popup.container, \"mouseout\", this.mouseOutListener.bind(this));\n      this.popup.on(\"changeHoverMarker\", this.tooltipTimer.bind(null, null));\n      this.popup.renderer.on(\"afterRender\", this.$onPopupRender.bind(this));\n      return this.popup;\n    };\n    Autocomplete.prototype.$initInline = function () {\n      if (!this.inlineEnabled || this.inlineRenderer) return;\n      this.inlineRenderer = new AceInline();\n      return this.inlineRenderer;\n    };\n    Autocomplete.prototype.getPopup = function () {\n      return this.popup || this.$init();\n    };\n    Autocomplete.prototype.$onHidePopup = function () {\n      if (this.inlineRenderer) {\n        this.inlineRenderer.hide();\n      }\n      this.hideDocTooltip();\n      this.stickySelectionTimer.cancel();\n      this.popupTimer.cancel();\n      this.stickySelection = false;\n    };\n    Autocomplete.prototype.$seen = function (completion) {\n      if (!this.hasSeen.has(completion) && completion && completion.completer && completion.completer.onSeen && typeof completion.completer.onSeen === \"function\") {\n        completion.completer.onSeen(this.editor, completion);\n        this.hasSeen.add(completion);\n      }\n    };\n    Autocomplete.prototype.$onPopupChange = function (hide) {\n      if (this.inlineRenderer && this.inlineEnabled) {\n        var completion = hide ? null : this.popup.getData(this.popup.getRow());\n        this.$updateGhostText(completion);\n        if (this.popup.isMouseOver && this.setSelectOnHover) {\n          this.tooltipTimer.call(null, null);\n          return;\n        }\n        this.popupTimer.schedule();\n        this.tooltipTimer.schedule();\n      } else {\n        this.popupTimer.call(null, null);\n        this.tooltipTimer.call(null, null);\n      }\n    };\n    Autocomplete.prototype.$updateGhostText = function (completion) {\n      var row = this.base.row;\n      var column = this.base.column;\n      var cursorColumn = this.editor.getCursorPosition().column;\n      var prefix = this.editor.session.getLine(row).slice(column, cursorColumn);\n      if (!this.inlineRenderer.show(this.editor, completion, prefix)) {\n        this.inlineRenderer.hide();\n      } else {\n        this.$seen(completion);\n      }\n    };\n    Autocomplete.prototype.$onPopupRender = function () {\n      var inlineEnabled = this.inlineRenderer && this.inlineEnabled;\n      if (this.completions && this.completions.filtered && this.completions.filtered.length > 0) {\n        for (var i = this.popup.getFirstVisibleRow(); i <= this.popup.getLastVisibleRow(); i++) {\n          var completion = this.popup.getData(i);\n          if (completion && (!inlineEnabled || completion.hideInlinePreview)) {\n            this.$seen(completion);\n          }\n        }\n      }\n    };\n    Autocomplete.prototype.$onPopupShow = function (hide) {\n      this.$onPopupChange(hide);\n      this.stickySelection = false;\n      if (this.stickySelectionDelay >= 0) this.stickySelectionTimer.schedule(this.stickySelectionDelay);\n    };\n    Autocomplete.prototype.observeLayoutChanges = function () {\n      if (this.$elements || !this.editor) return;\n      window.addEventListener(\"resize\", this.onLayoutChange, {\n        passive: true\n      });\n      window.addEventListener(\"wheel\", this.mousewheelListener);\n      var el = this.editor.container.parentNode;\n      var elements = [];\n      while (el) {\n        elements.push(el);\n        el.addEventListener(\"scroll\", this.onLayoutChange, {\n          passive: true\n        });\n        el = el.parentNode;\n      }\n      this.$elements = elements;\n    };\n    Autocomplete.prototype.unObserveLayoutChanges = function () {\n      var _this = this;\n      window.removeEventListener(\"resize\", this.onLayoutChange, {\n        passive: true\n      });\n      window.removeEventListener(\"wheel\", this.mousewheelListener);\n      this.$elements && this.$elements.forEach(function (el) {\n        el.removeEventListener(\"scroll\", _this.onLayoutChange, {\n          passive: true\n        });\n      });\n      this.$elements = null;\n    };\n    Autocomplete.prototype.onLayoutChange = function () {\n      if (!this.popup.isOpen) return this.unObserveLayoutChanges();\n      this.$updatePopupPosition();\n      this.updateDocTooltip();\n    };\n    Autocomplete.prototype.$updatePopupPosition = function () {\n      var editor = this.editor;\n      var renderer = editor.renderer;\n      var lineHeight = renderer.layerConfig.lineHeight;\n      var pos = renderer.$cursorLayer.getPixelPosition(this.base, true);\n      pos.left -= this.popup.getTextLeftOffset();\n      var rect = editor.container.getBoundingClientRect();\n      pos.top += rect.top - renderer.layerConfig.offset;\n      pos.left += rect.left - editor.renderer.scrollLeft;\n      pos.left += renderer.gutterWidth;\n      var posGhostText = {\n        top: pos.top,\n        left: pos.left\n      };\n      if (renderer.$ghostText && renderer.$ghostTextWidget) {\n        if (this.base.row === renderer.$ghostText.position.row) {\n          posGhostText.top += renderer.$ghostTextWidget.el.offsetHeight;\n        }\n      }\n      var editorContainerBottom = editor.container.getBoundingClientRect().bottom - lineHeight;\n      var lowestPosition = editorContainerBottom < posGhostText.top ? {\n        top: editorContainerBottom,\n        left: posGhostText.left\n      } : posGhostText;\n      if (this.popup.tryShow(lowestPosition, lineHeight, \"bottom\")) {\n        return;\n      }\n      if (this.popup.tryShow(pos, lineHeight, \"top\")) {\n        return;\n      }\n      this.popup.show(pos, lineHeight);\n    };\n    Autocomplete.prototype.openPopup = function (editor, prefix, keepPopupPosition) {\n      this.$firstOpenTimer.cancel();\n      if (!this.popup) this.$init();\n      if (this.inlineEnabled && !this.inlineRenderer) this.$initInline();\n      this.popup.autoSelect = this.autoSelect;\n      this.popup.setSelectOnHover(this.setSelectOnHover);\n      var oldRow = this.popup.getRow();\n      var previousSelectedItem = this.popup.data[oldRow];\n      this.popup.setData(this.completions.filtered, this.completions.filterText);\n      if (this.editor.textInput.setAriaOptions) {\n        this.editor.textInput.setAriaOptions({\n          activeDescendant: getAriaId(this.popup.getRow()),\n          inline: this.inlineEnabled\n        });\n      }\n      editor.keyBinding.addKeyboardHandler(this.keyboardHandler);\n      var newRow;\n      if (this.stickySelection) newRow = this.popup.data.indexOf(previousSelectedItem);\n      if (!newRow || newRow === -1) newRow = 0;\n      this.popup.setRow(this.autoSelect ? newRow : -1);\n      if (newRow === oldRow && previousSelectedItem !== this.completions.filtered[newRow]) this.$onPopupChange();\n      var inlineEnabled = this.inlineRenderer && this.inlineEnabled;\n      if (newRow === oldRow && inlineEnabled) {\n        var completion = this.popup.getData(this.popup.getRow());\n        this.$updateGhostText(completion);\n      }\n      if (!keepPopupPosition) {\n        this.popup.setTheme(editor.getTheme());\n        this.popup.setFontSize(editor.getFontSize());\n        this.$updatePopupPosition();\n        if (this.tooltipNode) {\n          this.updateDocTooltip();\n        }\n      }\n      this.changeTimer.cancel();\n      this.observeLayoutChanges();\n    };\n    Autocomplete.prototype.detach = function () {\n      if (this.editor) {\n        this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler);\n        this.editor.off(\"changeSelection\", this.changeListener);\n        this.editor.off(\"blur\", this.blurListener);\n        this.editor.off(\"mousedown\", this.mousedownListener);\n        this.editor.off(\"mousewheel\", this.mousewheelListener);\n      }\n      this.$firstOpenTimer.cancel();\n      this.changeTimer.cancel();\n      this.hideDocTooltip();\n      if (this.completionProvider) {\n        this.completionProvider.detach();\n      }\n      if (this.popup && this.popup.isOpen) this.popup.hide();\n      if (this.popup && this.popup.renderer) {\n        this.popup.renderer.off(\"afterRender\", this.$onPopupRender);\n      }\n      if (this.base) this.base.detach();\n      this.activated = false;\n      this.completionProvider = this.completions = this.base = null;\n      this.unObserveLayoutChanges();\n    };\n    Autocomplete.prototype.changeListener = function (e) {\n      var cursor = this.editor.selection.lead;\n      if (cursor.row != this.base.row || cursor.column < this.base.column) {\n        this.detach();\n      }\n      if (this.activated) this.changeTimer.schedule();else this.detach();\n    };\n    Autocomplete.prototype.blurListener = function (e) {\n      var el = document.activeElement;\n      var text = this.editor.textInput.getElement();\n      var fromTooltip = e.relatedTarget && this.tooltipNode && this.tooltipNode.contains(e.relatedTarget);\n      var container = this.popup && this.popup.container;\n      if (el != text && el.parentNode != container && !fromTooltip && el != this.tooltipNode && e.relatedTarget != text) {\n        this.detach();\n      }\n    };\n    Autocomplete.prototype.mousedownListener = function (e) {\n      this.detach();\n    };\n    Autocomplete.prototype.mousewheelListener = function (e) {\n      if (this.popup && !this.popup.isMouseOver) this.detach();\n    };\n    Autocomplete.prototype.mouseOutListener = function (e) {\n      if (this.popup.isOpen) this.$updatePopupPosition();\n    };\n    Autocomplete.prototype.goTo = function (where) {\n      this.popup.goTo(where);\n    };\n    Autocomplete.prototype.insertMatch = function (data, options) {\n      if (!data) data = this.popup.getData(this.popup.getRow());\n      if (!data) return false;\n      if (data.value === \"\")\n        // Explicitly given nothing to insert, e.g. \"No suggestion state\"\n        return this.detach();\n      var completions = this.completions;\n      var result = this.getCompletionProvider().insertMatch(this.editor, data, completions.filterText, options);\n      if (this.completions == completions) this.detach();\n      return result;\n    };\n    Autocomplete.prototype.showPopup = function (editor, options) {\n      if (this.editor) this.detach();\n      this.activated = true;\n      this.editor = editor;\n      if (editor.completer != this) {\n        if (editor.completer) editor.completer.detach();\n        editor.completer = this;\n      }\n      editor.on(\"changeSelection\", this.changeListener);\n      editor.on(\"blur\", this.blurListener);\n      editor.on(\"mousedown\", this.mousedownListener);\n      editor.on(\"mousewheel\", this.mousewheelListener);\n      this.updateCompletions(false, options);\n    };\n    Autocomplete.prototype.getCompletionProvider = function (initialPosition) {\n      if (!this.completionProvider) this.completionProvider = new CompletionProvider(initialPosition);\n      return this.completionProvider;\n    };\n    Autocomplete.prototype.gatherCompletions = function (editor, callback) {\n      return this.getCompletionProvider().gatherCompletions(editor, callback);\n    };\n    Autocomplete.prototype.updateCompletions = function (keepPopupPosition, options) {\n      if (keepPopupPosition && this.base && this.completions) {\n        var pos = this.editor.getCursorPosition();\n        var prefix = this.editor.session.getTextRange({\n          start: this.base,\n          end: pos\n        });\n        if (prefix == this.completions.filterText) return;\n        this.completions.setFilter(prefix);\n        if (!this.completions.filtered.length) return this.detach();\n        if (this.completions.filtered.length == 1 && this.completions.filtered[0].value == prefix && !this.completions.filtered[0].snippet) return this.detach();\n        this.openPopup(this.editor, prefix, keepPopupPosition);\n        return;\n      }\n      if (options && options.matches) {\n        var pos = this.editor.getSelectionRange().start;\n        this.base = this.editor.session.doc.createAnchor(pos.row, pos.column);\n        this.base.$insertRight = true;\n        this.completions = new FilteredList(options.matches);\n        this.getCompletionProvider().completions = this.completions;\n        return this.openPopup(this.editor, \"\", keepPopupPosition);\n      }\n      var session = this.editor.getSession();\n      var pos = this.editor.getCursorPosition();\n      var prefix = util.getCompletionPrefix(this.editor);\n      this.base = session.doc.createAnchor(pos.row, pos.column - prefix.length);\n      this.base.$insertRight = true;\n      var completionOptions = {\n        exactMatch: this.exactMatch,\n        ignoreCaption: this.ignoreCaption\n      };\n      this.getCompletionProvider({\n        prefix: prefix,\n        pos: pos\n      }).provideCompletions(this.editor, completionOptions, function (err, completions, finished) {\n        var filtered = completions.filtered;\n        var prefix = util.getCompletionPrefix(this.editor);\n        this.$firstOpenTimer.cancel();\n        if (finished) {\n          if (!filtered.length) {\n            var emptyMessage = !this.autoShown && this.emptyMessage;\n            if (typeof emptyMessage == \"function\") emptyMessage = this.emptyMessage(prefix);\n            if (emptyMessage) {\n              var completionsForEmpty = [{\n                caption: emptyMessage,\n                value: \"\"\n              }];\n              this.completions = new FilteredList(completionsForEmpty);\n              this.openPopup(this.editor, prefix, keepPopupPosition);\n              this.popup.renderer.setStyle(\"ace_loading\", false);\n              this.popup.renderer.setStyle(\"ace_empty-message\", true);\n              return;\n            }\n            return this.detach();\n          }\n          if (filtered.length == 1 && filtered[0].value == prefix && !filtered[0].snippet) return this.detach();\n          if (this.autoInsert && !this.autoShown && filtered.length == 1) return this.insertMatch(filtered[0]);\n        }\n        this.completions = !finished && this.showLoadingState ? new FilteredList(Autocomplete.completionsForLoading.concat(filtered), completions.filterText) : completions;\n        this.openPopup(this.editor, prefix, keepPopupPosition);\n        this.popup.renderer.setStyle(\"ace_empty-message\", false);\n        this.popup.renderer.setStyle(\"ace_loading\", !finished);\n      }.bind(this));\n      if (this.showLoadingState && !this.autoShown && !(this.popup && this.popup.isOpen)) {\n        this.$firstOpenTimer.delay(this.stickySelectionDelay / 2);\n      }\n    };\n    Autocomplete.prototype.cancelContextMenu = function () {\n      this.editor.$mouseHandler.cancelContextMenu();\n    };\n    Autocomplete.prototype.updateDocTooltip = function () {\n      var popup = this.popup;\n      var all = this.completions && this.completions.filtered;\n      var selected = all && (all[popup.getHoveredRow()] || all[popup.getRow()]);\n      var doc = null;\n      if (!selected || !this.editor || !this.popup.isOpen) return this.hideDocTooltip();\n      var completersLength = this.editor.completers.length;\n      for (var i = 0; i < completersLength; i++) {\n        var completer = this.editor.completers[i];\n        if (completer.getDocTooltip && selected.completerId === completer.id) {\n          doc = completer.getDocTooltip(selected);\n          break;\n        }\n      }\n      if (!doc && typeof selected != \"string\") doc = selected;\n      if (typeof doc == \"string\") doc = {\n        docText: doc\n      };\n      if (!doc || !(doc.docHTML || doc.docText)) return this.hideDocTooltip();\n      this.showDocTooltip(doc);\n    };\n    Autocomplete.prototype.showDocTooltip = function (item) {\n      if (!this.tooltipNode) {\n        this.tooltipNode = dom.createElement(\"div\");\n        this.tooltipNode.style.margin = \"0\";\n        this.tooltipNode.style.pointerEvents = \"auto\";\n        this.tooltipNode.style.overscrollBehavior = \"contain\";\n        this.tooltipNode.tabIndex = -1;\n        this.tooltipNode.onblur = this.blurListener.bind(this);\n        this.tooltipNode.onclick = this.onTooltipClick.bind(this);\n        this.tooltipNode.id = \"doc-tooltip\";\n        this.tooltipNode.setAttribute(\"role\", \"tooltip\");\n        this.tooltipNode.addEventListener(\"wheel\", preventParentScroll);\n      }\n      var theme = this.editor.renderer.theme;\n      this.tooltipNode.className = \"ace_tooltip ace_doc-tooltip \" + (theme.isDark ? \"ace_dark \" : \"\") + (theme.cssClass || \"\");\n      var tooltipNode = this.tooltipNode;\n      if (item.docHTML) {\n        tooltipNode.innerHTML = item.docHTML;\n      } else if (item.docText) {\n        tooltipNode.textContent = item.docText;\n      }\n      if (!tooltipNode.parentNode) this.popup.container.appendChild(this.tooltipNode);\n      var popup = this.popup;\n      var rect = popup.container.getBoundingClientRect();\n      var targetWidth = 400;\n      var targetHeight = 300;\n      var scrollBarSize = popup.renderer.scrollBar.width || 10;\n      var leftSize = rect.left;\n      var rightSize = window.innerWidth - rect.right - scrollBarSize;\n      var topSize = popup.isTopdown ? rect.top : window.innerHeight - scrollBarSize - rect.bottom;\n      var scores = [Math.min(rightSize / targetWidth, 1), Math.min(leftSize / targetWidth, 1), Math.min(topSize / targetHeight * 0.9)];\n      var max = Math.max.apply(Math, scores);\n      var tooltipStyle = tooltipNode.style;\n      tooltipStyle.display = \"block\";\n      if (max == scores[0]) {\n        tooltipStyle.left = rect.right + 1 + \"px\";\n        tooltipStyle.right = \"\";\n        tooltipStyle.maxWidth = targetWidth * max + \"px\";\n        tooltipStyle.top = rect.top + \"px\";\n        tooltipStyle.bottom = \"\";\n        tooltipStyle.maxHeight = Math.min(window.innerHeight - scrollBarSize - rect.top, targetHeight) + \"px\";\n      } else if (max == scores[1]) {\n        tooltipStyle.right = window.innerWidth - rect.left + \"px\";\n        tooltipStyle.left = \"\";\n        tooltipStyle.maxWidth = targetWidth * max + \"px\";\n        tooltipStyle.top = rect.top + \"px\";\n        tooltipStyle.bottom = \"\";\n        tooltipStyle.maxHeight = Math.min(window.innerHeight - scrollBarSize - rect.top, targetHeight) + \"px\";\n      } else if (max == scores[2]) {\n        tooltipStyle.left = window.innerWidth - rect.left + \"px\";\n        tooltipStyle.maxWidth = Math.min(targetWidth, window.innerWidth) + \"px\";\n        if (popup.isTopdown) {\n          tooltipStyle.top = rect.bottom + \"px\";\n          tooltipStyle.left = rect.left + \"px\";\n          tooltipStyle.right = \"\";\n          tooltipStyle.bottom = \"\";\n          tooltipStyle.maxHeight = Math.min(window.innerHeight - scrollBarSize - rect.bottom, targetHeight) + \"px\";\n        } else {\n          tooltipStyle.top = popup.container.offsetTop - tooltipNode.offsetHeight + \"px\";\n          tooltipStyle.left = rect.left + \"px\";\n          tooltipStyle.right = \"\";\n          tooltipStyle.bottom = \"\";\n          tooltipStyle.maxHeight = Math.min(popup.container.offsetTop, targetHeight) + \"px\";\n        }\n      }\n    };\n    Autocomplete.prototype.hideDocTooltip = function () {\n      this.tooltipTimer.cancel();\n      if (!this.tooltipNode) return;\n      var el = this.tooltipNode;\n      if (!this.editor.isFocused() && document.activeElement == el) this.editor.focus();\n      this.tooltipNode = null;\n      if (el.parentNode) el.parentNode.removeChild(el);\n    };\n    Autocomplete.prototype.onTooltipClick = function (e) {\n      var a = e.target;\n      while (a && a != this.tooltipNode) {\n        if (a.nodeName == \"A\" && a.href) {\n          a.rel = \"noreferrer\";\n          a.target = \"_blank\";\n          break;\n        }\n        a = a.parentNode;\n      }\n    };\n    Autocomplete.prototype.destroy = function () {\n      this.detach();\n      if (this.popup) {\n        this.popup.destroy();\n        var el = this.popup.container;\n        if (el && el.parentNode) el.parentNode.removeChild(el);\n      }\n      if (this.editor && this.editor.completer == this) {\n        this.editor.off(\"destroy\", destroyCompleter);\n        this.editor.completer = null;\n      }\n      this.inlineRenderer = this.popup = this.editor = null;\n    };\n    Autocomplete.for = function (editor) {\n      if (editor.completer instanceof Autocomplete) {\n        return editor.completer;\n      }\n      if (editor.completer) {\n        editor.completer.destroy();\n        editor.completer = null;\n      }\n      if (config.get(\"sharedPopups\")) {\n        if (!Autocomplete[\"$sharedInstance\"]) Autocomplete[\"$sharedInstance\"] = new Autocomplete();\n        editor.completer = Autocomplete[\"$sharedInstance\"];\n      } else {\n        editor.completer = new Autocomplete();\n        editor.once(\"destroy\", destroyCompleter);\n      }\n      return editor.completer;\n    };\n    return Autocomplete;\n  }();\n  Autocomplete.prototype.commands = {\n    \"Up\": function (editor) {\n      editor.completer.goTo(\"up\");\n    },\n    \"Down\": function (editor) {\n      editor.completer.goTo(\"down\");\n    },\n    \"Ctrl-Up|Ctrl-Home\": function (editor) {\n      editor.completer.goTo(\"start\");\n    },\n    \"Ctrl-Down|Ctrl-End\": function (editor) {\n      editor.completer.goTo(\"end\");\n    },\n    \"Esc\": function (editor) {\n      editor.completer.detach();\n    },\n    \"Return\": function (editor) {\n      return editor.completer.insertMatch();\n    },\n    \"Shift-Return\": function (editor) {\n      editor.completer.insertMatch(null, {\n        deleteSuffix: true\n      });\n    },\n    \"Tab\": function (editor) {\n      var result = editor.completer.insertMatch();\n      if (!result && !editor.tabstopManager) editor.completer.goTo(\"down\");else return result;\n    },\n    \"Backspace\": function (editor) {\n      editor.execCommand(\"backspace\");\n      var prefix = util.getCompletionPrefix(editor);\n      if (!prefix && editor.completer) editor.completer.detach();\n    },\n    \"PageUp\": function (editor) {\n      editor.completer.popup.gotoPageUp();\n    },\n    \"PageDown\": function (editor) {\n      editor.completer.popup.gotoPageDown();\n    }\n  };\n  Autocomplete.startCommand = {\n    name: \"startAutocomplete\",\n    exec: function (editor, options) {\n      var completer = Autocomplete.for(editor);\n      completer.autoInsert = false;\n      completer.autoSelect = true;\n      completer.autoShown = false;\n      completer.showPopup(editor, options);\n      completer.cancelContextMenu();\n    },\n    bindKey: \"Ctrl-Space|Ctrl-Shift-Space|Alt-Space\"\n  };\n  var CompletionProvider = /** @class */function () {\n    function CompletionProvider(initialPosition) {\n      this.initialPosition = initialPosition;\n      this.active = true;\n    }\n    CompletionProvider.prototype.insertByIndex = function (editor, index, options) {\n      if (!this.completions || !this.completions.filtered) {\n        return false;\n      }\n      return this.insertMatch(editor, this.completions.filtered[index], options);\n    };\n    CompletionProvider.prototype.insertMatch = function (editor, data, options) {\n      if (!data) return false;\n      editor.startOperation({\n        command: {\n          name: \"insertMatch\"\n        }\n      });\n      if (data.completer && data.completer.insertMatch) {\n        data.completer.insertMatch(editor, data);\n      } else {\n        if (!this.completions) return false;\n        var replaceBefore = this.completions.filterText.length;\n        var replaceAfter = 0;\n        if (data.range && data.range.start.row === data.range.end.row) {\n          replaceBefore -= this.initialPosition.prefix.length;\n          replaceBefore += this.initialPosition.pos.column - data.range.start.column;\n          replaceAfter += data.range.end.column - this.initialPosition.pos.column;\n        }\n        if (replaceBefore || replaceAfter) {\n          var ranges;\n          if (editor.selection.getAllRanges) {\n            ranges = editor.selection.getAllRanges();\n          } else {\n            ranges = [editor.getSelectionRange()];\n          }\n          for (var i = 0, range; range = ranges[i]; i++) {\n            range.start.column -= replaceBefore;\n            range.end.column += replaceAfter;\n            editor.session.remove(range);\n          }\n        }\n        if (data.snippet) {\n          snippetManager.insertSnippet(editor, data.snippet);\n        } else {\n          this.$insertString(editor, data);\n        }\n        if (data.completer && data.completer.onInsert && typeof data.completer.onInsert == \"function\") {\n          data.completer.onInsert(editor, data);\n        }\n        if (data.command && data.command === \"startAutocomplete\") {\n          editor.execCommand(data.command);\n        }\n      }\n      editor.endOperation();\n      return true;\n    };\n    CompletionProvider.prototype.$insertString = function (editor, data) {\n      var text = data.value || data;\n      editor.execCommand(\"insertstring\", text);\n    };\n    CompletionProvider.prototype.gatherCompletions = function (editor, callback) {\n      var session = editor.getSession();\n      var pos = editor.getCursorPosition();\n      var prefix = util.getCompletionPrefix(editor);\n      var matches = [];\n      this.completers = editor.completers;\n      var total = editor.completers.length;\n      editor.completers.forEach(function (completer, i) {\n        completer.getCompletions(editor, session, pos, prefix, function (err, results) {\n          if (completer.hideInlinePreview) results = results.map(function (result) {\n            return Object.assign(result, {\n              hideInlinePreview: completer.hideInlinePreview\n            });\n          });\n          if (!err && results) matches = matches.concat(results);\n          callback(null, {\n            prefix: util.getCompletionPrefix(editor),\n            matches: matches,\n            finished: --total === 0\n          });\n        });\n      });\n      return true;\n    };\n    CompletionProvider.prototype.provideCompletions = function (editor, options, callback) {\n      var processResults = function (results) {\n        var prefix = results.prefix;\n        var matches = results.matches;\n        this.completions = new FilteredList(matches);\n        if (options.exactMatch) this.completions.exactMatch = true;\n        if (options.ignoreCaption) this.completions.ignoreCaption = true;\n        this.completions.setFilter(prefix);\n        if (results.finished || this.completions.filtered.length) callback(null, this.completions, results.finished);\n      }.bind(this);\n      var isImmediate = true;\n      var immediateResults = null;\n      this.gatherCompletions(editor, function (err, results) {\n        if (!this.active) {\n          return;\n        }\n        if (err) {\n          callback(err, [], true);\n          this.detach();\n        }\n        var prefix = results.prefix;\n        if (prefix.indexOf(results.prefix) !== 0) return;\n        if (isImmediate) {\n          immediateResults = results;\n          return;\n        }\n        processResults(results);\n      }.bind(this));\n      isImmediate = false;\n      if (immediateResults) {\n        var results = immediateResults;\n        immediateResults = null;\n        processResults(results);\n      }\n    };\n    CompletionProvider.prototype.detach = function () {\n      this.active = false;\n      this.completers && this.completers.forEach(function (completer) {\n        if (typeof completer.cancel === \"function\") {\n          completer.cancel();\n        }\n      });\n    };\n    return CompletionProvider;\n  }();\n  var FilteredList = /** @class */function () {\n    function FilteredList(array, filterText) {\n      this.all = array;\n      this.filtered = array;\n      this.filterText = filterText || \"\";\n      this.exactMatch = false;\n      this.ignoreCaption = false;\n    }\n    FilteredList.prototype.setFilter = function (str) {\n      if (str.length > this.filterText && str.lastIndexOf(this.filterText, 0) === 0) var matches = this.filtered;else var matches = this.all;\n      this.filterText = str;\n      matches = this.filterCompletions(matches, this.filterText);\n      matches = matches.sort(function (a, b) {\n        return b.exactMatch - a.exactMatch || b.$score - a.$score || (a.caption || a.value).localeCompare(b.caption || b.value);\n      });\n      var prev = null;\n      matches = matches.filter(function (item) {\n        var caption = item.snippet || item.caption || item.value;\n        if (caption === prev) return false;\n        prev = caption;\n        return true;\n      });\n      this.filtered = matches;\n    };\n    FilteredList.prototype.filterCompletions = function (items, needle) {\n      var results = [];\n      var upper = needle.toUpperCase();\n      var lower = needle.toLowerCase();\n      loop: for (var i = 0, item; item = items[i]; i++) {\n        if (item.skipFilter) {\n          item.$score = item.score;\n          results.push(item);\n          continue;\n        }\n        var caption = !this.ignoreCaption && item.caption || item.value || item.snippet;\n        if (!caption) continue;\n        var lastIndex = -1;\n        var matchMask = 0;\n        var penalty = 0;\n        var index, distance;\n        if (this.exactMatch) {\n          if (needle !== caption.substr(0, needle.length)) continue loop;\n        } else {\n          var fullMatchIndex = caption.toLowerCase().indexOf(lower);\n          if (fullMatchIndex > -1) {\n            penalty = fullMatchIndex;\n          } else {\n            for (var j = 0; j < needle.length; j++) {\n              var i1 = caption.indexOf(lower[j], lastIndex + 1);\n              var i2 = caption.indexOf(upper[j], lastIndex + 1);\n              index = i1 >= 0 ? i2 < 0 || i1 < i2 ? i1 : i2 : i2;\n              if (index < 0) continue loop;\n              distance = index - lastIndex - 1;\n              if (distance > 0) {\n                if (lastIndex === -1) penalty += 10;\n                penalty += distance;\n                matchMask = matchMask | 1 << j;\n              }\n              lastIndex = index;\n            }\n          }\n        }\n        item.matchMask = matchMask;\n        item.exactMatch = penalty ? 0 : 1;\n        item.$score = (item.score || 0) - penalty;\n        results.push(item);\n      }\n      return results;\n    };\n    return FilteredList;\n  }();\n  exports.Autocomplete = Autocomplete;\n  exports.CompletionProvider = CompletionProvider;\n  exports.FilteredList = FilteredList;\n});\nace.define(\"ace/ext/command_bar\", [\"require\", \"exports\", \"module\", \"ace/tooltip\", \"ace/lib/event_emitter\", \"ace/lib/lang\", \"ace/lib/dom\", \"ace/lib/oop\", \"ace/lib/useragent\"], function (require, exports, module) {\n  /**\n  * ## Command Bar extension.\n  *\n  * Provides an interactive command bar tooltip that displays above the editor's active line. The extension enables\n  * clickable commands with keyboard shortcuts, icons, and various button types including standard buttons, checkboxes,\n  * and text elements. Supports overflow handling with a secondary tooltip for additional commands when space is limited.\n  * The tooltip can be configured to always show or display only on mouse hover over the active line.\n  *\n  * @module\n  */\n  var __values = this && this.__values || function (o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator,\n      m = s && o[s],\n      i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n      next: function () {\n        if (o && i >= o.length) o = void 0;\n        return {\n          value: o && o[i++],\n          done: !o\n        };\n      }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n  };\n  var Tooltip = require(\"../tooltip\").Tooltip;\n  var EventEmitter = require(\"../lib/event_emitter\").EventEmitter;\n  var lang = require(\"../lib/lang\");\n  var dom = require(\"../lib/dom\");\n  var oop = require(\"../lib/oop\");\n  var useragent = require(\"../lib/useragent\");\n  var BUTTON_CLASS_NAME = 'command_bar_tooltip_button';\n  var VALUE_CLASS_NAME = 'command_bar_button_value';\n  var CAPTION_CLASS_NAME = 'command_bar_button_caption';\n  var KEYBINDING_CLASS_NAME = 'command_bar_keybinding';\n  var TOOLTIP_CLASS_NAME = 'command_bar_tooltip';\n  var MORE_OPTIONS_BUTTON_ID = 'MoreOptionsButton';\n  var defaultDelay = 100;\n  var defaultMaxElements = 4;\n  var minPosition = function (posA, posB) {\n    if (posB.row > posA.row) {\n      return posA;\n    } else if (posB.row === posA.row && posB.column > posA.column) {\n      return posA;\n    }\n    return posB;\n  };\n  var keyDisplayMap = {\n    \"Ctrl\": {\n      mac: \"^\"\n    },\n    \"Option\": {\n      mac: \"⌥\"\n    },\n    \"Command\": {\n      mac: \"⌘\"\n    },\n    \"Cmd\": {\n      mac: \"⌘\"\n    },\n    \"Shift\": \"⇧\",\n    \"Left\": \"←\",\n    \"Right\": \"→\",\n    \"Up\": \"↑\",\n    \"Down\": \"↓\"\n  };\n  var CommandBarTooltip = /** @class */function () {\n    function CommandBarTooltip(parentNode, options) {\n      var e_1, _a;\n      options = options || {};\n      this.parentNode = parentNode;\n      this.tooltip = new Tooltip(this.parentNode);\n      this.moreOptions = new Tooltip(this.parentNode);\n      this.maxElementsOnTooltip = options.maxElementsOnTooltip || defaultMaxElements;\n      this.$alwaysShow = options.alwaysShow || false;\n      this.eventListeners = {};\n      this.elements = {};\n      this.commands = {};\n      this.tooltipEl = dom.buildDom(['div', {\n        class: TOOLTIP_CLASS_NAME\n      }], this.tooltip.getElement());\n      this.moreOptionsEl = dom.buildDom(['div', {\n        class: TOOLTIP_CLASS_NAME + \" tooltip_more_options\"\n      }], this.moreOptions.getElement());\n      this.$showTooltipTimer = lang.delayedCall(this.$showTooltip.bind(this), options.showDelay || defaultDelay);\n      this.$hideTooltipTimer = lang.delayedCall(this.$hideTooltip.bind(this), options.hideDelay || defaultDelay);\n      this.$tooltipEnter = this.$tooltipEnter.bind(this);\n      this.$onMouseMove = this.$onMouseMove.bind(this);\n      this.$onChangeScroll = this.$onChangeScroll.bind(this);\n      this.$onEditorChangeSession = this.$onEditorChangeSession.bind(this);\n      this.$scheduleTooltipForHide = this.$scheduleTooltipForHide.bind(this);\n      this.$preventMouseEvent = this.$preventMouseEvent.bind(this);\n      try {\n        for (var _b = __values([\"mousedown\", \"mouseup\", \"click\"]), _c = _b.next(); !_c.done; _c = _b.next()) {\n          var event = _c.value;\n          this.tooltip.getElement().addEventListener(event, this.$preventMouseEvent);\n          this.moreOptions.getElement().addEventListener(event, this.$preventMouseEvent);\n        }\n      } catch (e_1_1) {\n        e_1 = {\n          error: e_1_1\n        };\n      } finally {\n        try {\n          if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n        } finally {\n          if (e_1) throw e_1.error;\n        }\n      }\n    }\n    CommandBarTooltip.prototype.registerCommand = function (id, command) {\n      var registerForMainTooltip = Object.keys(this.commands).length < this.maxElementsOnTooltip;\n      if (!registerForMainTooltip && !this.elements[MORE_OPTIONS_BUTTON_ID]) {\n        this.$createCommand(MORE_OPTIONS_BUTTON_ID, {\n          name: \"···\",\n          exec: function () {\n            this.$shouldHideMoreOptions = false;\n            this.$setMoreOptionsVisibility(!this.isMoreOptionsShown());\n          }.bind(this),\n          type: \"checkbox\",\n          getValue: function () {\n            return this.isMoreOptionsShown();\n          }.bind(this),\n          enabled: true\n        }, true);\n      }\n      this.$createCommand(id, command, registerForMainTooltip);\n      if (this.isShown()) {\n        this.updatePosition();\n      }\n    };\n    CommandBarTooltip.prototype.isShown = function () {\n      return !!this.tooltip && this.tooltip.isOpen;\n    };\n    CommandBarTooltip.prototype.isMoreOptionsShown = function () {\n      return !!this.moreOptions && this.moreOptions.isOpen;\n    };\n    CommandBarTooltip.prototype.getAlwaysShow = function () {\n      return this.$alwaysShow;\n    };\n    CommandBarTooltip.prototype.setAlwaysShow = function (alwaysShow) {\n      this.$alwaysShow = alwaysShow;\n      this.$updateOnHoverHandlers(!this.$alwaysShow);\n      this._signal(\"alwaysShow\", this.$alwaysShow);\n    };\n    CommandBarTooltip.prototype.attach = function (editor) {\n      if (!editor || this.isShown() && this.editor === editor) {\n        return;\n      }\n      this.detach();\n      this.editor = editor;\n      this.editor.on(\"changeSession\", this.$onEditorChangeSession);\n      if (this.editor.session) {\n        this.editor.session.on(\"changeScrollLeft\", this.$onChangeScroll);\n        this.editor.session.on(\"changeScrollTop\", this.$onChangeScroll);\n      }\n      if (this.getAlwaysShow()) {\n        this.$showTooltip();\n      } else {\n        this.$updateOnHoverHandlers(true);\n      }\n    };\n    CommandBarTooltip.prototype.updatePosition = function () {\n      if (!this.editor) {\n        return;\n      }\n      var renderer = this.editor.renderer;\n      var ranges;\n      if (this.editor.selection.getAllRanges) {\n        ranges = this.editor.selection.getAllRanges();\n      } else {\n        ranges = [this.editor.getSelectionRange()];\n      }\n      if (!ranges.length) {\n        return;\n      }\n      var minPos = minPosition(ranges[0].start, ranges[0].end);\n      for (var i = 0, range; range = ranges[i]; i++) {\n        minPos = minPosition(minPos, minPosition(range.start, range.end));\n      }\n      var pos = renderer.$cursorLayer.getPixelPosition(minPos, true);\n      var tooltipEl = this.tooltip.getElement();\n      var screenWidth = window.innerWidth;\n      var screenHeight = window.innerHeight;\n      var rect = this.editor.container.getBoundingClientRect();\n      pos.top += rect.top - renderer.layerConfig.offset;\n      pos.left += rect.left + renderer.gutterWidth - renderer.scrollLeft;\n      var cursorVisible = pos.top >= rect.top && pos.top <= rect.bottom && pos.left >= rect.left + renderer.gutterWidth && pos.left <= rect.right;\n      if (!cursorVisible && this.isShown()) {\n        this.$hideTooltip();\n        return;\n      } else if (cursorVisible && !this.isShown() && this.getAlwaysShow()) {\n        this.$showTooltip();\n        return;\n      }\n      var top = pos.top - tooltipEl.offsetHeight;\n      var left = Math.min(screenWidth - tooltipEl.offsetWidth, pos.left);\n      var tooltipFits = top >= 0 && top + tooltipEl.offsetHeight <= screenHeight && left >= 0 && left + tooltipEl.offsetWidth <= screenWidth;\n      if (!tooltipFits) {\n        this.$hideTooltip();\n        return;\n      }\n      this.tooltip.setPosition(left, top);\n      if (this.isMoreOptionsShown()) {\n        top = top + tooltipEl.offsetHeight;\n        left = this.elements[MORE_OPTIONS_BUTTON_ID].getBoundingClientRect().left;\n        var moreOptionsEl = this.moreOptions.getElement();\n        var screenHeight = window.innerHeight;\n        if (top + moreOptionsEl.offsetHeight > screenHeight) {\n          top -= tooltipEl.offsetHeight + moreOptionsEl.offsetHeight;\n        }\n        if (left + moreOptionsEl.offsetWidth > screenWidth) {\n          left = screenWidth - moreOptionsEl.offsetWidth;\n        }\n        this.moreOptions.setPosition(left, top);\n      }\n    };\n    CommandBarTooltip.prototype.update = function () {\n      Object.keys(this.elements).forEach(this.$updateElement.bind(this));\n    };\n    CommandBarTooltip.prototype.detach = function () {\n      this.tooltip.hide();\n      this.moreOptions.hide();\n      this.$updateOnHoverHandlers(false);\n      if (this.editor) {\n        this.editor.off(\"changeSession\", this.$onEditorChangeSession);\n        if (this.editor.session) {\n          this.editor.session.off(\"changeScrollLeft\", this.$onChangeScroll);\n          this.editor.session.off(\"changeScrollTop\", this.$onChangeScroll);\n        }\n      }\n      this.$mouseInTooltip = false;\n      this.editor = null;\n    };\n    CommandBarTooltip.prototype.destroy = function () {\n      if (this.tooltip && this.moreOptions) {\n        this.detach();\n        this.tooltip.destroy();\n        this.moreOptions.destroy();\n      }\n      this.eventListeners = {};\n      this.commands = {};\n      this.elements = {};\n      this.tooltip = this.moreOptions = this.parentNode = null;\n    };\n    CommandBarTooltip.prototype.$createCommand = function (id, command, forMainTooltip) {\n      var parentEl = forMainTooltip ? this.tooltipEl : this.moreOptionsEl;\n      var keyParts = [];\n      var bindKey = command.bindKey;\n      if (bindKey) {\n        if (typeof bindKey === 'object') {\n          bindKey = useragent.isMac ? bindKey.mac : bindKey.win;\n        }\n        bindKey = bindKey.split(\"|\")[0];\n        keyParts = bindKey.split(\"-\");\n        keyParts = keyParts.map(function (key) {\n          if (keyDisplayMap[key]) {\n            if (typeof keyDisplayMap[key] === 'string') {\n              return keyDisplayMap[key];\n            } else if (useragent.isMac && keyDisplayMap[key].mac) {\n              return keyDisplayMap[key].mac;\n            }\n          }\n          return key;\n        });\n      }\n      var buttonNode;\n      if (forMainTooltip && command.iconCssClass) {\n        buttonNode = ['div', {\n          class: [\"ace_icon_svg\", command.iconCssClass].join(\" \"),\n          \"aria-label\": command.name + \" (\" + command.bindKey + \")\"\n        }];\n      } else {\n        buttonNode = [['div', {\n          class: VALUE_CLASS_NAME\n        }], ['div', {\n          class: CAPTION_CLASS_NAME\n        }, command.name]];\n        if (keyParts.length) {\n          buttonNode.push(['div', {\n            class: KEYBINDING_CLASS_NAME\n          }, keyParts.map(function (keyPart) {\n            return ['div', keyPart];\n          })]);\n        }\n      }\n      dom.buildDom(['div', {\n        class: [BUTTON_CLASS_NAME, command.cssClass || \"\"].join(\" \"),\n        ref: id\n      }, buttonNode], parentEl, this.elements);\n      this.commands[id] = command;\n      var eventListener = function (e) {\n        if (this.editor) {\n          this.editor.focus();\n        }\n        this.$shouldHideMoreOptions = this.isMoreOptionsShown();\n        if (!this.elements[id].disabled && command.exec) {\n          command.exec(this.editor);\n        }\n        if (this.$shouldHideMoreOptions) {\n          this.$setMoreOptionsVisibility(false);\n        }\n        this.update();\n        e.preventDefault();\n      }.bind(this);\n      this.eventListeners[id] = eventListener;\n      this.elements[id].addEventListener('click', eventListener.bind(this));\n      this.$updateElement(id);\n    };\n    CommandBarTooltip.prototype.$setMoreOptionsVisibility = function (visible) {\n      if (visible) {\n        this.moreOptions.setTheme(this.editor.renderer.theme);\n        this.moreOptions.setClassName(TOOLTIP_CLASS_NAME + \"_wrapper\");\n        this.moreOptions.show();\n        this.update();\n        this.updatePosition();\n      } else {\n        this.moreOptions.hide();\n      }\n    };\n    CommandBarTooltip.prototype.$onEditorChangeSession = function (e) {\n      if (e.oldSession) {\n        e.oldSession.off(\"changeScrollTop\", this.$onChangeScroll);\n        e.oldSession.off(\"changeScrollLeft\", this.$onChangeScroll);\n      }\n      this.detach();\n    };\n    CommandBarTooltip.prototype.$onChangeScroll = function () {\n      if (this.editor.renderer && (this.isShown() || this.getAlwaysShow())) {\n        this.editor.renderer.once(\"afterRender\", this.updatePosition.bind(this));\n      }\n    };\n    CommandBarTooltip.prototype.$onMouseMove = function (e) {\n      if (this.$mouseInTooltip) {\n        return;\n      }\n      var cursorPosition = this.editor.getCursorPosition();\n      var cursorScreenPosition = this.editor.renderer.textToScreenCoordinates(cursorPosition.row, cursorPosition.column);\n      var lineHeight = this.editor.renderer.lineHeight;\n      var isInCurrentLine = e.clientY >= cursorScreenPosition.pageY && e.clientY < cursorScreenPosition.pageY + lineHeight;\n      if (isInCurrentLine) {\n        if (!this.isShown() && !this.$showTooltipTimer.isPending()) {\n          this.$showTooltipTimer.delay();\n        }\n        if (this.$hideTooltipTimer.isPending()) {\n          this.$hideTooltipTimer.cancel();\n        }\n      } else {\n        if (this.isShown() && !this.$hideTooltipTimer.isPending()) {\n          this.$hideTooltipTimer.delay();\n        }\n        if (this.$showTooltipTimer.isPending()) {\n          this.$showTooltipTimer.cancel();\n        }\n      }\n    };\n    CommandBarTooltip.prototype.$preventMouseEvent = function (e) {\n      if (this.editor) {\n        this.editor.focus();\n      }\n      e.preventDefault();\n    };\n    CommandBarTooltip.prototype.$scheduleTooltipForHide = function () {\n      this.$mouseInTooltip = false;\n      this.$showTooltipTimer.cancel();\n      this.$hideTooltipTimer.delay();\n    };\n    CommandBarTooltip.prototype.$tooltipEnter = function () {\n      this.$mouseInTooltip = true;\n      if (this.$showTooltipTimer.isPending()) {\n        this.$showTooltipTimer.cancel();\n      }\n      if (this.$hideTooltipTimer.isPending()) {\n        this.$hideTooltipTimer.cancel();\n      }\n    };\n    CommandBarTooltip.prototype.$updateOnHoverHandlers = function (enableHover) {\n      var tooltipEl = this.tooltip.getElement();\n      var moreOptionsEl = this.moreOptions.getElement();\n      if (enableHover) {\n        if (this.editor) {\n          this.editor.on(\"mousemove\", this.$onMouseMove);\n          this.editor.renderer.getMouseEventTarget().addEventListener(\"mouseout\", this.$scheduleTooltipForHide, true);\n        }\n        tooltipEl.addEventListener('mouseenter', this.$tooltipEnter);\n        tooltipEl.addEventListener('mouseleave', this.$scheduleTooltipForHide);\n        moreOptionsEl.addEventListener('mouseenter', this.$tooltipEnter);\n        moreOptionsEl.addEventListener('mouseleave', this.$scheduleTooltipForHide);\n      } else {\n        if (this.editor) {\n          this.editor.off(\"mousemove\", this.$onMouseMove);\n          this.editor.renderer.getMouseEventTarget().removeEventListener(\"mouseout\", this.$scheduleTooltipForHide, true);\n        }\n        tooltipEl.removeEventListener('mouseenter', this.$tooltipEnter);\n        tooltipEl.removeEventListener('mouseleave', this.$scheduleTooltipForHide);\n        moreOptionsEl.removeEventListener('mouseenter', this.$tooltipEnter);\n        moreOptionsEl.removeEventListener('mouseleave', this.$scheduleTooltipForHide);\n      }\n    };\n    CommandBarTooltip.prototype.$showTooltip = function () {\n      if (this.isShown()) {\n        return;\n      }\n      this.tooltip.setTheme(this.editor.renderer.theme);\n      this.tooltip.setClassName(TOOLTIP_CLASS_NAME + \"_wrapper\");\n      this.tooltip.show();\n      this.update();\n      this.updatePosition();\n      this._signal(\"show\");\n    };\n    CommandBarTooltip.prototype.$hideTooltip = function () {\n      this.$mouseInTooltip = false;\n      if (!this.isShown()) {\n        return;\n      }\n      this.moreOptions.hide();\n      this.tooltip.hide();\n      this._signal(\"hide\");\n    };\n    CommandBarTooltip.prototype.$updateElement = function (id) {\n      var command = this.commands[id];\n      if (!command) {\n        return;\n      }\n      var el = this.elements[id];\n      var commandEnabled = command.enabled;\n      if (typeof commandEnabled === 'function') {\n        commandEnabled = commandEnabled(this.editor);\n      }\n      if (typeof command.getValue === 'function') {\n        var value = command.getValue(this.editor);\n        if (command.type === 'text') {\n          el.textContent = value;\n        } else if (command.type === 'checkbox') {\n          var domCssFn = value ? dom.addCssClass : dom.removeCssClass;\n          var isOnTooltip = el.parentElement === this.tooltipEl;\n          el.ariaChecked = value;\n          if (isOnTooltip) {\n            domCssFn(el, \"ace_selected\");\n          } else {\n            el = el.querySelector(\".\" + VALUE_CLASS_NAME);\n            domCssFn(el, \"ace_checkmark\");\n          }\n        }\n      }\n      if (commandEnabled && el.disabled) {\n        dom.removeCssClass(el, \"ace_disabled\");\n        el.ariaDisabled = el.disabled = false;\n        el.removeAttribute(\"disabled\");\n      } else if (!commandEnabled && !el.disabled) {\n        dom.addCssClass(el, \"ace_disabled\");\n        el.ariaDisabled = el.disabled = true;\n        el.setAttribute(\"disabled\", \"\");\n      }\n    };\n    return CommandBarTooltip;\n  }();\n  oop.implement(CommandBarTooltip.prototype, EventEmitter);\n  dom.importCssString(\"\\n.ace_tooltip.\".concat(TOOLTIP_CLASS_NAME, \"_wrapper {\\n    padding: 0;\\n}\\n\\n.ace_tooltip .\").concat(TOOLTIP_CLASS_NAME, \" {\\n    padding: 1px 5px;\\n    display: flex;\\n    pointer-events: auto;\\n}\\n\\n.ace_tooltip .\").concat(TOOLTIP_CLASS_NAME, \".tooltip_more_options {\\n    padding: 1px;\\n    flex-direction: column;\\n}\\n\\ndiv.\").concat(BUTTON_CLASS_NAME, \" {\\n    display: inline-flex;\\n    cursor: pointer;\\n    margin: 1px;\\n    border-radius: 2px;\\n    padding: 2px 5px;\\n    align-items: center;\\n}\\n\\ndiv.\").concat(BUTTON_CLASS_NAME, \".ace_selected,\\ndiv.\").concat(BUTTON_CLASS_NAME, \":hover:not(.ace_disabled) {\\n    background-color: rgba(0, 0, 0, 0.1);\\n}\\n\\ndiv.\").concat(BUTTON_CLASS_NAME, \".ace_disabled {\\n    color: #777;\\n    pointer-events: none;\\n}\\n\\ndiv.\").concat(BUTTON_CLASS_NAME, \" .ace_icon_svg {\\n    height: 12px;\\n    background-color: #000;\\n}\\n\\ndiv.\").concat(BUTTON_CLASS_NAME, \".ace_disabled .ace_icon_svg {\\n    background-color: #777;\\n}\\n\\n.\").concat(TOOLTIP_CLASS_NAME, \".tooltip_more_options .\").concat(BUTTON_CLASS_NAME, \" {\\n    display: flex;\\n}\\n\\n.\").concat(TOOLTIP_CLASS_NAME, \".\").concat(VALUE_CLASS_NAME, \" {\\n    display: none;\\n}\\n\\n.\").concat(TOOLTIP_CLASS_NAME, \".tooltip_more_options .\").concat(VALUE_CLASS_NAME, \" {\\n    display: inline-block;\\n    width: 12px;\\n}\\n\\n.\").concat(CAPTION_CLASS_NAME, \" {\\n    display: inline-block;\\n}\\n\\n.\").concat(KEYBINDING_CLASS_NAME, \" {\\n    margin: 0 2px;\\n    display: inline-block;\\n    font-size: 8px;\\n}\\n\\n.\").concat(TOOLTIP_CLASS_NAME, \".tooltip_more_options .\").concat(KEYBINDING_CLASS_NAME, \" {\\n    margin-left: auto;\\n}\\n\\n.\").concat(KEYBINDING_CLASS_NAME, \" div {\\n    display: inline-block;\\n    min-width: 8px;\\n    padding: 2px;\\n    margin: 0 1px;\\n    border-radius: 2px;\\n    background-color: #ccc;\\n    text-align: center;\\n}\\n\\n.ace_dark.ace_tooltip .\").concat(TOOLTIP_CLASS_NAME, \" {\\n    background-color: #373737;\\n    color: #eee;\\n}\\n\\n.ace_dark div.\").concat(BUTTON_CLASS_NAME, \".ace_disabled {\\n    color: #979797;\\n}\\n\\n.ace_dark div.\").concat(BUTTON_CLASS_NAME, \".ace_selected,\\n.ace_dark div.\").concat(BUTTON_CLASS_NAME, \":hover:not(.ace_disabled) {\\n    background-color: rgba(255, 255, 255, 0.1);\\n}\\n\\n.ace_dark div.\").concat(BUTTON_CLASS_NAME, \" .ace_icon_svg {\\n    background-color: #eee;\\n}\\n\\n.ace_dark div.\").concat(BUTTON_CLASS_NAME, \".ace_disabled .ace_icon_svg {\\n    background-color: #979797;\\n}\\n\\n.ace_dark .\").concat(BUTTON_CLASS_NAME, \".ace_disabled {\\n    color: #979797;\\n}\\n\\n.ace_dark .\").concat(KEYBINDING_CLASS_NAME, \" div {\\n    background-color: #575757;\\n}\\n\\n.ace_checkmark::before {\\n    content: '\\u2713';\\n}\\n\"), \"commandbar.css\", false);\n  exports.CommandBarTooltip = CommandBarTooltip;\n  exports.TOOLTIP_CLASS_NAME = TOOLTIP_CLASS_NAME;\n  exports.BUTTON_CLASS_NAME = BUTTON_CLASS_NAME;\n});\nace.define(\"ace/marker_group\", [\"require\", \"exports\", \"module\"], function (require, exports, module) {\n  \"use strict\";\n\n  var MarkerGroup = /** @class */function () {\n    function MarkerGroup(session, options) {\n      if (options) this.markerType = options.markerType;\n      this.markers = [];\n      this.session = session;\n      session.addDynamicMarker(this);\n    }\n    MarkerGroup.prototype.getMarkerAtPosition = function (pos) {\n      return this.markers.find(function (marker) {\n        return marker.range.contains(pos.row, pos.column);\n      });\n    };\n    MarkerGroup.prototype.markersComparator = function (a, b) {\n      return a.range.start.row - b.range.start.row;\n    };\n    MarkerGroup.prototype.setMarkers = function (markers) {\n      this.markers = markers.sort(this.markersComparator).slice(0, this.MAX_MARKERS);\n      this.session._signal(\"changeBackMarker\");\n    };\n    MarkerGroup.prototype.update = function (html, markerLayer, session, config) {\n      if (!this.markers || !this.markers.length) return;\n      var visibleRangeStartRow = config.firstRow,\n        visibleRangeEndRow = config.lastRow;\n      var foldLine;\n      var markersOnOneLine = 0;\n      var lastRow = 0;\n      for (var i = 0; i < this.markers.length; i++) {\n        var marker = this.markers[i];\n        if (marker.range.end.row < visibleRangeStartRow) continue;\n        if (marker.range.start.row > visibleRangeEndRow) continue;\n        if (marker.range.start.row === lastRow) {\n          markersOnOneLine++;\n        } else {\n          lastRow = marker.range.start.row;\n          markersOnOneLine = 0;\n        }\n        if (markersOnOneLine > 200) {\n          continue;\n        }\n        var markerVisibleRange = marker.range.clipRows(visibleRangeStartRow, visibleRangeEndRow);\n        if (markerVisibleRange.start.row === markerVisibleRange.end.row && markerVisibleRange.start.column === markerVisibleRange.end.column) {\n          continue; // visible range is empty\n        }\n        var screenRange = markerVisibleRange.toScreenRange(session);\n        if (screenRange.isEmpty()) {\n          foldLine = session.getNextFoldLine(markerVisibleRange.end.row, foldLine);\n          if (foldLine && foldLine.end.row > markerVisibleRange.end.row) {\n            visibleRangeStartRow = foldLine.end.row;\n          }\n          continue;\n        }\n        if (this.markerType === \"fullLine\") {\n          markerLayer.drawFullLineMarker(html, screenRange, marker.className, config);\n        } else if (screenRange.isMultiLine()) {\n          if (this.markerType === \"line\") markerLayer.drawMultiLineMarker(html, screenRange, marker.className, config);else markerLayer.drawTextMarker(html, screenRange, marker.className, config);\n        } else {\n          markerLayer.drawSingleLineMarker(html, screenRange, marker.className + \" ace_br15\", config);\n        }\n      }\n    };\n    return MarkerGroup;\n  }();\n  MarkerGroup.prototype.MAX_MARKERS = 10000;\n  exports.MarkerGroup = MarkerGroup;\n});\nace.define(\"ace/autocomplete/text_completer\", [\"require\", \"exports\", \"module\", \"ace/range\"], function (require, exports, module) {\n  var Range = require(\"../range\").Range;\n  var splitRegex = /[^a-zA-Z_0-9\\$\\-\\u00C0-\\u1FFF\\u2C00-\\uD7FF\\w]+/;\n  function getWordIndex(doc, pos) {\n    var textBefore = doc.getTextRange(Range.fromPoints({\n      row: 0,\n      column: 0\n    }, pos));\n    return textBefore.split(splitRegex).length - 1;\n  }\n  function wordDistance(doc, pos) {\n    var prefixPos = getWordIndex(doc, pos);\n    var words = doc.getValue().split(splitRegex);\n    var wordScores = Object.create(null);\n    var currentWord = words[prefixPos];\n    words.forEach(function (word, idx) {\n      if (!word || word === currentWord) return;\n      var distance = Math.abs(prefixPos - idx);\n      var score = words.length - distance;\n      if (wordScores[word]) {\n        wordScores[word] = Math.max(score, wordScores[word]);\n      } else {\n        wordScores[word] = score;\n      }\n    });\n    return wordScores;\n  }\n  exports.getCompletions = function (editor, session, pos, prefix, callback) {\n    var wordScore = wordDistance(session, pos);\n    var wordList = Object.keys(wordScore);\n    callback(null, wordList.map(function (word) {\n      return {\n        caption: word,\n        value: word,\n        score: wordScore[word],\n        meta: \"local\"\n      };\n    }));\n  };\n});\nace.define(\"ace/ext/language_tools\", [\"require\", \"exports\", \"module\", \"ace/snippets\", \"ace/autocomplete\", \"ace/config\", \"ace/lib/lang\", \"ace/autocomplete/util\", \"ace/marker_group\", \"ace/autocomplete/text_completer\", \"ace/editor\", \"ace/config\"], function (require, exports, module) {\n  /**\n  * ## Language Tools extension for Ace Editor\n  *\n  * Provides autocompletion, snippets, and language intelligence features for the Ace code editor.\n  * This extension integrates multiple completion providers including keyword completion, snippet expansion,\n  * and text-based completion to enhance the coding experience with contextual suggestions and automated code generation.\n  *\n  * **Configuration Options:**\n  * - `enableBasicAutocompletion`: Enable/disable basic completion functionality\n  * - `enableLiveAutocompletion`: Enable/disable real-time completion suggestions\n  * - `enableSnippets`: Enable/disable snippet expansion with Tab key\n  * - `liveAutocompletionDelay`: Delay before showing live completion popup\n  * - `liveAutocompletionThreshold`: Minimum prefix length to trigger completion\n  *\n  * **Usage:**\n  * ```javascript\n  * editor.setOptions({\n  *   enableBasicAutocompletion: true,\n  *   enableLiveAutocompletion: true,\n  *   enableSnippets: true\n  * });\n  * ```\n  *\n  * @module\n  */\n  \"use strict\";\n\n  var snippetManager = require(\"../snippets\").snippetManager;\n  var Autocomplete = require(\"../autocomplete\").Autocomplete;\n  var config = require(\"../config\");\n  var lang = require(\"../lib/lang\");\n  var util = require(\"../autocomplete/util\");\n  var MarkerGroup = require(\"../marker_group\").MarkerGroup;\n  var textCompleter = require(\"../autocomplete/text_completer\");\n  var keyWordCompleter = {\n    getCompletions: function (editor, session, pos, prefix, callback) {\n      if (session.$mode.completer) {\n        return session.$mode.completer.getCompletions(editor, session, pos, prefix, callback);\n      }\n      var state = editor.session.getState(pos.row);\n      var completions = session.$mode.getCompletions(state, session, pos, prefix);\n      completions = completions.map(function (el) {\n        el.completerId = keyWordCompleter.id;\n        return el;\n      });\n      callback(null, completions);\n    },\n    id: \"keywordCompleter\"\n  };\n  var transformSnippetTooltip = function (str) {\n    var record = {};\n    return str.replace(/\\${(\\d+)(:(.*?))?}/g, function (_, p1, p2, p3) {\n      return record[p1] = p3 || '';\n    }).replace(/\\$(\\d+?)/g, function (_, p1) {\n      return record[p1];\n    });\n  };\n  var snippetCompleter = {\n    getCompletions: function (editor, session, pos, prefix, callback) {\n      var scopes = [];\n      var token = session.getTokenAt(pos.row, pos.column);\n      if (token && token.type.match(/(tag-name|tag-open|tag-whitespace|attribute-name|attribute-value)\\.xml$/)) scopes.push('html-tag');else scopes = snippetManager.getActiveScopes(editor);\n      var snippetMap = snippetManager.snippetMap;\n      var completions = [];\n      scopes.forEach(function (scope) {\n        var snippets = snippetMap[scope] || [];\n        for (var i = snippets.length; i--;) {\n          var s = snippets[i];\n          var caption = s.name || s.tabTrigger;\n          if (!caption) continue;\n          completions.push({\n            caption: caption,\n            snippet: s.content,\n            meta: s.tabTrigger && !s.name ? s.tabTrigger + \"\\u21E5 \" : \"snippet\",\n            completerId: snippetCompleter.id\n          });\n        }\n      }, this);\n      callback(null, completions);\n    },\n    getDocTooltip: function (item) {\n      if (item.snippet && !item.docHTML) {\n        item.docHTML = [\"<b>\", lang.escapeHTML(item.caption), \"</b>\", \"<hr></hr>\", lang.escapeHTML(transformSnippetTooltip(item.snippet))].join(\"\");\n      }\n    },\n    id: \"snippetCompleter\"\n  };\n  var completers = [snippetCompleter, textCompleter, keyWordCompleter];\n  exports.setCompleters = function (val) {\n    completers.length = 0;\n    if (val) completers.push.apply(completers, val);\n  };\n  exports.addCompleter = function (completer) {\n    completers.push(completer);\n  };\n  exports.textCompleter = textCompleter;\n  exports.keyWordCompleter = keyWordCompleter;\n  exports.snippetCompleter = snippetCompleter;\n  var expandSnippet = {\n    name: \"expandSnippet\",\n    exec: function (editor) {\n      return snippetManager.expandWithTab(editor);\n    },\n    bindKey: \"Tab\"\n  };\n  var onChangeMode = function (e, editor) {\n    loadSnippetsForMode(editor.session.$mode);\n  };\n  var loadSnippetsForMode = function (mode) {\n    if (typeof mode == \"string\") mode = config.$modes[mode];\n    if (!mode) return;\n    if (!snippetManager.files) snippetManager.files = {};\n    loadSnippetFile(mode.$id, mode.snippetFileId);\n    if (mode.modes) mode.modes.forEach(loadSnippetsForMode);\n  };\n  var loadSnippetFile = function (id, snippetFilePath) {\n    if (!snippetFilePath || !id || snippetManager.files[id]) return;\n    snippetManager.files[id] = {};\n    config.loadModule(snippetFilePath, function (m) {\n      if (!m) return;\n      snippetManager.files[id] = m;\n      if (!m.snippets && m.snippetText) m.snippets = snippetManager.parseSnippetFile(m.snippetText);\n      snippetManager.register(m.snippets || [], m.scope);\n      if (m.includeScopes) {\n        snippetManager.snippetMap[m.scope].includeScopes = m.includeScopes;\n        m.includeScopes.forEach(function (x) {\n          loadSnippetsForMode(\"ace/mode/\" + x);\n        });\n      }\n    });\n  };\n  var doLiveAutocomplete = function (e) {\n    var editor = e.editor;\n    var hasCompleter = editor.completer && editor.completer.activated;\n    if (e.command.name === \"backspace\") {\n      if (hasCompleter && !util.getCompletionPrefix(editor)) editor.completer.detach();\n    } else if (e.command.name === \"insertstring\" && !hasCompleter) {\n      lastExecEvent = e;\n      var delay = e.editor.$liveAutocompletionDelay;\n      if (delay) {\n        liveAutocompleteTimer.delay(delay);\n      } else {\n        showLiveAutocomplete(e);\n      }\n    }\n  };\n  var lastExecEvent;\n  var liveAutocompleteTimer = lang.delayedCall(function () {\n    showLiveAutocomplete(lastExecEvent);\n  }, 0);\n  var showLiveAutocomplete = function (e) {\n    var editor = e.editor;\n    var prefix = util.getCompletionPrefix(editor);\n    var previousChar = e.args;\n    var triggerAutocomplete = util.triggerAutocomplete(editor, previousChar);\n    if (prefix && prefix.length >= editor.$liveAutocompletionThreshold || triggerAutocomplete) {\n      var completer = Autocomplete.for(editor);\n      completer.autoShown = true;\n      completer.showPopup(editor);\n    }\n  };\n  var Editor = require(\"../editor\").Editor;\n  require(\"../config\").defineOptions(Editor.prototype, \"editor\", {\n    enableBasicAutocompletion: {\n      set: function (val) {\n        if (val) {\n          Autocomplete.for(this);\n          if (!this.completers) this.completers = Array.isArray(val) ? val : completers;\n          this.commands.addCommand(Autocomplete.startCommand);\n        } else {\n          this.commands.removeCommand(Autocomplete.startCommand);\n        }\n      },\n      value: false\n    },\n    enableLiveAutocompletion: {\n      set: function (val) {\n        if (val) {\n          if (!this.completers) this.completers = Array.isArray(val) ? val : completers;\n          this.commands.on('afterExec', doLiveAutocomplete);\n        } else {\n          this.commands.off('afterExec', doLiveAutocomplete);\n        }\n      },\n      value: false\n    },\n    liveAutocompletionDelay: {\n      initialValue: 0\n    },\n    liveAutocompletionThreshold: {\n      initialValue: 0\n    },\n    enableSnippets: {\n      set: function (val) {\n        if (val) {\n          this.commands.addCommand(expandSnippet);\n          this.on(\"changeMode\", onChangeMode);\n          onChangeMode(null, this);\n        } else {\n          this.commands.removeCommand(expandSnippet);\n          this.off(\"changeMode\", onChangeMode);\n        }\n      },\n      value: false\n    }\n  });\n  exports.MarkerGroup = MarkerGroup;\n});\nace.define(\"ace/ext/inline_autocomplete\", [\"require\", \"exports\", \"module\", \"ace/keyboard/hash_handler\", \"ace/autocomplete/inline\", \"ace/autocomplete\", \"ace/autocomplete\", \"ace/editor\", \"ace/autocomplete/util\", \"ace/lib/dom\", \"ace/lib/lang\", \"ace/ext/command_bar\", \"ace/ext/command_bar\", \"ace/ext/language_tools\", \"ace/ext/language_tools\", \"ace/ext/language_tools\", \"ace/config\"], function (require, exports, module) {\n  /**\n  * ## Inline Autocomplete extension\n  *\n  * Provides lightweight, prefix-based autocompletion with inline ghost text rendering and an optional command bar tooltip.\n  * Displays completion suggestions as ghost text directly in the editor with keyboard navigation and interactive controls.\n  *\n  * **Enable:** `editor.setOption(\"enableInlineAutocompletion\", true)`\n  * or configure it during editor initialization in the options object.\n  * @module\n  */\n  \"use strict\";\n\n  var HashHandler = require(\"../keyboard/hash_handler\").HashHandler;\n  var AceInline = require(\"../autocomplete/inline\").AceInline;\n  var FilteredList = require(\"../autocomplete\").FilteredList;\n  var CompletionProvider = require(\"../autocomplete\").CompletionProvider;\n  var Editor = require(\"../editor\").Editor;\n  var util = require(\"../autocomplete/util\");\n  var dom = require(\"../lib/dom\");\n  var lang = require(\"../lib/lang\");\n  var CommandBarTooltip = require(\"./command_bar\").CommandBarTooltip;\n  var BUTTON_CLASS_NAME = require(\"./command_bar\").BUTTON_CLASS_NAME;\n  var snippetCompleter = require(\"./language_tools\").snippetCompleter;\n  var textCompleter = require(\"./language_tools\").textCompleter;\n  var keyWordCompleter = require(\"./language_tools\").keyWordCompleter;\n  var destroyCompleter = function (e, editor) {\n    editor.completer && editor.completer.destroy();\n  };\n  var InlineAutocomplete = /** @class */function () {\n    function InlineAutocomplete(editor) {\n      this.editor = editor;\n      this.keyboardHandler = new HashHandler(this.commands);\n      this.$index = -1;\n      this.blurListener = this.blurListener.bind(this);\n      this.changeListener = this.changeListener.bind(this);\n      this.changeTimer = lang.delayedCall(function () {\n        this.updateCompletions();\n      }.bind(this));\n    }\n    InlineAutocomplete.prototype.getInlineRenderer = function () {\n      if (!this.inlineRenderer) this.inlineRenderer = new AceInline();\n      return this.inlineRenderer;\n    };\n    InlineAutocomplete.prototype.getInlineTooltip = function () {\n      if (!this.inlineTooltip) {\n        this.inlineTooltip = InlineAutocomplete.createInlineTooltip(document.body || document.documentElement);\n      }\n      return this.inlineTooltip;\n    };\n    InlineAutocomplete.prototype.show = function (options) {\n      this.activated = true;\n      if (this.editor.completer !== this) {\n        if (this.editor.completer) this.editor.completer.detach();\n        this.editor.completer = this;\n      }\n      this.editor.on(\"changeSelection\", this.changeListener);\n      this.editor.on(\"blur\", this.blurListener);\n      this.updateCompletions(options);\n    };\n    InlineAutocomplete.prototype.$open = function () {\n      if (this.editor.textInput.setAriaOptions) {\n        this.editor.textInput.setAriaOptions({});\n      }\n      this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler);\n      this.getInlineTooltip().attach(this.editor);\n      if (this.$index === -1) {\n        this.setIndex(0);\n      } else {\n        this.$showCompletion();\n      }\n      this.changeTimer.cancel();\n    };\n    InlineAutocomplete.prototype.insertMatch = function () {\n      var result = this.getCompletionProvider().insertByIndex(this.editor, this.$index);\n      this.detach();\n      return result;\n    };\n    InlineAutocomplete.prototype.changeListener = function (e) {\n      var cursor = this.editor.selection.lead;\n      if (cursor.row != this.base.row || cursor.column < this.base.column) {\n        this.detach();\n      }\n      if (this.activated) this.changeTimer.schedule();else this.detach();\n    };\n    InlineAutocomplete.prototype.blurListener = function (e) {\n      this.detach();\n    };\n    InlineAutocomplete.prototype.goTo = function (where) {\n      if (!this.completions || !this.completions.filtered) {\n        return;\n      }\n      var completionLength = this.completions.filtered.length;\n      switch (where.toLowerCase()) {\n        case \"prev\":\n          this.setIndex((this.$index - 1 + completionLength) % completionLength);\n          break;\n        case \"next\":\n          this.setIndex((this.$index + 1 + completionLength) % completionLength);\n          break;\n        case \"first\":\n          this.setIndex(0);\n          break;\n        case \"last\":\n          this.setIndex(this.completions.filtered.length - 1);\n          break;\n      }\n    };\n    InlineAutocomplete.prototype.getLength = function () {\n      if (!this.completions || !this.completions.filtered) {\n        return 0;\n      }\n      return this.completions.filtered.length;\n    };\n    InlineAutocomplete.prototype.getData = function (index) {\n      if (index == undefined || index === null) {\n        return this.completions.filtered[this.$index];\n      } else {\n        return this.completions.filtered[index];\n      }\n    };\n    InlineAutocomplete.prototype.getIndex = function () {\n      return this.$index;\n    };\n    InlineAutocomplete.prototype.isOpen = function () {\n      return this.$index >= 0;\n    };\n    InlineAutocomplete.prototype.setIndex = function (value) {\n      if (!this.completions || !this.completions.filtered) {\n        return;\n      }\n      var newIndex = Math.max(-1, Math.min(this.completions.filtered.length - 1, value));\n      if (newIndex !== this.$index) {\n        this.$index = newIndex;\n        this.$showCompletion();\n      }\n    };\n    InlineAutocomplete.prototype.getCompletionProvider = function (initialPosition) {\n      if (!this.completionProvider) this.completionProvider = new CompletionProvider(initialPosition);\n      return this.completionProvider;\n    };\n    InlineAutocomplete.prototype.$showCompletion = function () {\n      if (!this.getInlineRenderer().show(this.editor, this.completions.filtered[this.$index], this.completions.filterText)) {\n        this.getInlineRenderer().hide();\n      }\n      if (this.inlineTooltip && this.inlineTooltip.isShown()) {\n        this.inlineTooltip.update();\n      }\n    };\n    InlineAutocomplete.prototype.$updatePrefix = function () {\n      var pos = this.editor.getCursorPosition();\n      var prefix = this.editor.session.getTextRange({\n        start: this.base,\n        end: pos\n      });\n      this.completions.setFilter(prefix);\n      if (!this.completions.filtered.length) return this.detach();\n      if (this.completions.filtered.length == 1 && this.completions.filtered[0].value == prefix && !this.completions.filtered[0].snippet) return this.detach();\n      this.$open(this.editor, prefix);\n      return prefix;\n    };\n    InlineAutocomplete.prototype.updateCompletions = function (options) {\n      var prefix = \"\";\n      if (options && options.matches) {\n        var pos = this.editor.getSelectionRange().start;\n        this.base = this.editor.session.doc.createAnchor(pos.row, pos.column);\n        this.base.$insertRight = true;\n        this.completions = new FilteredList(options.matches);\n        return this.$open(this.editor, \"\");\n      }\n      if (this.base && this.completions) {\n        prefix = this.$updatePrefix();\n      }\n      var session = this.editor.getSession();\n      var pos = this.editor.getCursorPosition();\n      var prefix = util.getCompletionPrefix(this.editor);\n      this.base = session.doc.createAnchor(pos.row, pos.column - prefix.length);\n      this.base.$insertRight = true;\n      var options = {\n        exactMatch: true,\n        ignoreCaption: true\n      };\n      this.getCompletionProvider({\n        prefix: prefix,\n        base: this.base,\n        pos: pos\n      }).provideCompletions(this.editor, options, function (err, completions, finished) {\n        var filtered = completions.filtered;\n        var prefix = util.getCompletionPrefix(this.editor);\n        if (finished) {\n          if (!filtered.length) return this.detach();\n          if (filtered.length == 1 && filtered[0].value == prefix && !filtered[0].snippet) return this.detach();\n        }\n        this.completions = completions;\n        this.$open(this.editor, prefix);\n      }.bind(this));\n    };\n    InlineAutocomplete.prototype.detach = function () {\n      if (this.editor) {\n        this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler);\n        this.editor.off(\"changeSelection\", this.changeListener);\n        this.editor.off(\"blur\", this.blurListener);\n      }\n      this.changeTimer.cancel();\n      if (this.inlineTooltip) {\n        this.inlineTooltip.detach();\n      }\n      this.setIndex(-1);\n      if (this.completionProvider) {\n        this.completionProvider.detach();\n      }\n      if (this.inlineRenderer && this.inlineRenderer.isOpen()) {\n        this.inlineRenderer.hide();\n      }\n      if (this.base) this.base.detach();\n      this.activated = false;\n      this.completionProvider = this.completions = this.base = null;\n    };\n    InlineAutocomplete.prototype.destroy = function () {\n      this.detach();\n      if (this.inlineRenderer) this.inlineRenderer.destroy();\n      if (this.inlineTooltip) this.inlineTooltip.destroy();\n      if (this.editor && this.editor.completer == this) {\n        this.editor.off(\"destroy\", destroyCompleter);\n        this.editor.completer = null;\n      }\n      this.inlineTooltip = this.editor = this.inlineRenderer = null;\n    };\n    InlineAutocomplete.prototype.updateDocTooltip = function () {};\n    return InlineAutocomplete;\n  }();\n  InlineAutocomplete.prototype.commands = {\n    \"Previous\": {\n      bindKey: \"Alt-[\",\n      name: \"Previous\",\n      exec: function (editor) {\n        editor.completer.goTo(\"prev\");\n      }\n    },\n    \"Next\": {\n      bindKey: \"Alt-]\",\n      name: \"Next\",\n      exec: function (editor) {\n        editor.completer.goTo(\"next\");\n      }\n    },\n    \"Accept\": {\n      bindKey: {\n        win: \"Tab|Ctrl-Right\",\n        mac: \"Tab|Cmd-Right\"\n      },\n      name: \"Accept\",\n      exec: function (editor) {\n        return /**@type{InlineAutocomplete}*/editor.completer.insertMatch();\n      }\n    },\n    \"Close\": {\n      bindKey: \"Esc\",\n      name: \"Close\",\n      exec: function (editor) {\n        editor.completer.detach();\n      }\n    }\n  };\n  InlineAutocomplete.for = function (editor) {\n    if (editor.completer instanceof InlineAutocomplete) {\n      return editor.completer;\n    }\n    if (editor.completer) {\n      editor.completer.destroy();\n      editor.completer = null;\n    }\n    editor.completer = new InlineAutocomplete(editor);\n    editor.once(\"destroy\", destroyCompleter);\n    return editor.completer;\n  };\n  InlineAutocomplete.startCommand = {\n    name: \"startInlineAutocomplete\",\n    exec: function (editor, options) {\n      var completer = InlineAutocomplete.for(editor);\n      completer.show(options);\n    },\n    bindKey: {\n      win: \"Alt-C\",\n      mac: \"Option-C\"\n    }\n  };\n  var completers = [snippetCompleter, textCompleter, keyWordCompleter];\n  require(\"../config\").defineOptions(Editor.prototype, \"editor\", {\n    enableInlineAutocompletion: {\n      set: function (val) {\n        if (val) {\n          if (!this.completers) this.completers = Array.isArray(val) ? val : completers;\n          this.commands.addCommand(InlineAutocomplete.startCommand);\n        } else {\n          this.commands.removeCommand(InlineAutocomplete.startCommand);\n        }\n      },\n      value: false\n    }\n  });\n  InlineAutocomplete.createInlineTooltip = function (parentEl) {\n    var inlineTooltip = new CommandBarTooltip(parentEl);\n    inlineTooltip.registerCommand(\"Previous\", Object.assign({}, InlineAutocomplete.prototype.commands[\"Previous\"], {\n      enabled: true,\n      type: \"button\",\n      iconCssClass: \"ace_arrow_rotated\"\n    }));\n    inlineTooltip.registerCommand(\"Position\", {\n      enabled: false,\n      getValue: function (editor) {\n        return editor ? [editor.completer.getIndex() + 1, /**@type{InlineAutocomplete}*/editor.completer.getLength()].join(\"/\") : \"\";\n      },\n      type: \"text\",\n      cssClass: \"completion_position\"\n    });\n    inlineTooltip.registerCommand(\"Next\", Object.assign({}, InlineAutocomplete.prototype.commands[\"Next\"], {\n      enabled: true,\n      type: \"button\",\n      iconCssClass: \"ace_arrow\"\n    }));\n    inlineTooltip.registerCommand(\"Accept\", Object.assign({}, InlineAutocomplete.prototype.commands[\"Accept\"], {\n      enabled: function (editor) {\n        return !!editor && editor.completer.getIndex() >= 0;\n      },\n      type: \"button\"\n    }));\n    inlineTooltip.registerCommand(\"ShowTooltip\", {\n      name: \"Always Show Tooltip\",\n      exec: function () {\n        inlineTooltip.setAlwaysShow(!inlineTooltip.getAlwaysShow());\n      },\n      enabled: true,\n      getValue: function () {\n        return inlineTooltip.getAlwaysShow();\n      },\n      type: \"checkbox\"\n    });\n    return inlineTooltip;\n  };\n  dom.importCssString(\"\\n\\n.ace_icon_svg.ace_arrow,\\n.ace_icon_svg.ace_arrow_rotated {\\n    -webkit-mask-image: url(\\\"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTUuODM3MDEgMTVMNC41ODc1MSAxMy43MTU1TDEwLjE0NjggOEw0LjU4NzUxIDIuMjg0NDZMNS44MzcwMSAxTDEyLjY0NjUgOEw1LjgzNzAxIDE1WiIgZmlsbD0iYmxhY2siLz48L3N2Zz4=\\\");\\n}\\n\\n.ace_icon_svg.ace_arrow_rotated {\\n    transform: rotate(180deg);\\n}\\n\\ndiv.\".concat(BUTTON_CLASS_NAME, \".completion_position {\\n    padding: 0;\\n}\\n\"), \"inlineautocomplete.css\", false);\n  exports.InlineAutocomplete = InlineAutocomplete;\n});\n(function () {\n  ace.require([\"ace/ext/inline_autocomplete\"], function (m) {\n    if (typeof module == \"object\" && typeof exports == \"object\" && module) {\n      module.exports = m;\n    }\n  });\n})();","map":{"version":3,"names":["ace","define","require","exports","module","dom","oop","EventEmitter","lang","Range","RangeList","HashHandler","Tokenizer","clipboard","VARIABLES","CURRENT_WORD","editor","session","getTextRange","getWordRange","SELECTION","name","indentation","text","replace","CURRENT_LINE","getLine","getCursorPosition","row","PREV_LINE","LINE_INDEX","LINE_NUMBER","SOFT_TABS","getUseSoftTabs","TAB_SIZE","getTabSize","CLIPBOARD","getText","FILENAME","exec","FILEPATH","FILENAME_BASE","DIRECTORY","WORKSPACE_NAME","FULLNAME","BLOCK_COMMENT_START","mode","$mode","blockComment","start","BLOCK_COMMENT_END","end","LINE_COMMENT","lineCommentStart","CURRENT_YEAR","date","bind","year","CURRENT_YEAR_SHORT","CURRENT_MONTH","month","CURRENT_MONTH_NAME","CURRENT_MONTH_NAME_SHORT","CURRENT_DATE","day","CURRENT_DAY_NAME","weekday","CURRENT_DAY_NAME_SHORT","CURRENT_HOUR","hour","hour12","CURRENT_MINUTE","minute","CURRENT_SECOND","second","SELECTED_TEXT","dateFormat","str","Date","toLocaleString","length","SnippetManager","snippetMap","snippetNameMap","variables","prototype","getTokenizer","createTokenizer","TabstopToken","substr","test","tabstopId","parseInt","escape","ch","formatMatcher","regex","onMatch","val","state","stack","ts","fmtString","guard","slice","flag","next","indexOf","shift","t","unshift","token","merge","snippetVar","choices","operator","split","map","value","formatString","expectElse","ifEnd","elseEnd","changeCase","local","formatStringVar","formatFunction","tokenizeTmSnippet","startState","getLineTokens","tokens","x","getVariableValue","__","hasOwnProperty","tmStrFormat","fmt","re","RegExp","fmtTokens","_self","formatted","oldArgs","call","arguments","fmtParts","resolveVariables","gChangeCase","i","toUpperCase","toLowerCase","join","tmFormatFunction","snippet","result","afterNewLine","push","j","gotoNext","i1","getDisplayTextForSnippet","snippetText","processedSnippet","processSnippetText","insertSnippetForSelection","options","range","getSelectionRange","tabstopManager","TabstopManager","selectionId","inVirtualSelectionMode","selection","index","addTabstops","tabstops","insertSnippet","self","forEachSelection","keepOrder","tabNext","$getScope","scope","$id","pop","inlinePhp","c","getState","substring","getActiveScopes","scopes","includeScopes","apply","expandWithTab","expandSnippetForSelection","cursor","line","before","column","after","some","snippets","findMatchingSnippet","dryRun","doc","removeInLine","replaceBefore","replaceAfter","M__","matchBefore","T__","matchAfter","content","snippetList","s","startRe","endRe","triggerRe","endTriggerRe","register","wrapRegexp","src","guardedRegexp","opening","addSnippet","old","unregister","prefix","tabTrigger","body","Array","isArray","trigger","escapeRegExp","endTrigger","endGuard","forEach","Object","keys","key","_signal","removeSnippet","nameMap","splice","parseSnippetFile","list","m","JSON","parse","e","guardRe","match","getSnippetByName","implement","tabString","getTabString","indentString","excludeExtraIndent","p","id","parents","isNested","expanding","copyValue","copy","lastIndexOf","parentId","Math","max","concat","lines","ranges","$onChange","onChange","$onChangeSelection","delayedCall","onChangeSelection","schedule","$onChangeSession","onChangeSession","$onAfterExec","onAfterExec","attach","$openTabstops","selectedTabstop","on","commands","keyBinding","addKeyboardHandler","keyboardHandler","detach","removeTabstopMarkers","off","removeKeyboardHandler","delta","isRemove","action","active","rangeList","$bias","parentActive","startIndex","pointIndex","endIndex","toRemove","removeRange","$inChange","getLength","getValue","updateLinkedFields","hasLinkedRanges","firstNonLinked","linked","original","snippetManager","command","readOnly","lead","anchor","isEmpty","containsLead","contains","containsAnchor","dir","min","selectTabstop","updateTabstopMarkers","addTabstopMarkers","sel","multiSelect","toSingleRange","addRange","clone","fromOrientedRange","execCommand","matches","useLink","getOption","fromPoints","moveRelative","arg","snippetId","dest","movePoint","tabstop","addList","markerId","addMarker","removeMarker","currentSnippetId","bindKeys","Tab","renderer","scrollCursorIntoView","Shift-Tab","Esc","point","diff","importCssString","Editor","expandSnippet","AceInlineScreenReader","screenReaderDiv","document","createElement","classList","add","container","appendChild","setScreenReaderContent","popup","completer","getRow","$textLayer","selected","element","childNodes","config","firstRow","idString","lineIndex","_lines","setAttribute","firstChild","removeChild","codeElement","createCodeBlock","destroy","remove","createTextNode","AceInline","show","completion","hide","inlineScreenReader","displayText","hideInlinePreview","startsWith","removeGhostText","setGhostText","isOpen","$ghostText","Renderer","VirtualRenderer","event","nls","userAgent","getAriaId","popupAriaRole","isSafari","optionAriaRole","ariaActiveState","$singleLineEditor","el","$maxLines","setHighlightActiveLine","setShowPrintMargin","setShowGutter","setHighlightGutterLine","$mouseHandler","$focusTimeout","$highlightTagPending","AcePopup","parentNode","style","display","setStyle","textarea","setOption","noop","focus","$isFocused","$cursorLayer","restartTimer","opacity","$keepTextAreaAtCursor","highlight","$searchHighlight","clazz","pos","getDocumentPosition","moveToPosition","selectionMarker","stop","lastMouseEvent","hoverMarker","Infinity","setSelectOnHover","y","scrollTop","isMouseOver","setRow","setHoverMarker","$pos","l","lastRow","popupRowElement","data","rowData","getData","ariaLabel","caption","meta","highlightedSpans","querySelectorAll","span","activeElement","selectedNode","removeCssClass","removeAttribute","ariaId","addCssClass","hideHoverMarker","suppressRedraw","_emit","getHoveredRow","addListener","bgTokenizer","$tokenizeRow","addToken","className","type","lower","filterText","lastIndex","lastI","matchMask","sub","message","$updateOnChange","$computeWidth","screenWidth","isTopdown","autoSelect","setData","setValue","stringRepeat","clearSelection","moveCursorTo","anchorPos","tryShow","lineHeight","forceShow","top","left","scrollBarSize","scrollBar","width","screenHeight","window","innerHeight","innerWidth","maxH","dims","bottom","spaceBelow","$borderSize","spaceAbove","fitsX","$maxPixelHeight","offsetWidth","right","topdownOnly","undefined","goTo","where","getTextLeftOffset","$padding","$imageSize","parForEach","array","fn","callback","completed","arLength","err","ID_REGEX","retrievePrecedingIdentifier","buf","reverse","retrieveFollowingIdentifier","getCompletionPrefix","completers","identifierRegexps","identifierRegex","triggerAutocomplete","previousChar","getPrecedingCharacter","triggerCharacters","includes","util","preventParentScroll","destroyCompleter","Autocomplete","autoInsert","autoShown","exactMatch","inlineEnabled","hasSeen","Set","showLoadingState","stickySelectionDelay","blurListener","changeListener","mousedownListener","mousewheelListener","onLayoutChange","changeTimer","updateCompletions","tooltipTimer","updateDocTooltip","popupTimer","$updatePopupPosition","stickySelectionTimer","stickySelection","$firstOpenTimer","initialPosition","completionProvider","completions","FilteredList","completionsForLoading","openPopup","defineProperty","get","enumerable","configurable","$init","documentElement","insertMatch","$onPopupShow","$onHidePopup","$onPopupChange","mouseOutListener","$onPopupRender","$initInline","inlineRenderer","getPopup","hideDocTooltip","cancel","$seen","has","onSeen","$updateGhostText","base","cursorColumn","filtered","getFirstVisibleRow","getLastVisibleRow","observeLayoutChanges","$elements","addEventListener","passive","elements","unObserveLayoutChanges","_this","removeEventListener","layerConfig","getPixelPosition","rect","getBoundingClientRect","offset","scrollLeft","gutterWidth","posGhostText","$ghostTextWidget","position","offsetHeight","editorContainerBottom","lowestPosition","keepPopupPosition","oldRow","previousSelectedItem","textInput","setAriaOptions","activeDescendant","inline","newRow","setTheme","getTheme","setFontSize","getFontSize","tooltipNode","activated","getElement","fromTooltip","relatedTarget","getCompletionProvider","showPopup","CompletionProvider","gatherCompletions","setFilter","createAnchor","$insertRight","getSession","completionOptions","ignoreCaption","provideCompletions","finished","emptyMessage","completionsForEmpty","delay","cancelContextMenu","all","completersLength","getDocTooltip","completerId","docText","docHTML","showDocTooltip","item","margin","pointerEvents","overscrollBehavior","tabIndex","onblur","onclick","onTooltipClick","theme","isDark","cssClass","innerHTML","textContent","targetWidth","targetHeight","leftSize","rightSize","topSize","scores","tooltipStyle","maxWidth","maxHeight","offsetTop","isFocused","a","target","nodeName","href","rel","for","once","Up","Down","Ctrl-Up|Ctrl-Home","Ctrl-Down|Ctrl-End","Return","Shift-Return","deleteSuffix","Backspace","PageUp","gotoPageUp","PageDown","gotoPageDown","startCommand","bindKey","insertByIndex","startOperation","getAllRanges","$insertString","onInsert","endOperation","total","getCompletions","results","assign","processResults","isImmediate","immediateResults","filterCompletions","sort","b","$score","localeCompare","prev","filter","items","needle","upper","loop","skipFilter","score","penalty","distance","fullMatchIndex","i2","__values","o","Symbol","iterator","done","TypeError","Tooltip","useragent","BUTTON_CLASS_NAME","VALUE_CLASS_NAME","CAPTION_CLASS_NAME","KEYBINDING_CLASS_NAME","TOOLTIP_CLASS_NAME","MORE_OPTIONS_BUTTON_ID","defaultDelay","defaultMaxElements","minPosition","posA","posB","keyDisplayMap","mac","CommandBarTooltip","e_1","_a","tooltip","moreOptions","maxElementsOnTooltip","$alwaysShow","alwaysShow","eventListeners","tooltipEl","buildDom","class","moreOptionsEl","$showTooltipTimer","$showTooltip","showDelay","$hideTooltipTimer","$hideTooltip","hideDelay","$tooltipEnter","$onMouseMove","$onChangeScroll","$onEditorChangeSession","$scheduleTooltipForHide","$preventMouseEvent","_b","_c","e_1_1","error","return","registerCommand","registerForMainTooltip","$createCommand","$shouldHideMoreOptions","$setMoreOptionsVisibility","isMoreOptionsShown","enabled","isShown","updatePosition","getAlwaysShow","setAlwaysShow","$updateOnHoverHandlers","minPos","cursorVisible","tooltipFits","setPosition","update","$updateElement","$mouseInTooltip","forMainTooltip","parentEl","keyParts","isMac","win","buttonNode","iconCssClass","keyPart","ref","eventListener","disabled","preventDefault","visible","setClassName","oldSession","cursorPosition","cursorScreenPosition","textToScreenCoordinates","isInCurrentLine","clientY","pageY","isPending","enableHover","getMouseEventTarget","commandEnabled","domCssFn","isOnTooltip","parentElement","ariaChecked","querySelector","ariaDisabled","MarkerGroup","markerType","markers","addDynamicMarker","getMarkerAtPosition","find","marker","markersComparator","setMarkers","MAX_MARKERS","html","markerLayer","visibleRangeStartRow","visibleRangeEndRow","foldLine","markersOnOneLine","markerVisibleRange","clipRows","screenRange","toScreenRange","getNextFoldLine","drawFullLineMarker","isMultiLine","drawMultiLineMarker","drawTextMarker","drawSingleLineMarker","splitRegex","getWordIndex","textBefore","wordDistance","prefixPos","words","wordScores","create","currentWord","word","idx","abs","wordScore","wordList","textCompleter","keyWordCompleter","transformSnippetTooltip","record","_","p1","p2","p3","snippetCompleter","getTokenAt","escapeHTML","setCompleters","addCompleter","onChangeMode","loadSnippetsForMode","$modes","files","loadSnippetFile","snippetFileId","modes","snippetFilePath","loadModule","doLiveAutocomplete","hasCompleter","lastExecEvent","$liveAutocompletionDelay","liveAutocompleteTimer","showLiveAutocomplete","args","$liveAutocompletionThreshold","defineOptions","enableBasicAutocompletion","set","addCommand","removeCommand","enableLiveAutocompletion","liveAutocompletionDelay","initialValue","liveAutocompletionThreshold","enableSnippets","InlineAutocomplete","$index","getInlineRenderer","getInlineTooltip","inlineTooltip","createInlineTooltip","$open","setIndex","$showCompletion","completionLength","getIndex","newIndex","$updatePrefix","enableInlineAutocompletion"],"sources":["C:/Users/jean9/Desktop/projeto_rm/components/streamlit_ace/frontend/node_modules/ace-builds/src-noconflict/ext-inline_autocomplete.js"],"sourcesContent":["ace.define(\"ace/snippets\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\",\"ace/lib/oop\",\"ace/lib/event_emitter\",\"ace/lib/lang\",\"ace/range\",\"ace/range_list\",\"ace/keyboard/hash_handler\",\"ace/tokenizer\",\"ace/clipboard\",\"ace/editor\"], function(require, exports, module){\"use strict\";\nvar dom = require(\"./lib/dom\");\nvar oop = require(\"./lib/oop\");\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar lang = require(\"./lib/lang\");\nvar Range = require(\"./range\").Range;\nvar RangeList = require(\"./range_list\").RangeList;\nvar HashHandler = require(\"./keyboard/hash_handler\").HashHandler;\nvar Tokenizer = require(\"./tokenizer\").Tokenizer;\nvar clipboard = require(\"./clipboard\");\nvar VARIABLES = {\n    CURRENT_WORD: function (editor) {\n        return editor.session.getTextRange(editor.session.getWordRange());\n    },\n    SELECTION: function (editor, name, indentation) {\n        var text = editor.session.getTextRange();\n        if (indentation)\n            return text.replace(/\\n\\r?([ \\t]*\\S)/g, \"\\n\" + indentation + \"$1\");\n        return text;\n    },\n    CURRENT_LINE: function (editor) {\n        return editor.session.getLine(editor.getCursorPosition().row);\n    },\n    PREV_LINE: function (editor) {\n        return editor.session.getLine(editor.getCursorPosition().row - 1);\n    },\n    LINE_INDEX: function (editor) {\n        return editor.getCursorPosition().row;\n    },\n    LINE_NUMBER: function (editor) {\n        return editor.getCursorPosition().row + 1;\n    },\n    SOFT_TABS: function (editor) {\n        return editor.session.getUseSoftTabs() ? \"YES\" : \"NO\";\n    },\n    TAB_SIZE: function (editor) {\n        return editor.session.getTabSize();\n    },\n    CLIPBOARD: function (editor) {\n        return clipboard.getText && clipboard.getText();\n    },\n    FILENAME: function (editor) {\n        return /[^/\\\\]*$/.exec(this.FILEPATH(editor))[0];\n    },\n    FILENAME_BASE: function (editor) {\n        return /[^/\\\\]*$/.exec(this.FILEPATH(editor))[0].replace(/\\.[^.]*$/, \"\");\n    },\n    DIRECTORY: function (editor) {\n        return this.FILEPATH(editor).replace(/[^/\\\\]*$/, \"\");\n    },\n    FILEPATH: function (editor) { return \"/not implemented.txt\"; },\n    WORKSPACE_NAME: function () { return \"Unknown\"; },\n    FULLNAME: function () { return \"Unknown\"; },\n    BLOCK_COMMENT_START: function (editor) {\n        var mode = editor.session.$mode || {};\n        return mode.blockComment && mode.blockComment.start || \"\";\n    },\n    BLOCK_COMMENT_END: function (editor) {\n        var mode = editor.session.$mode || {};\n        return mode.blockComment && mode.blockComment.end || \"\";\n    },\n    LINE_COMMENT: function (editor) {\n        var mode = editor.session.$mode || {};\n        return mode.lineCommentStart || \"\";\n    },\n    CURRENT_YEAR: date.bind(null, { year: \"numeric\" }),\n    CURRENT_YEAR_SHORT: date.bind(null, { year: \"2-digit\" }),\n    CURRENT_MONTH: date.bind(null, { month: \"numeric\" }),\n    CURRENT_MONTH_NAME: date.bind(null, { month: \"long\" }),\n    CURRENT_MONTH_NAME_SHORT: date.bind(null, { month: \"short\" }),\n    CURRENT_DATE: date.bind(null, { day: \"2-digit\" }),\n    CURRENT_DAY_NAME: date.bind(null, { weekday: \"long\" }),\n    CURRENT_DAY_NAME_SHORT: date.bind(null, { weekday: \"short\" }),\n    CURRENT_HOUR: date.bind(null, { hour: \"2-digit\", hour12: false }),\n    CURRENT_MINUTE: date.bind(null, { minute: \"2-digit\" }),\n    CURRENT_SECOND: date.bind(null, { second: \"2-digit\" })\n};\nVARIABLES.SELECTED_TEXT = VARIABLES.SELECTION;\nfunction date(dateFormat) {\n    var str = new Date().toLocaleString(\"en-us\", dateFormat);\n    return str.length == 1 ? \"0\" + str : str;\n}\nvar SnippetManager = /** @class */ (function () {\n    function SnippetManager() {\n        this.snippetMap = {};\n        this.snippetNameMap = {};\n        this.variables = VARIABLES;\n    }\n    SnippetManager.prototype.getTokenizer = function () {\n        return SnippetManager[\"$tokenizer\"] || this.createTokenizer();\n    };\n    SnippetManager.prototype.createTokenizer = function () {\n        function TabstopToken(str) {\n            str = str.substr(1);\n            if (/^\\d+$/.test(str))\n                return [{ tabstopId: parseInt(str, 10) }];\n            return [{ text: str }];\n        }\n        function escape(ch) {\n            return \"(?:[^\\\\\\\\\" + ch + \"]|\\\\\\\\.)\";\n        }\n        var formatMatcher = {\n            regex: \"/(\" + escape(\"/\") + \"+)/\",\n            onMatch: function (val, state, stack) {\n                var ts = stack[0];\n                ts.fmtString = true;\n                ts.guard = val.slice(1, -1);\n                ts.flag = \"\";\n                return \"\";\n            },\n            next: \"formatString\"\n        };\n        SnippetManager[\"$tokenizer\"] = new Tokenizer({\n            start: [\n                { regex: /\\\\./, onMatch: function (val, state, stack) {\n                        var ch = val[1];\n                        if (ch == \"}\" && stack.length) {\n                            val = ch;\n                        }\n                        else if (\"`$\\\\\".indexOf(ch) != -1) {\n                            val = ch;\n                        }\n                        return [val];\n                    } },\n                { regex: /}/, onMatch: function (val, state, stack) {\n                        return [stack.length ? stack.shift() : val];\n                    } },\n                { regex: /\\$(?:\\d+|\\w+)/, onMatch: TabstopToken },\n                { regex: /\\$\\{[\\dA-Z_a-z]+/, onMatch: function (str, state, stack) {\n                        var t = TabstopToken(str.substr(1));\n                        stack.unshift(t[0]);\n                        return t;\n                    }, next: \"snippetVar\" },\n                { regex: /\\n/, token: \"newline\", merge: false }\n            ],\n            snippetVar: [\n                { regex: \"\\\\|\" + escape(\"\\\\|\") + \"*\\\\|\", onMatch: function (val, state, stack) {\n                        var choices = val.slice(1, -1).replace(/\\\\[,|\\\\]|,/g, function (operator) {\n                            return operator.length == 2 ? operator[1] : \"\\x00\";\n                        }).split(\"\\x00\").map(function (value) {\n                            return { value: value };\n                        });\n                        stack[0].choices = choices;\n                        return [choices[0]];\n                    }, next: \"start\" },\n                formatMatcher,\n                { regex: \"([^:}\\\\\\\\]|\\\\\\\\.)*:?\", token: \"\", next: \"start\" }\n            ],\n            formatString: [\n                { regex: /:/, onMatch: function (val, state, stack) {\n                        if (stack.length && stack[0].expectElse) {\n                            stack[0].expectElse = false;\n                            stack[0].ifEnd = { elseEnd: stack[0] };\n                            return [stack[0].ifEnd];\n                        }\n                        return \":\";\n                    } },\n                { regex: /\\\\./, onMatch: function (val, state, stack) {\n                        var ch = val[1];\n                        if (ch == \"}\" && stack.length)\n                            val = ch;\n                        else if (\"`$\\\\\".indexOf(ch) != -1)\n                            val = ch;\n                        else if (ch == \"n\")\n                            val = \"\\n\";\n                        else if (ch == \"t\")\n                            val = \"\\t\";\n                        else if (\"ulULE\".indexOf(ch) != -1)\n                            val = { changeCase: ch, local: ch > \"a\" };\n                        return [val];\n                    } },\n                { regex: \"/\\\\w*}\", onMatch: function (val, state, stack) {\n                        var next = stack.shift();\n                        if (next)\n                            next.flag = val.slice(1, -1);\n                        this.next = next && next.tabstopId ? \"start\" : \"\";\n                        return [next || val];\n                    }, next: \"start\" },\n                { regex: /\\$(?:\\d+|\\w+)/, onMatch: function (val, state, stack) {\n                        return [{ text: val.slice(1) }];\n                    } },\n                { regex: /\\${\\w+/, onMatch: function (val, state, stack) {\n                        var token = { text: val.slice(2) };\n                        stack.unshift(token);\n                        return [token];\n                    }, next: \"formatStringVar\" },\n                { regex: /\\n/, token: \"newline\", merge: false },\n                { regex: /}/, onMatch: function (val, state, stack) {\n                        var next = stack.shift();\n                        this.next = next && next.tabstopId ? \"start\" : \"\";\n                        return [next || val];\n                    }, next: \"start\" }\n            ],\n            formatStringVar: [\n                { regex: /:\\/\\w+}/, onMatch: function (val, state, stack) {\n                        var ts = stack[0];\n                        ts.formatFunction = val.slice(2, -1);\n                        return [stack.shift()];\n                    }, next: \"formatString\" },\n                formatMatcher,\n                { regex: /:[\\?\\-+]?/, onMatch: function (val, state, stack) {\n                        if (val[1] == \"+\")\n                            stack[0].ifEnd = stack[0];\n                        if (val[1] == \"?\")\n                            stack[0].expectElse = true;\n                    }, next: \"formatString\" },\n                { regex: \"([^:}\\\\\\\\]|\\\\\\\\.)*:?\", token: \"\", next: \"formatString\" }\n            ]\n        });\n        return SnippetManager[\"$tokenizer\"];\n    };\n    SnippetManager.prototype.tokenizeTmSnippet = function (str, startState) {\n        return this.getTokenizer().getLineTokens(str, startState).tokens.map(function (x) {\n            return x.value || x;\n        });\n    };\n    SnippetManager.prototype.getVariableValue = function (editor, name, indentation) {\n        if (/^\\d+$/.test(name))\n            return (this.variables.__ || {})[name] || \"\";\n        if (/^[A-Z]\\d+$/.test(name))\n            return (this.variables[name[0] + \"__\"] || {})[name.substr(1)] || \"\";\n        name = name.replace(/^TM_/, \"\");\n        if (!this.variables.hasOwnProperty(name))\n            return \"\";\n        var value = this.variables[name];\n        if (typeof value == \"function\")\n            value = this.variables[name](editor, name, indentation);\n        return value == null ? \"\" : value;\n    };\n    SnippetManager.prototype.tmStrFormat = function (str, ch, editor) {\n        if (!ch.fmt)\n            return str;\n        var flag = ch.flag || \"\";\n        var re = ch.guard;\n        re = new RegExp(re, flag.replace(/[^gim]/g, \"\"));\n        var fmtTokens = typeof ch.fmt == \"string\" ? this.tokenizeTmSnippet(ch.fmt, \"formatString\") : ch.fmt;\n        var _self = this;\n        var formatted = str.replace(re, function () {\n            var oldArgs = _self.variables.__;\n            _self.variables.__ = [].slice.call(arguments);\n            var fmtParts = _self.resolveVariables(fmtTokens, editor);\n            var gChangeCase = \"E\";\n            for (var i = 0; i < fmtParts.length; i++) {\n                var ch = fmtParts[i];\n                if (typeof ch == \"object\") {\n                    fmtParts[i] = \"\";\n                    if (ch.changeCase && ch.local) {\n                        var next = fmtParts[i + 1];\n                        if (next && typeof next == \"string\") {\n                            if (ch.changeCase == \"u\")\n                                fmtParts[i] = next[0].toUpperCase();\n                            else\n                                fmtParts[i] = next[0].toLowerCase();\n                            fmtParts[i + 1] = next.substr(1);\n                        }\n                    }\n                    else if (ch.changeCase) {\n                        gChangeCase = ch.changeCase;\n                    }\n                }\n                else if (gChangeCase == \"U\") {\n                    fmtParts[i] = ch.toUpperCase();\n                }\n                else if (gChangeCase == \"L\") {\n                    fmtParts[i] = ch.toLowerCase();\n                }\n            }\n            _self.variables.__ = oldArgs;\n            return fmtParts.join(\"\");\n        });\n        return formatted;\n    };\n    SnippetManager.prototype.tmFormatFunction = function (str, ch, editor) {\n        if (ch.formatFunction == \"upcase\")\n            return str.toUpperCase();\n        if (ch.formatFunction == \"downcase\")\n            return str.toLowerCase();\n        return str;\n    };\n    SnippetManager.prototype.resolveVariables = function (snippet, editor) {\n        var result = [];\n        var indentation = \"\";\n        var afterNewLine = true;\n        for (var i = 0; i < snippet.length; i++) {\n            var ch = snippet[i];\n            if (typeof ch == \"string\") {\n                result.push(ch);\n                if (ch == \"\\n\") {\n                    afterNewLine = true;\n                    indentation = \"\";\n                }\n                else if (afterNewLine) {\n                    indentation = /^\\t*/.exec(ch)[0];\n                    afterNewLine = /\\S/.test(ch);\n                }\n                continue;\n            }\n            if (!ch)\n                continue;\n            afterNewLine = false;\n            if (ch.fmtString) {\n                var j = snippet.indexOf(ch, i + 1);\n                if (j == -1)\n                    j = snippet.length;\n                ch.fmt = snippet.slice(i + 1, j);\n                i = j;\n            }\n            if (ch.text) {\n                var value = this.getVariableValue(editor, ch.text, indentation) + \"\";\n                if (ch.fmtString)\n                    value = this.tmStrFormat(value, ch, editor);\n                if (ch.formatFunction)\n                    value = this.tmFormatFunction(value, ch, editor);\n                if (value && !ch.ifEnd) {\n                    result.push(value);\n                    gotoNext(ch);\n                }\n                else if (!value && ch.ifEnd) {\n                    gotoNext(ch.ifEnd);\n                }\n            }\n            else if (ch.elseEnd) {\n                gotoNext(ch.elseEnd);\n            }\n            else if (ch.tabstopId != null) {\n                result.push(ch);\n            }\n            else if (ch.changeCase != null) {\n                result.push(ch);\n            }\n        }\n        function gotoNext(ch) {\n            var i1 = snippet.indexOf(ch, i + 1);\n            if (i1 != -1)\n                i = i1;\n        }\n        return result;\n    };\n    SnippetManager.prototype.getDisplayTextForSnippet = function (editor, snippetText) {\n        var processedSnippet = processSnippetText.call(this, editor, snippetText);\n        return processedSnippet.text;\n    };\n    SnippetManager.prototype.insertSnippetForSelection = function (editor, snippetText, options) {\n        if (options === void 0) { options = {}; }\n        var processedSnippet = processSnippetText.call(this, editor, snippetText, options);\n        var range = editor.getSelectionRange();\n        var end = editor.session.replace(range, processedSnippet.text);\n        var tabstopManager = new TabstopManager(editor);\n        var selectionId = editor.inVirtualSelectionMode && editor.selection.index;\n        tabstopManager.addTabstops(processedSnippet.tabstops, range.start, end, selectionId);\n    };\n    SnippetManager.prototype.insertSnippet = function (editor, snippetText, options) {\n        if (options === void 0) { options = {}; }\n        var self = this;\n        if (editor.inVirtualSelectionMode)\n            return self.insertSnippetForSelection(editor, snippetText, options);\n        editor.forEachSelection(function () {\n            self.insertSnippetForSelection(editor, snippetText, options);\n        }, null, { keepOrder: true });\n        if (editor.tabstopManager)\n            editor.tabstopManager.tabNext();\n    };\n    SnippetManager.prototype.$getScope = function (editor) {\n        var scope = editor.session.$mode.$id || \"\";\n        scope = scope.split(\"/\").pop();\n        if (scope === \"html\" || scope === \"php\") {\n            if (scope === \"php\" && !editor.session.$mode.inlinePhp)\n                scope = \"html\";\n            var c = editor.getCursorPosition();\n            var state = editor.session.getState(c.row);\n            if (typeof state === \"object\") {\n                state = state[0];\n            }\n            if (state.substring) {\n                if (state.substring(0, 3) == \"js-\")\n                    scope = \"javascript\";\n                else if (state.substring(0, 4) == \"css-\")\n                    scope = \"css\";\n                else if (state.substring(0, 4) == \"php-\")\n                    scope = \"php\";\n            }\n        }\n        return scope;\n    };\n    SnippetManager.prototype.getActiveScopes = function (editor) {\n        var scope = this.$getScope(editor);\n        var scopes = [scope];\n        var snippetMap = this.snippetMap;\n        if (snippetMap[scope] && snippetMap[scope].includeScopes) {\n            scopes.push.apply(scopes, snippetMap[scope].includeScopes);\n        }\n        scopes.push(\"_\");\n        return scopes;\n    };\n    SnippetManager.prototype.expandWithTab = function (editor, options) {\n        var self = this;\n        var result = editor.forEachSelection(function () {\n            return self.expandSnippetForSelection(editor, options);\n        }, null, { keepOrder: true });\n        if (result && editor.tabstopManager)\n            editor.tabstopManager.tabNext();\n        return result;\n    };\n    SnippetManager.prototype.expandSnippetForSelection = function (editor, options) {\n        var cursor = editor.getCursorPosition();\n        var line = editor.session.getLine(cursor.row);\n        var before = line.substring(0, cursor.column);\n        var after = line.substr(cursor.column);\n        var snippetMap = this.snippetMap;\n        var snippet;\n        this.getActiveScopes(editor).some(function (scope) {\n            var snippets = snippetMap[scope];\n            if (snippets)\n                snippet = this.findMatchingSnippet(snippets, before, after);\n            return !!snippet;\n        }, this);\n        if (!snippet)\n            return false;\n        if (options && options.dryRun)\n            return true;\n        editor.session.doc.removeInLine(cursor.row, cursor.column - snippet.replaceBefore.length, cursor.column + snippet.replaceAfter.length);\n        this.variables.M__ = snippet.matchBefore;\n        this.variables.T__ = snippet.matchAfter;\n        this.insertSnippetForSelection(editor, snippet.content);\n        this.variables.M__ = this.variables.T__ = null;\n        return true;\n    };\n    SnippetManager.prototype.findMatchingSnippet = function (snippetList, before, after) {\n        for (var i = snippetList.length; i--;) {\n            var s = snippetList[i];\n            if (s.startRe && !s.startRe.test(before))\n                continue;\n            if (s.endRe && !s.endRe.test(after))\n                continue;\n            if (!s.startRe && !s.endRe)\n                continue;\n            s.matchBefore = s.startRe ? s.startRe.exec(before) : [\"\"];\n            s.matchAfter = s.endRe ? s.endRe.exec(after) : [\"\"];\n            s.replaceBefore = s.triggerRe ? s.triggerRe.exec(before)[0] : \"\";\n            s.replaceAfter = s.endTriggerRe ? s.endTriggerRe.exec(after)[0] : \"\";\n            return s;\n        }\n    };\n    SnippetManager.prototype.register = function (snippets, scope) {\n        var snippetMap = this.snippetMap;\n        var snippetNameMap = this.snippetNameMap;\n        var self = this;\n        if (!snippets)\n            snippets = [];\n        function wrapRegexp(src) {\n            if (src && !/^\\^?\\(.*\\)\\$?$|^\\\\b$/.test(src))\n                src = \"(?:\" + src + \")\";\n            return src || \"\";\n        }\n        function guardedRegexp(re, guard, opening) {\n            re = wrapRegexp(re);\n            guard = wrapRegexp(guard);\n            if (opening) {\n                re = guard + re;\n                if (re && re[re.length - 1] != \"$\")\n                    re = re + \"$\";\n            }\n            else {\n                re = re + guard;\n                if (re && re[0] != \"^\")\n                    re = \"^\" + re;\n            }\n            return new RegExp(re);\n        }\n        function addSnippet(s) {\n            if (!s.scope)\n                s.scope = scope || \"_\";\n            scope = s.scope;\n            if (!snippetMap[scope]) {\n                snippetMap[scope] = [];\n                snippetNameMap[scope] = {};\n            }\n            var map = snippetNameMap[scope];\n            if (s.name) {\n                var old = map[s.name];\n                if (old)\n                    self.unregister(old);\n                map[s.name] = s;\n            }\n            snippetMap[scope].push(s);\n            if (s.prefix)\n                s.tabTrigger = s.prefix;\n            if (!s.content && s.body)\n                s.content = Array.isArray(s.body) ? s.body.join(\"\\n\") : s.body;\n            if (s.tabTrigger && !s.trigger) {\n                if (!s.guard && /^\\w/.test(s.tabTrigger))\n                    s.guard = \"\\\\b\";\n                s.trigger = lang.escapeRegExp(s.tabTrigger);\n            }\n            if (!s.trigger && !s.guard && !s.endTrigger && !s.endGuard)\n                return;\n            s.startRe = guardedRegexp(s.trigger, s.guard, true);\n            s.triggerRe = new RegExp(s.trigger);\n            s.endRe = guardedRegexp(s.endTrigger, s.endGuard, true);\n            s.endTriggerRe = new RegExp(s.endTrigger);\n        }\n        if (Array.isArray(snippets)) {\n            snippets.forEach(addSnippet);\n        }\n        else {\n            Object.keys(snippets).forEach(function (key) {\n                addSnippet(snippets[key]);\n            });\n        }\n        this._signal(\"registerSnippets\", { scope: scope });\n    };\n    SnippetManager.prototype.unregister = function (snippets, scope) {\n        var snippetMap = this.snippetMap;\n        var snippetNameMap = this.snippetNameMap;\n        function removeSnippet(s) {\n            var nameMap = snippetNameMap[s.scope || scope];\n            if (nameMap && nameMap[s.name]) {\n                delete nameMap[s.name];\n                var map = snippetMap[s.scope || scope];\n                var i = map && map.indexOf(s);\n                if (i >= 0)\n                    map.splice(i, 1);\n            }\n        }\n        if (snippets.content)\n            removeSnippet(snippets);\n        else if (Array.isArray(snippets))\n            snippets.forEach(removeSnippet);\n    };\n    SnippetManager.prototype.parseSnippetFile = function (str) {\n        str = str.replace(/\\r/g, \"\");\n        var list = [], /**@type{Snippet}*/ snippet = {};\n        var re = /^#.*|^({[\\s\\S]*})\\s*$|^(\\S+) (.*)$|^((?:\\n*\\t.*)+)/gm;\n        var m;\n        while (m = re.exec(str)) {\n            if (m[1]) {\n                try {\n                    snippet = JSON.parse(m[1]);\n                    list.push(snippet);\n                }\n                catch (e) { }\n            }\n            if (m[4]) {\n                snippet.content = m[4].replace(/^\\t/gm, \"\");\n                list.push(snippet);\n                snippet = {};\n            }\n            else {\n                var key = m[2], val = m[3];\n                if (key == \"regex\") {\n                    var guardRe = /\\/((?:[^\\/\\\\]|\\\\.)*)|$/g;\n                    snippet.guard = guardRe.exec(val)[1];\n                    snippet.trigger = guardRe.exec(val)[1];\n                    snippet.endTrigger = guardRe.exec(val)[1];\n                    snippet.endGuard = guardRe.exec(val)[1];\n                }\n                else if (key == \"snippet\") {\n                    snippet.tabTrigger = val.match(/^\\S*/)[0];\n                    if (!snippet.name)\n                        snippet.name = val;\n                }\n                else if (key) {\n                    snippet[key] = val;\n                }\n            }\n        }\n        return list;\n    };\n    SnippetManager.prototype.getSnippetByName = function (name, editor) {\n        var snippetMap = this.snippetNameMap;\n        var snippet;\n        this.getActiveScopes(editor).some(function (scope) {\n            var snippets = snippetMap[scope];\n            if (snippets)\n                snippet = snippets[name];\n            return !!snippet;\n        }, this);\n        return snippet;\n    };\n    return SnippetManager;\n}());\noop.implement(SnippetManager.prototype, EventEmitter);\nvar processSnippetText = function (editor, snippetText, options) {\n    if (options === void 0) { options = {}; }\n    var cursor = editor.getCursorPosition();\n    var line = editor.session.getLine(cursor.row);\n    var tabString = editor.session.getTabString();\n    var indentString = line.match(/^\\s*/)[0];\n    if (cursor.column < indentString.length)\n        indentString = indentString.slice(0, cursor.column);\n    snippetText = snippetText.replace(/\\r/g, \"\");\n    var tokens = this.tokenizeTmSnippet(snippetText);\n    tokens = this.resolveVariables(tokens, editor);\n    tokens = tokens.map(function (x) {\n        if (x == \"\\n\" && !options.excludeExtraIndent)\n            return x + indentString;\n        if (typeof x == \"string\")\n            return x.replace(/\\t/g, tabString);\n        return x;\n    });\n    var tabstops = [];\n    tokens.forEach(function (p, i) {\n        if (typeof p != \"object\")\n            return;\n        var id = p.tabstopId;\n        var ts = tabstops[id];\n        if (!ts) {\n            ts = tabstops[id] = [];\n            ts.index = id;\n            ts.value = \"\";\n            ts.parents = {};\n        }\n        if (ts.indexOf(p) !== -1)\n            return;\n        if (p.choices && !ts.choices)\n            ts.choices = p.choices;\n        ts.push(p);\n        var i1 = tokens.indexOf(p, i + 1);\n        if (i1 === -1)\n            return;\n        var value = tokens.slice(i + 1, i1);\n        var isNested = value.some(function (t) { return typeof t === \"object\"; });\n        if (isNested && !ts.value) {\n            ts.value = value;\n        }\n        else if (value.length && (!ts.value || typeof ts.value !== \"string\")) {\n            ts.value = value.join(\"\");\n        }\n    });\n    tabstops.forEach(function (ts) { ts.length = 0; });\n    var expanding = {};\n    function copyValue(val) {\n        var copy = [];\n        for (var i = 0; i < val.length; i++) {\n            var p = val[i];\n            if (typeof p == \"object\") {\n                if (expanding[p.tabstopId])\n                    continue;\n                var j = val.lastIndexOf(p, i - 1);\n                p = copy[j] || { tabstopId: p.tabstopId };\n            }\n            copy[i] = p;\n        }\n        return copy;\n    }\n    for (var i = 0; i < tokens.length; i++) {\n        var p = tokens[i];\n        if (typeof p != \"object\")\n            continue;\n        var id = p.tabstopId;\n        var ts = tabstops[id];\n        var i1 = tokens.indexOf(p, i + 1);\n        if (expanding[id]) {\n            if (expanding[id] === p) {\n                delete expanding[id];\n                Object.keys(expanding).forEach(function (parentId) {\n                    ts.parents[parentId] = true;\n                });\n            }\n            continue;\n        }\n        expanding[id] = p;\n        var value = ts.value;\n        if (typeof value !== \"string\")\n            value = copyValue(value);\n        else if (p.fmt)\n            value = this.tmStrFormat(value, p, editor);\n        tokens.splice.apply(tokens, [i + 1, Math.max(0, i1 - i)].concat(value, p));\n        if (ts.indexOf(p) === -1)\n            ts.push(p);\n    }\n    var row = 0, column = 0;\n    var text = \"\";\n    tokens.forEach(function (t) {\n        if (typeof t === \"string\") {\n            var lines = t.split(\"\\n\");\n            if (lines.length > 1) {\n                column = lines[lines.length - 1].length;\n                row += lines.length - 1;\n            }\n            else\n                column += t.length;\n            text += t;\n        }\n        else if (t) {\n            if (!t.start)\n                t.start = { row: row, column: column };\n            else\n                t.end = { row: row, column: column };\n        }\n    });\n    return {\n        text: text,\n        tabstops: tabstops,\n        tokens: tokens\n    };\n};\nvar TabstopManager = /** @class */ (function () {\n    function TabstopManager(editor) {\n        this.index = 0;\n        this.ranges = [];\n        this.tabstops = [];\n        if (editor.tabstopManager)\n            return editor.tabstopManager;\n        editor.tabstopManager = this;\n        this.$onChange = this.onChange.bind(this);\n        this.$onChangeSelection = lang.delayedCall(this.onChangeSelection.bind(this)).schedule;\n        this.$onChangeSession = this.onChangeSession.bind(this);\n        this.$onAfterExec = this.onAfterExec.bind(this);\n        this.attach(editor);\n    }\n    TabstopManager.prototype.attach = function (editor) {\n        this.$openTabstops = null;\n        this.selectedTabstop = null;\n        this.editor = editor;\n        this.session = editor.session;\n        this.editor.on(\"change\", this.$onChange);\n        this.editor.on(\"changeSelection\", this.$onChangeSelection);\n        this.editor.on(\"changeSession\", this.$onChangeSession);\n        this.editor.commands.on(\"afterExec\", this.$onAfterExec);\n        this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler);\n    };\n    TabstopManager.prototype.detach = function () {\n        this.tabstops.forEach(this.removeTabstopMarkers, this);\n        this.ranges.length = 0;\n        this.tabstops.length = 0;\n        this.selectedTabstop = null;\n        this.editor.off(\"change\", this.$onChange);\n        this.editor.off(\"changeSelection\", this.$onChangeSelection);\n        this.editor.off(\"changeSession\", this.$onChangeSession);\n        this.editor.commands.off(\"afterExec\", this.$onAfterExec);\n        this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler);\n        this.editor.tabstopManager = null;\n        this.session = null;\n        this.editor = null;\n    };\n    TabstopManager.prototype.onChange = function (delta) {\n        var isRemove = delta.action[0] == \"r\";\n        var selectedTabstop = this.selectedTabstop || {};\n        var parents = selectedTabstop.parents || {};\n        var tabstops = this.tabstops.slice();\n        for (var i = 0; i < tabstops.length; i++) {\n            var ts = tabstops[i];\n            var active = ts == selectedTabstop || parents[ts.index];\n            ts.rangeList.$bias = active ? 0 : 1;\n            if (delta.action == \"remove\" && ts !== selectedTabstop) {\n                var parentActive = ts.parents && ts.parents[selectedTabstop.index];\n                var startIndex = ts.rangeList.pointIndex(delta.start, parentActive);\n                startIndex = startIndex < 0 ? -startIndex - 1 : startIndex + 1;\n                var endIndex = ts.rangeList.pointIndex(delta.end, parentActive);\n                endIndex = endIndex < 0 ? -endIndex - 1 : endIndex - 1;\n                var toRemove = ts.rangeList.ranges.slice(startIndex, endIndex);\n                for (var j = 0; j < toRemove.length; j++)\n                    this.removeRange(toRemove[j]);\n            }\n            ts.rangeList.$onChange(delta);\n        }\n        var session = this.session;\n        if (!this.$inChange && isRemove && session.getLength() == 1 && !session.getValue())\n            this.detach();\n    };\n    TabstopManager.prototype.updateLinkedFields = function () {\n        var ts = this.selectedTabstop;\n        if (!ts || !ts.hasLinkedRanges || !ts.firstNonLinked)\n            return;\n        this.$inChange = true;\n        var session = this.session;\n        var text = session.getTextRange(ts.firstNonLinked);\n        for (var i = 0; i < ts.length; i++) {\n            var range = ts[i];\n            if (!range.linked)\n                continue;\n            var original = range.original;\n            var fmt = exports.snippetManager.tmStrFormat(text, original, this.editor);\n            session.replace(range, fmt);\n        }\n        this.$inChange = false;\n    };\n    TabstopManager.prototype.onAfterExec = function (e) {\n        if (e.command && !e.command.readOnly)\n            this.updateLinkedFields();\n    };\n    TabstopManager.prototype.onChangeSelection = function () {\n        if (!this.editor)\n            return;\n        var lead = this.editor.selection.lead;\n        var anchor = this.editor.selection.anchor;\n        var isEmpty = this.editor.selection.isEmpty();\n        for (var i = 0; i < this.ranges.length; i++) {\n            if (this.ranges[i].linked)\n                continue;\n            var containsLead = this.ranges[i].contains(lead.row, lead.column);\n            var containsAnchor = isEmpty || this.ranges[i].contains(anchor.row, anchor.column);\n            if (containsLead && containsAnchor)\n                return;\n        }\n        this.detach();\n    };\n    TabstopManager.prototype.onChangeSession = function () {\n        this.detach();\n    };\n    TabstopManager.prototype.tabNext = function (dir) {\n        var max = this.tabstops.length;\n        var index = this.index + (dir || 1);\n        index = Math.min(Math.max(index, 1), max);\n        if (index == max)\n            index = 0;\n        this.selectTabstop(index);\n        this.updateTabstopMarkers();\n        if (index === 0) {\n            this.detach();\n        }\n    };\n    TabstopManager.prototype.selectTabstop = function (index) {\n        this.$openTabstops = null;\n        var ts = this.tabstops[this.index];\n        if (ts)\n            this.addTabstopMarkers(ts);\n        this.index = index;\n        ts = this.tabstops[this.index];\n        if (!ts || !ts.length)\n            return;\n        this.selectedTabstop = ts;\n        var range = ts.firstNonLinked || ts;\n        if (ts.choices)\n            range.cursor = range.start;\n        if (!this.editor.inVirtualSelectionMode) {\n            var sel = this.editor.multiSelect;\n            sel.toSingleRange(range);\n            for (var i = 0; i < ts.length; i++) {\n                if (ts.hasLinkedRanges && ts[i].linked)\n                    continue;\n                sel.addRange(ts[i].clone(), true);\n            }\n        }\n        else {\n            this.editor.selection.fromOrientedRange(range);\n        }\n        this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler);\n        if (this.selectedTabstop && this.selectedTabstop.choices)\n            this.editor.execCommand(\"startAutocomplete\", { matches: this.selectedTabstop.choices });\n    };\n    TabstopManager.prototype.addTabstops = function (tabstops, start, end) {\n        var useLink = this.useLink || !this.editor.getOption(\"enableMultiselect\");\n        if (!this.$openTabstops)\n            this.$openTabstops = [];\n        if (!tabstops[0]) {\n            var p = Range.fromPoints(end, end);\n            moveRelative(p.start, start);\n            moveRelative(p.end, start);\n            tabstops[0] = [p];\n            tabstops[0].index = 0;\n        }\n        var i = this.index;\n        var arg = [i + 1, 0];\n        var ranges = this.ranges;\n        var snippetId = this.snippetId = (this.snippetId || 0) + 1;\n        tabstops.forEach(function (ts, index) {\n            var dest = this.$openTabstops[index] || ts;\n            dest.snippetId = snippetId;\n            for (var i = 0; i < ts.length; i++) {\n                var p = ts[i];\n                var range = Range.fromPoints(p.start, p.end || p.start);\n                movePoint(range.start, start);\n                movePoint(range.end, start);\n                range.original = p;\n                range.tabstop = dest;\n                ranges.push(range);\n                if (dest != ts)\n                    dest.unshift(range);\n                else\n                    dest[i] = range;\n                if (p.fmtString || (dest.firstNonLinked && useLink)) {\n                    range.linked = true;\n                    dest.hasLinkedRanges = true;\n                }\n                else if (!dest.firstNonLinked)\n                    dest.firstNonLinked = range;\n            }\n            if (!dest.firstNonLinked)\n                dest.hasLinkedRanges = false;\n            if (dest === ts) {\n                arg.push(dest);\n                this.$openTabstops[index] = dest;\n            }\n            this.addTabstopMarkers(dest);\n            dest.rangeList = dest.rangeList || new RangeList();\n            dest.rangeList.$bias = 0;\n            dest.rangeList.addList(dest);\n        }, this);\n        if (arg.length > 2) {\n            if (this.tabstops.length)\n                arg.push(arg.splice(2, 1)[0]);\n            this.tabstops.splice.apply(this.tabstops, arg);\n        }\n    };\n    TabstopManager.prototype.addTabstopMarkers = function (ts) {\n        var session = this.session;\n        ts.forEach(function (range) {\n            if (!range.markerId)\n                range.markerId = session.addMarker(range, \"ace_snippet-marker\", \"text\");\n        });\n    };\n    TabstopManager.prototype.removeTabstopMarkers = function (ts) {\n        var session = this.session;\n        ts.forEach(function (range) {\n            session.removeMarker(range.markerId);\n            range.markerId = null;\n        });\n    };\n    TabstopManager.prototype.updateTabstopMarkers = function () {\n        if (!this.selectedTabstop)\n            return;\n        var currentSnippetId = this.selectedTabstop.snippetId;\n        if (this.selectedTabstop.index === 0) {\n            currentSnippetId--;\n        }\n        this.tabstops.forEach(function (ts) {\n            if (ts.snippetId === currentSnippetId)\n                this.addTabstopMarkers(ts);\n            else\n                this.removeTabstopMarkers(ts);\n        }, this);\n    };\n    TabstopManager.prototype.removeRange = function (range) {\n        var i = range.tabstop.indexOf(range);\n        if (i != -1)\n            range.tabstop.splice(i, 1);\n        i = this.ranges.indexOf(range);\n        if (i != -1)\n            this.ranges.splice(i, 1);\n        i = range.tabstop.rangeList.ranges.indexOf(range);\n        if (i != -1)\n            range.tabstop.splice(i, 1);\n        this.session.removeMarker(range.markerId);\n        if (!range.tabstop.length) {\n            i = this.tabstops.indexOf(range.tabstop);\n            if (i != -1)\n                this.tabstops.splice(i, 1);\n            if (!this.tabstops.length)\n                this.detach();\n        }\n    };\n    return TabstopManager;\n}());\nTabstopManager.prototype.keyboardHandler = new HashHandler();\nTabstopManager.prototype.keyboardHandler.bindKeys({\n    \"Tab\": function (editor) {\n        if (exports.snippetManager && exports.snippetManager.expandWithTab(editor))\n            return;\n        editor.tabstopManager.tabNext(1);\n        editor.renderer.scrollCursorIntoView();\n    },\n    \"Shift-Tab\": function (editor) {\n        editor.tabstopManager.tabNext(-1);\n        editor.renderer.scrollCursorIntoView();\n    },\n    \"Esc\": function (editor) {\n        editor.tabstopManager.detach();\n    }\n});\nvar movePoint = function (point, diff) {\n    if (point.row == 0)\n        point.column += diff.column;\n    point.row += diff.row;\n};\nvar moveRelative = function (point, start) {\n    if (point.row == start.row)\n        point.column -= start.column;\n    point.row -= start.row;\n};\ndom.importCssString(\"\\n.ace_snippet-marker {\\n    -moz-box-sizing: border-box;\\n    box-sizing: border-box;\\n    background: rgba(194, 193, 208, 0.09);\\n    border: 1px dotted rgba(211, 208, 235, 0.62);\\n    position: absolute;\\n}\", \"snippets.css\", false);\nexports.snippetManager = new SnippetManager();\nvar Editor = require(\"./editor\").Editor;\n(function () {\n    this.insertSnippet = function (content, options) {\n        return exports.snippetManager.insertSnippet(this, content, options);\n    };\n    this.expandSnippet = function (options) {\n        return exports.snippetManager.expandWithTab(this, options);\n    };\n}).call(Editor.prototype);\n\n});\n\nace.define(\"ace/autocomplete/inline_screenreader\",[\"require\",\"exports\",\"module\"], function(require, exports, module){\"use strict\";\nvar AceInlineScreenReader = /** @class */ (function () {\n    function AceInlineScreenReader(editor) {\n        this.editor = editor;\n        this.screenReaderDiv = document.createElement(\"div\");\n        this.screenReaderDiv.classList.add(\"ace_screenreader-only\");\n        this.editor.container.appendChild(this.screenReaderDiv);\n    }\n    AceInlineScreenReader.prototype.setScreenReaderContent = function (content) {\n        if (!this.popup && this.editor.completer && /**@type{import(\"../autocomplete\").Autocomplete}*/ (this.editor.completer).popup) {\n            this.popup = /**@type{import(\"../autocomplete\").Autocomplete}*/ (this.editor.completer).popup;\n            this.popup.renderer.on(\"afterRender\", function () {\n                var row = this.popup.getRow();\n                var t = this.popup.renderer.$textLayer;\n                var selected = t.element.childNodes[row - t.config.firstRow];\n                if (selected) {\n                    var idString = \"doc-tooltip \";\n                    for (var lineIndex = 0; lineIndex < this._lines.length; lineIndex++) {\n                        idString += \"ace-inline-screenreader-line-\".concat(lineIndex, \" \");\n                    }\n                    selected.setAttribute(\"aria-describedby\", idString);\n                }\n            }.bind(this));\n        }\n        while (this.screenReaderDiv.firstChild) {\n            this.screenReaderDiv.removeChild(this.screenReaderDiv.firstChild);\n        }\n        this._lines = content.split(/\\r\\n|\\r|\\n/);\n        var codeElement = this.createCodeBlock();\n        this.screenReaderDiv.appendChild(codeElement);\n    };\n    AceInlineScreenReader.prototype.destroy = function () {\n        this.screenReaderDiv.remove();\n    };\n    AceInlineScreenReader.prototype.createCodeBlock = function () {\n        var container = document.createElement(\"pre\");\n        container.setAttribute(\"id\", \"ace-inline-screenreader\");\n        for (var lineIndex = 0; lineIndex < this._lines.length; lineIndex++) {\n            var codeElement = document.createElement(\"code\");\n            codeElement.setAttribute(\"id\", \"ace-inline-screenreader-line-\".concat(lineIndex));\n            var line = document.createTextNode(this._lines[lineIndex]);\n            codeElement.appendChild(line);\n            container.appendChild(codeElement);\n        }\n        return container;\n    };\n    return AceInlineScreenReader;\n}());\nexports.AceInlineScreenReader = AceInlineScreenReader;\n\n});\n\nace.define(\"ace/autocomplete/inline\",[\"require\",\"exports\",\"module\",\"ace/snippets\",\"ace/autocomplete/inline_screenreader\"], function(require, exports, module){\"use strict\";\nvar snippetManager = require(\"../snippets\").snippetManager;\nvar AceInlineScreenReader = require(\"./inline_screenreader\").AceInlineScreenReader;\nvar AceInline = /** @class */ (function () {\n    function AceInline() {\n        this.editor = null;\n    }\n    AceInline.prototype.show = function (editor, completion, prefix) {\n        prefix = prefix || \"\";\n        if (editor && this.editor && this.editor !== editor) {\n            this.hide();\n            this.editor = null;\n            this.inlineScreenReader = null;\n        }\n        if (!editor || !completion) {\n            return false;\n        }\n        if (!this.inlineScreenReader) {\n            this.inlineScreenReader = new AceInlineScreenReader(editor);\n        }\n        var displayText = completion.snippet ? snippetManager.getDisplayTextForSnippet(editor, completion.snippet) : completion.value;\n        if (completion.hideInlinePreview || !displayText || !displayText.startsWith(prefix)) {\n            return false;\n        }\n        this.editor = editor;\n        this.inlineScreenReader.setScreenReaderContent(displayText);\n        displayText = displayText.slice(prefix.length);\n        if (displayText === \"\") {\n            editor.removeGhostText();\n        }\n        else {\n            editor.setGhostText(displayText);\n        }\n        return true;\n    };\n    AceInline.prototype.isOpen = function () {\n        if (!this.editor) {\n            return false;\n        }\n        return !!this.editor.renderer.$ghostText;\n    };\n    AceInline.prototype.hide = function () {\n        if (!this.editor) {\n            return false;\n        }\n        this.editor.removeGhostText();\n        return true;\n    };\n    AceInline.prototype.destroy = function () {\n        this.hide();\n        this.editor = null;\n        if (this.inlineScreenReader) {\n            this.inlineScreenReader.destroy();\n            this.inlineScreenReader = null;\n        }\n    };\n    return AceInline;\n}());\nexports.AceInline = AceInline;\n\n});\n\nace.define(\"ace/autocomplete/popup\",[\"require\",\"exports\",\"module\",\"ace/virtual_renderer\",\"ace/editor\",\"ace/range\",\"ace/lib/event\",\"ace/lib/lang\",\"ace/lib/dom\",\"ace/config\",\"ace/lib/useragent\"], function(require, exports, module){\"use strict\";\nvar Renderer = require(\"../virtual_renderer\").VirtualRenderer;\nvar Editor = require(\"../editor\").Editor;\nvar Range = require(\"../range\").Range;\nvar event = require(\"../lib/event\");\nvar lang = require(\"../lib/lang\");\nvar dom = require(\"../lib/dom\");\nvar nls = require(\"../config\").nls;\nvar userAgent = require(\"./../lib/useragent\");\nvar getAriaId = function (index) {\n    return \"suggest-aria-id:\".concat(index);\n};\nvar popupAriaRole = userAgent.isSafari ? \"menu\" : \"listbox\";\nvar optionAriaRole = userAgent.isSafari ? \"menuitem\" : \"option\";\nvar ariaActiveState = userAgent.isSafari ? \"aria-current\" : \"aria-selected\";\nvar $singleLineEditor = function (el) {\n    var renderer = new Renderer(el);\n    renderer.$maxLines = 4;\n    var editor = new Editor(renderer);\n    editor.setHighlightActiveLine(false);\n    editor.setShowPrintMargin(false);\n    editor.renderer.setShowGutter(false);\n    editor.renderer.setHighlightGutterLine(false);\n    editor.$mouseHandler.$focusTimeout = 0;\n    editor.$highlightTagPending = true;\n    return editor;\n};\nvar AcePopup = /** @class */ (function () {\n    function AcePopup(parentNode) {\n        var el = dom.createElement(\"div\");\n        var popup = $singleLineEditor(el);\n        if (parentNode) {\n            parentNode.appendChild(el);\n        }\n        el.style.display = \"none\";\n        popup.renderer.content.style.cursor = \"default\";\n        popup.renderer.setStyle(\"ace_autocomplete\");\n        popup.renderer.$textLayer.element.setAttribute(\"role\", popupAriaRole);\n        popup.renderer.$textLayer.element.setAttribute(\"aria-roledescription\", nls(\"autocomplete.popup.aria-roledescription\", \"Autocomplete suggestions\"));\n        popup.renderer.$textLayer.element.setAttribute(\"aria-label\", nls(\"autocomplete.popup.aria-label\", \"Autocomplete suggestions\"));\n        popup.renderer.textarea.setAttribute(\"aria-hidden\", \"true\");\n        popup.setOption(\"displayIndentGuides\", false);\n        popup.setOption(\"dragDelay\", 150);\n        var noop = function () { };\n        popup.focus = noop;\n        popup.$isFocused = true;\n        popup.renderer.$cursorLayer.restartTimer = noop;\n        popup.renderer.$cursorLayer.element.style.opacity = \"0\";\n        popup.renderer.$maxLines = 8;\n        popup.renderer.$keepTextAreaAtCursor = false;\n        popup.setHighlightActiveLine(false);\n        popup.session.highlight(\"\");\n        popup.session.$searchHighlight.clazz = \"ace_highlight-marker\";\n        popup.on(\"mousedown\", function (e) {\n            var pos = e.getDocumentPosition();\n            popup.selection.moveToPosition(pos);\n            selectionMarker.start.row = selectionMarker.end.row = pos.row;\n            e.stop();\n        });\n        var lastMouseEvent;\n        var hoverMarker = new Range(-1, 0, -1, Infinity);\n        var selectionMarker = new Range(-1, 0, -1, Infinity);\n        selectionMarker.id = popup.session.addMarker(selectionMarker, \"ace_active-line\", \"fullLine\");\n        popup.setSelectOnHover = function (val) {\n            if (!val) {\n                hoverMarker.id = popup.session.addMarker(hoverMarker, \"ace_line-hover\", \"fullLine\");\n            }\n            else if (hoverMarker.id) {\n                popup.session.removeMarker(hoverMarker.id);\n                hoverMarker.id = null;\n            }\n        };\n        popup.setSelectOnHover(false);\n        popup.on(\"mousemove\", function (e) {\n            if (!lastMouseEvent) {\n                lastMouseEvent = e;\n                return;\n            }\n            if (lastMouseEvent.x == e.x && lastMouseEvent.y == e.y) {\n                return;\n            }\n            lastMouseEvent = e;\n            lastMouseEvent.scrollTop = popup.renderer.scrollTop;\n            popup.isMouseOver = true;\n            var row = lastMouseEvent.getDocumentPosition().row;\n            if (hoverMarker.start.row != row) {\n                if (!hoverMarker.id)\n                    popup.setRow(row);\n                setHoverMarker(row);\n            }\n        });\n        popup.renderer.on(\"beforeRender\", function () {\n            if (lastMouseEvent && hoverMarker.start.row != -1) {\n                lastMouseEvent.$pos = null;\n                var row = lastMouseEvent.getDocumentPosition().row;\n                if (!hoverMarker.id)\n                    popup.setRow(row);\n                setHoverMarker(row, true);\n            }\n        });\n        popup.renderer.on(\"afterRender\", function () {\n            var t = popup.renderer.$textLayer;\n            for (var row = t.config.firstRow, l = t.config.lastRow; row <= l; row++) {\n                var popupRowElement = /** @type {HTMLElement|null} */ (t.element.childNodes[row - t.config.firstRow]);\n                popupRowElement.setAttribute(\"role\", optionAriaRole);\n                popupRowElement.setAttribute(\"aria-roledescription\", nls(\"autocomplete.popup.item.aria-roledescription\", \"item\"));\n                popupRowElement.setAttribute(\"aria-setsize\", popup.data.length);\n                popupRowElement.setAttribute(\"aria-describedby\", \"doc-tooltip\");\n                popupRowElement.setAttribute(\"aria-posinset\", row + 1);\n                var rowData = popup.getData(row);\n                if (rowData) {\n                    var ariaLabel = \"\".concat(rowData.caption || rowData.value).concat(rowData.meta ? \", \".concat(rowData.meta) : '');\n                    popupRowElement.setAttribute(\"aria-label\", ariaLabel);\n                }\n                var highlightedSpans = popupRowElement.querySelectorAll(\".ace_completion-highlight\");\n                highlightedSpans.forEach(function (span) {\n                    span.setAttribute(\"role\", \"mark\");\n                });\n            }\n        });\n        popup.renderer.on(\"afterRender\", function () {\n            var row = popup.getRow();\n            var t = popup.renderer.$textLayer;\n            var selected = /** @type {HTMLElement|null} */ (t.element.childNodes[row - t.config.firstRow]);\n            var el = document.activeElement; // Active element is textarea of main editor\n            if (selected !== popup.selectedNode && popup.selectedNode) {\n                dom.removeCssClass(popup.selectedNode, \"ace_selected\");\n                popup.selectedNode.removeAttribute(ariaActiveState);\n                popup.selectedNode.removeAttribute(\"id\");\n            }\n            el.removeAttribute(\"aria-activedescendant\");\n            popup.selectedNode = selected;\n            if (selected) {\n                var ariaId = getAriaId(row);\n                dom.addCssClass(selected, \"ace_selected\");\n                selected.id = ariaId;\n                t.element.setAttribute(\"aria-activedescendant\", ariaId);\n                el.setAttribute(\"aria-activedescendant\", ariaId);\n                selected.setAttribute(ariaActiveState, \"true\");\n            }\n        });\n        var hideHoverMarker = function () { setHoverMarker(-1); };\n        var setHoverMarker = function (row, suppressRedraw) {\n            if (row !== hoverMarker.start.row) {\n                hoverMarker.start.row = hoverMarker.end.row = row;\n                if (!suppressRedraw)\n                    popup.session._emit(\"changeBackMarker\");\n                popup._emit(\"changeHoverMarker\");\n            }\n        };\n        popup.getHoveredRow = function () {\n            return hoverMarker.start.row;\n        };\n        event.addListener(popup.container, \"mouseout\", function () {\n            popup.isMouseOver = false;\n            hideHoverMarker();\n        });\n        popup.on(\"hide\", hideHoverMarker);\n        popup.on(\"changeSelection\", hideHoverMarker);\n        popup.session.doc.getLength = function () {\n            return popup.data.length;\n        };\n        popup.session.doc.getLine = function (i) {\n            var data = popup.data[i];\n            if (typeof data == \"string\")\n                return data;\n            return (data && data.value) || \"\";\n        };\n        var bgTokenizer = popup.session.bgTokenizer;\n        bgTokenizer.$tokenizeRow = function (row) {\n            var data = popup.data[row];\n            var tokens = [];\n            if (!data)\n                return tokens;\n            if (typeof data == \"string\")\n                data = { value: data };\n            var caption = data.caption || data.value || data.name;\n            function addToken(value, className) {\n                value && tokens.push({\n                    type: (data.className || \"\") + (className || \"\"),\n                    value: value\n                });\n            }\n            var lower = caption.toLowerCase();\n            var filterText = (popup.filterText || \"\").toLowerCase();\n            var lastIndex = 0;\n            var lastI = 0;\n            for (var i = 0; i <= filterText.length; i++) {\n                if (i != lastI && (data.matchMask & (1 << i) || i == filterText.length)) {\n                    var sub = filterText.slice(lastI, i);\n                    lastI = i;\n                    var index = lower.indexOf(sub, lastIndex);\n                    if (index == -1)\n                        continue;\n                    addToken(caption.slice(lastIndex, index), \"\");\n                    lastIndex = index + sub.length;\n                    addToken(caption.slice(index, lastIndex), \"completion-highlight\");\n                }\n            }\n            addToken(caption.slice(lastIndex, caption.length), \"\");\n            tokens.push({ type: \"completion-spacer\", value: \" \" });\n            if (data.meta)\n                tokens.push({ type: \"completion-meta\", value: data.meta });\n            if (data.message)\n                tokens.push({ type: \"completion-message\", value: data.message });\n            return tokens;\n        };\n        bgTokenizer.$updateOnChange = noop;\n        bgTokenizer.start = noop;\n        popup.session.$computeWidth = function () {\n            return this.screenWidth = 0;\n        };\n        popup.isOpen = false;\n        popup.isTopdown = false;\n        popup.autoSelect = true;\n        popup.filterText = \"\";\n        popup.isMouseOver = false;\n        popup.data = [];\n        popup.setData = function (list, filterText) {\n            popup.filterText = filterText || \"\";\n            popup.setValue(lang.stringRepeat(\"\\n\", list.length), -1);\n            popup.data = list || [];\n            popup.setRow(0);\n        };\n        popup.getData = function (row) {\n            return popup.data[row];\n        };\n        popup.getRow = function () {\n            return selectionMarker.start.row;\n        };\n        popup.setRow = function (line) {\n            line = Math.max(this.autoSelect ? 0 : -1, Math.min(this.data.length - 1, line));\n            if (selectionMarker.start.row != line) {\n                popup.selection.clearSelection();\n                selectionMarker.start.row = selectionMarker.end.row = line || 0;\n                popup.session._emit(\"changeBackMarker\");\n                popup.moveCursorTo(line || 0, 0);\n                if (popup.isOpen)\n                    popup._signal(\"select\");\n            }\n        };\n        popup.on(\"changeSelection\", function () {\n            if (popup.isOpen)\n                popup.setRow(popup.selection.lead.row);\n            popup.renderer.scrollCursorIntoView();\n        });\n        popup.hide = function () {\n            this.container.style.display = \"none\";\n            popup.anchorPos = null;\n            popup.anchor = null;\n            if (popup.isOpen) {\n                popup.isOpen = false;\n                this._signal(\"hide\");\n            }\n        };\n        popup.tryShow = function (pos, lineHeight, anchor, forceShow) {\n            if (!forceShow && popup.isOpen && popup.anchorPos && popup.anchor &&\n                popup.anchorPos.top === pos.top && popup.anchorPos.left === pos.left &&\n                popup.anchor === anchor) {\n                return true;\n            }\n            var el = this.container;\n            var scrollBarSize = this.renderer.scrollBar.width || 10;\n            var screenHeight = window.innerHeight - scrollBarSize;\n            var screenWidth = window.innerWidth - scrollBarSize;\n            var renderer = this.renderer;\n            var maxH = renderer.$maxLines * lineHeight * 1.4;\n            var dims = { top: 0, bottom: 0, left: 0 };\n            var spaceBelow = screenHeight - pos.top - 3 * this.$borderSize - lineHeight;\n            var spaceAbove = pos.top - 3 * this.$borderSize;\n            if (!anchor) {\n                if (spaceAbove <= spaceBelow || spaceBelow >= maxH) {\n                    anchor = \"bottom\";\n                }\n                else {\n                    anchor = \"top\";\n                }\n            }\n            if (anchor === \"top\") {\n                dims.bottom = pos.top - this.$borderSize;\n                dims.top = dims.bottom - maxH;\n            }\n            else if (anchor === \"bottom\") {\n                dims.top = pos.top + lineHeight + this.$borderSize;\n                dims.bottom = dims.top + maxH;\n            }\n            var fitsX = dims.top >= 0 && dims.bottom <= screenHeight;\n            if (!forceShow && !fitsX) {\n                return false;\n            }\n            if (!fitsX) {\n                if (anchor === \"top\") {\n                    renderer.$maxPixelHeight = spaceAbove;\n                }\n                else {\n                    renderer.$maxPixelHeight = spaceBelow;\n                }\n            }\n            else {\n                renderer.$maxPixelHeight = null;\n            }\n            if (anchor === \"top\") {\n                el.style.top = \"\";\n                el.style.bottom = (screenHeight + scrollBarSize - dims.bottom) + \"px\";\n                popup.isTopdown = false;\n            }\n            else {\n                el.style.top = dims.top + \"px\";\n                el.style.bottom = \"\";\n                popup.isTopdown = true;\n            }\n            el.style.display = \"\";\n            var left = pos.left;\n            if (left + el.offsetWidth > screenWidth)\n                left = screenWidth - el.offsetWidth;\n            el.style.left = left + \"px\";\n            el.style.right = \"\";\n            if (!popup.isOpen) {\n                popup.isOpen = true;\n                this._signal(\"show\");\n                lastMouseEvent = null;\n            }\n            popup.anchorPos = pos;\n            popup.anchor = anchor;\n            return true;\n        };\n        popup.show = function (pos, lineHeight, topdownOnly) {\n            this.tryShow(pos, lineHeight, topdownOnly ? \"bottom\" : undefined, true);\n        };\n        popup.goTo = function (where) {\n            var row = this.getRow();\n            var max = this.session.getLength() - 1;\n            switch (where) {\n                case \"up\":\n                    row = row <= 0 ? max : row - 1;\n                    break;\n                case \"down\":\n                    row = row >= max ? -1 : row + 1;\n                    break;\n                case \"start\":\n                    row = 0;\n                    break;\n                case \"end\":\n                    row = max;\n                    break;\n            }\n            this.setRow(row);\n        };\n        popup.getTextLeftOffset = function () {\n            return this.$borderSize + this.renderer.$padding + this.$imageSize;\n        };\n        popup.$imageSize = 0;\n        popup.$borderSize = 1;\n        return popup;\n    }\n    return AcePopup;\n}());\ndom.importCssString(\"\\n.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {\\n    background-color: #CAD6FA;\\n    z-index: 1;\\n}\\n.ace_dark.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {\\n    background-color: #3a674e;\\n}\\n.ace_editor.ace_autocomplete .ace_line-hover {\\n    border: 1px solid #abbffe;\\n    margin-top: -1px;\\n    background: rgba(233,233,253,0.4);\\n    position: absolute;\\n    z-index: 2;\\n}\\n.ace_dark.ace_editor.ace_autocomplete .ace_line-hover {\\n    border: 1px solid rgba(109, 150, 13, 0.8);\\n    background: rgba(58, 103, 78, 0.62);\\n}\\n.ace_completion-meta {\\n    opacity: 0.5;\\n    margin-left: 0.9em;\\n}\\n.ace_completion-message {\\n    margin-left: 0.9em;\\n    color: blue;\\n}\\n.ace_editor.ace_autocomplete .ace_completion-highlight{\\n    color: #2d69c7;\\n}\\n.ace_dark.ace_editor.ace_autocomplete .ace_completion-highlight{\\n    color: #93ca12;\\n}\\n.ace_editor.ace_autocomplete {\\n    width: 300px;\\n    z-index: 200000;\\n    border: 1px lightgray solid;\\n    position: fixed;\\n    box-shadow: 2px 3px 5px rgba(0,0,0,.2);\\n    line-height: 1.4;\\n    background: #fefefe;\\n    color: #111;\\n}\\n.ace_dark.ace_editor.ace_autocomplete {\\n    border: 1px #484747 solid;\\n    box-shadow: 2px 3px 5px rgba(0, 0, 0, 0.51);\\n    line-height: 1.4;\\n    background: #25282c;\\n    color: #c1c1c1;\\n}\\n.ace_autocomplete .ace_text-layer  {\\n    width: calc(100% - 8px);\\n}\\n.ace_autocomplete .ace_line {\\n    display: flex;\\n    align-items: center;\\n}\\n.ace_autocomplete .ace_line > * {\\n    min-width: 0;\\n    flex: 0 0 auto;\\n}\\n.ace_autocomplete .ace_line .ace_ {\\n    flex: 0 1 auto;\\n    overflow: hidden;\\n    text-overflow: ellipsis;\\n}\\n.ace_autocomplete .ace_completion-spacer {\\n    flex: 1;\\n}\\n.ace_autocomplete.ace_loading:after  {\\n    content: \\\"\\\";\\n    position: absolute;\\n    top: 0px;\\n    height: 2px;\\n    width: 8%;\\n    background: blue;\\n    z-index: 100;\\n    animation: ace_progress 3s infinite linear;\\n    animation-delay: 300ms;\\n    transform: translateX(-100%) scaleX(1);\\n}\\n@keyframes ace_progress {\\n    0% { transform: translateX(-100%) scaleX(1) }\\n    50% { transform: translateX(625%) scaleX(2) } \\n    100% { transform: translateX(1500%) scaleX(3) } \\n}\\n@media (prefers-reduced-motion) {\\n    .ace_autocomplete.ace_loading:after {\\n        transform: translateX(625%) scaleX(2);\\n        animation: none;\\n     }\\n}\\n\", \"autocompletion.css\", false);\nexports.AcePopup = AcePopup;\nexports.$singleLineEditor = $singleLineEditor;\nexports.getAriaId = getAriaId;\n\n});\n\nace.define(\"ace/autocomplete/util\",[\"require\",\"exports\",\"module\"], function(require, exports, module){\"use strict\";\nexports.parForEach = function (array, fn, callback) {\n    var completed = 0;\n    var arLength = array.length;\n    if (arLength === 0)\n        callback();\n    for (var i = 0; i < arLength; i++) {\n        fn(array[i], function (result, err) {\n            completed++;\n            if (completed === arLength)\n                callback(result, err);\n        });\n    }\n};\nvar ID_REGEX = /[a-zA-Z_0-9\\$\\-\\u00A2-\\u2000\\u2070-\\uFFFF]/;\nexports.retrievePrecedingIdentifier = function (text, pos, regex) {\n    regex = regex || ID_REGEX;\n    var buf = [];\n    for (var i = pos - 1; i >= 0; i--) {\n        if (regex.test(text[i]))\n            buf.push(text[i]);\n        else\n            break;\n    }\n    return buf.reverse().join(\"\");\n};\nexports.retrieveFollowingIdentifier = function (text, pos, regex) {\n    regex = regex || ID_REGEX;\n    var buf = [];\n    for (var i = pos; i < text.length; i++) {\n        if (regex.test(text[i]))\n            buf.push(text[i]);\n        else\n            break;\n    }\n    return buf;\n};\nexports.getCompletionPrefix = function (editor) {\n    var pos = editor.getCursorPosition();\n    var line = editor.session.getLine(pos.row);\n    var prefix;\n    editor.completers.forEach(function (completer) {\n        if (completer.identifierRegexps) {\n            completer.identifierRegexps.forEach(function (identifierRegex) {\n                if (!prefix && identifierRegex)\n                    prefix = this.retrievePrecedingIdentifier(line, pos.column, identifierRegex);\n            }.bind(this));\n        }\n    }.bind(this));\n    return prefix || this.retrievePrecedingIdentifier(line, pos.column);\n};\nexports.triggerAutocomplete = function (editor, previousChar) {\n    var previousChar = previousChar == null\n        ? editor.session.getPrecedingCharacter()\n        : previousChar;\n    return editor.completers.some(function (completer) {\n        if (completer.triggerCharacters && Array.isArray(completer.triggerCharacters)) {\n            return completer.triggerCharacters.includes(previousChar);\n        }\n    });\n};\n\n});\n\nace.define(\"ace/autocomplete\",[\"require\",\"exports\",\"module\",\"ace/keyboard/hash_handler\",\"ace/autocomplete/popup\",\"ace/autocomplete/inline\",\"ace/autocomplete/popup\",\"ace/autocomplete/util\",\"ace/lib/lang\",\"ace/lib/dom\",\"ace/snippets\",\"ace/config\",\"ace/lib/event\",\"ace/lib/scroll\"], function(require, exports, module){\"use strict\";\nvar HashHandler = require(\"./keyboard/hash_handler\").HashHandler;\nvar AcePopup = require(\"./autocomplete/popup\").AcePopup;\nvar AceInline = require(\"./autocomplete/inline\").AceInline;\nvar getAriaId = require(\"./autocomplete/popup\").getAriaId;\nvar util = require(\"./autocomplete/util\");\nvar lang = require(\"./lib/lang\");\nvar dom = require(\"./lib/dom\");\nvar snippetManager = require(\"./snippets\").snippetManager;\nvar config = require(\"./config\");\nvar event = require(\"./lib/event\");\nvar preventParentScroll = require(\"./lib/scroll\").preventParentScroll;\nvar destroyCompleter = function (e, editor) {\n    editor.completer && editor.completer.destroy();\n};\nvar Autocomplete = /** @class */ (function () {\n    function Autocomplete() {\n        this.autoInsert = false;\n        this.autoSelect = true;\n        this.autoShown = false;\n        this.exactMatch = false;\n        this.inlineEnabled = false;\n        this.keyboardHandler = new HashHandler();\n        this.keyboardHandler.bindKeys(this.commands);\n        this.parentNode = null;\n        this.setSelectOnHover = false;\n        this.hasSeen = new Set();\n        this.showLoadingState = false;\n        this.stickySelectionDelay = 500;\n        this.blurListener = this.blurListener.bind(this);\n        this.changeListener = this.changeListener.bind(this);\n        this.mousedownListener = this.mousedownListener.bind(this);\n        this.mousewheelListener = this.mousewheelListener.bind(this);\n        this.onLayoutChange = this.onLayoutChange.bind(this);\n        this.changeTimer = lang.delayedCall(function () {\n            this.updateCompletions(true);\n        }.bind(this));\n        this.tooltipTimer = lang.delayedCall(this.updateDocTooltip.bind(this), 50);\n        this.popupTimer = lang.delayedCall(this.$updatePopupPosition.bind(this), 50);\n        this.stickySelectionTimer = lang.delayedCall(function () {\n            this.stickySelection = true;\n        }.bind(this), this.stickySelectionDelay);\n        this.$firstOpenTimer = lang.delayedCall(/**@this{Autocomplete}*/ function () {\n            var initialPosition = this.completionProvider && this.completionProvider.initialPosition;\n            if (this.autoShown || (this.popup && this.popup.isOpen) || !initialPosition || this.editor.completers.length === 0)\n                return;\n            this.completions = new FilteredList(Autocomplete.completionsForLoading);\n            this.openPopup(this.editor, initialPosition.prefix, false);\n            this.popup.renderer.setStyle(\"ace_loading\", true);\n        }.bind(this), this.stickySelectionDelay);\n    }\n    Object.defineProperty(Autocomplete, \"completionsForLoading\", {\n        get: function () {\n            return [{\n                    caption: config.nls(\"autocomplete.loading\", \"Loading...\"),\n                    value: \"\"\n                }];\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Autocomplete.prototype.$init = function () {\n        this.popup = new AcePopup(this.parentNode || document.body || document.documentElement);\n        this.popup.on(\"click\", function (e) {\n            this.insertMatch();\n            e.stop();\n        }.bind(this));\n        this.popup.focus = this.editor.focus.bind(this.editor);\n        this.popup.on(\"show\", this.$onPopupShow.bind(this));\n        this.popup.on(\"hide\", this.$onHidePopup.bind(this));\n        this.popup.on(\"select\", this.$onPopupChange.bind(this));\n        event.addListener(this.popup.container, \"mouseout\", this.mouseOutListener.bind(this));\n        this.popup.on(\"changeHoverMarker\", this.tooltipTimer.bind(null, null));\n        this.popup.renderer.on(\"afterRender\", this.$onPopupRender.bind(this));\n        return this.popup;\n    };\n    Autocomplete.prototype.$initInline = function () {\n        if (!this.inlineEnabled || this.inlineRenderer)\n            return;\n        this.inlineRenderer = new AceInline();\n        return this.inlineRenderer;\n    };\n    Autocomplete.prototype.getPopup = function () {\n        return this.popup || this.$init();\n    };\n    Autocomplete.prototype.$onHidePopup = function () {\n        if (this.inlineRenderer) {\n            this.inlineRenderer.hide();\n        }\n        this.hideDocTooltip();\n        this.stickySelectionTimer.cancel();\n        this.popupTimer.cancel();\n        this.stickySelection = false;\n    };\n    Autocomplete.prototype.$seen = function (completion) {\n        if (!this.hasSeen.has(completion) && completion && completion.completer && completion.completer.onSeen && typeof completion.completer.onSeen === \"function\") {\n            completion.completer.onSeen(this.editor, completion);\n            this.hasSeen.add(completion);\n        }\n    };\n    Autocomplete.prototype.$onPopupChange = function (hide) {\n        if (this.inlineRenderer && this.inlineEnabled) {\n            var completion = hide ? null : this.popup.getData(this.popup.getRow());\n            this.$updateGhostText(completion);\n            if (this.popup.isMouseOver && this.setSelectOnHover) {\n                this.tooltipTimer.call(null, null);\n                return;\n            }\n            this.popupTimer.schedule();\n            this.tooltipTimer.schedule();\n        }\n        else {\n            this.popupTimer.call(null, null);\n            this.tooltipTimer.call(null, null);\n        }\n    };\n    Autocomplete.prototype.$updateGhostText = function (completion) {\n        var row = this.base.row;\n        var column = this.base.column;\n        var cursorColumn = this.editor.getCursorPosition().column;\n        var prefix = this.editor.session.getLine(row).slice(column, cursorColumn);\n        if (!this.inlineRenderer.show(this.editor, completion, prefix)) {\n            this.inlineRenderer.hide();\n        }\n        else {\n            this.$seen(completion);\n        }\n    };\n    Autocomplete.prototype.$onPopupRender = function () {\n        var inlineEnabled = this.inlineRenderer && this.inlineEnabled;\n        if (this.completions && this.completions.filtered && this.completions.filtered.length > 0) {\n            for (var i = this.popup.getFirstVisibleRow(); i <= this.popup.getLastVisibleRow(); i++) {\n                var completion = this.popup.getData(i);\n                if (completion && (!inlineEnabled || completion.hideInlinePreview)) {\n                    this.$seen(completion);\n                }\n            }\n        }\n    };\n    Autocomplete.prototype.$onPopupShow = function (hide) {\n        this.$onPopupChange(hide);\n        this.stickySelection = false;\n        if (this.stickySelectionDelay >= 0)\n            this.stickySelectionTimer.schedule(this.stickySelectionDelay);\n    };\n    Autocomplete.prototype.observeLayoutChanges = function () {\n        if (this.$elements || !this.editor)\n            return;\n        window.addEventListener(\"resize\", this.onLayoutChange, { passive: true });\n        window.addEventListener(\"wheel\", this.mousewheelListener);\n        var el = this.editor.container.parentNode;\n        var elements = [];\n        while (el) {\n            elements.push(el);\n            el.addEventListener(\"scroll\", this.onLayoutChange, { passive: true });\n            el = el.parentNode;\n        }\n        this.$elements = elements;\n    };\n    Autocomplete.prototype.unObserveLayoutChanges = function () {\n        var _this = this;\n        window.removeEventListener(\"resize\", this.onLayoutChange, { passive: true });\n        window.removeEventListener(\"wheel\", this.mousewheelListener);\n        this.$elements && this.$elements.forEach(function (el) {\n            el.removeEventListener(\"scroll\", _this.onLayoutChange, { passive: true });\n        });\n        this.$elements = null;\n    };\n    Autocomplete.prototype.onLayoutChange = function () {\n        if (!this.popup.isOpen)\n            return this.unObserveLayoutChanges();\n        this.$updatePopupPosition();\n        this.updateDocTooltip();\n    };\n    Autocomplete.prototype.$updatePopupPosition = function () {\n        var editor = this.editor;\n        var renderer = editor.renderer;\n        var lineHeight = renderer.layerConfig.lineHeight;\n        var pos = renderer.$cursorLayer.getPixelPosition(this.base, true);\n        pos.left -= this.popup.getTextLeftOffset();\n        var rect = editor.container.getBoundingClientRect();\n        pos.top += rect.top - renderer.layerConfig.offset;\n        pos.left += rect.left - editor.renderer.scrollLeft;\n        pos.left += renderer.gutterWidth;\n        var posGhostText = {\n            top: pos.top,\n            left: pos.left\n        };\n        if (renderer.$ghostText && renderer.$ghostTextWidget) {\n            if (this.base.row === renderer.$ghostText.position.row) {\n                posGhostText.top += renderer.$ghostTextWidget.el.offsetHeight;\n            }\n        }\n        var editorContainerBottom = editor.container.getBoundingClientRect().bottom - lineHeight;\n        var lowestPosition = editorContainerBottom < posGhostText.top ?\n            { top: editorContainerBottom, left: posGhostText.left } :\n            posGhostText;\n        if (this.popup.tryShow(lowestPosition, lineHeight, \"bottom\")) {\n            return;\n        }\n        if (this.popup.tryShow(pos, lineHeight, \"top\")) {\n            return;\n        }\n        this.popup.show(pos, lineHeight);\n    };\n    Autocomplete.prototype.openPopup = function (editor, prefix, keepPopupPosition) {\n        this.$firstOpenTimer.cancel();\n        if (!this.popup)\n            this.$init();\n        if (this.inlineEnabled && !this.inlineRenderer)\n            this.$initInline();\n        this.popup.autoSelect = this.autoSelect;\n        this.popup.setSelectOnHover(this.setSelectOnHover);\n        var oldRow = this.popup.getRow();\n        var previousSelectedItem = this.popup.data[oldRow];\n        this.popup.setData(this.completions.filtered, this.completions.filterText);\n        if (this.editor.textInput.setAriaOptions) {\n            this.editor.textInput.setAriaOptions({\n                activeDescendant: getAriaId(this.popup.getRow()),\n                inline: this.inlineEnabled\n            });\n        }\n        editor.keyBinding.addKeyboardHandler(this.keyboardHandler);\n        var newRow;\n        if (this.stickySelection)\n            newRow = this.popup.data.indexOf(previousSelectedItem);\n        if (!newRow || newRow === -1)\n            newRow = 0;\n        this.popup.setRow(this.autoSelect ? newRow : -1);\n        if (newRow === oldRow && previousSelectedItem !== this.completions.filtered[newRow])\n            this.$onPopupChange();\n        var inlineEnabled = this.inlineRenderer && this.inlineEnabled;\n        if (newRow === oldRow && inlineEnabled) {\n            var completion = this.popup.getData(this.popup.getRow());\n            this.$updateGhostText(completion);\n        }\n        if (!keepPopupPosition) {\n            this.popup.setTheme(editor.getTheme());\n            this.popup.setFontSize(editor.getFontSize());\n            this.$updatePopupPosition();\n            if (this.tooltipNode) {\n                this.updateDocTooltip();\n            }\n        }\n        this.changeTimer.cancel();\n        this.observeLayoutChanges();\n    };\n    Autocomplete.prototype.detach = function () {\n        if (this.editor) {\n            this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler);\n            this.editor.off(\"changeSelection\", this.changeListener);\n            this.editor.off(\"blur\", this.blurListener);\n            this.editor.off(\"mousedown\", this.mousedownListener);\n            this.editor.off(\"mousewheel\", this.mousewheelListener);\n        }\n        this.$firstOpenTimer.cancel();\n        this.changeTimer.cancel();\n        this.hideDocTooltip();\n        if (this.completionProvider) {\n            this.completionProvider.detach();\n        }\n        if (this.popup && this.popup.isOpen)\n            this.popup.hide();\n        if (this.popup && this.popup.renderer) {\n            this.popup.renderer.off(\"afterRender\", this.$onPopupRender);\n        }\n        if (this.base)\n            this.base.detach();\n        this.activated = false;\n        this.completionProvider = this.completions = this.base = null;\n        this.unObserveLayoutChanges();\n    };\n    Autocomplete.prototype.changeListener = function (e) {\n        var cursor = this.editor.selection.lead;\n        if (cursor.row != this.base.row || cursor.column < this.base.column) {\n            this.detach();\n        }\n        if (this.activated)\n            this.changeTimer.schedule();\n        else\n            this.detach();\n    };\n    Autocomplete.prototype.blurListener = function (e) {\n        var el = document.activeElement;\n        var text = this.editor.textInput.getElement();\n        var fromTooltip = e.relatedTarget && this.tooltipNode && this.tooltipNode.contains(e.relatedTarget);\n        var container = this.popup && this.popup.container;\n        if (el != text && el.parentNode != container && !fromTooltip\n            && el != this.tooltipNode && e.relatedTarget != text) {\n            this.detach();\n        }\n    };\n    Autocomplete.prototype.mousedownListener = function (e) {\n        this.detach();\n    };\n    Autocomplete.prototype.mousewheelListener = function (e) {\n        if (this.popup && !this.popup.isMouseOver)\n            this.detach();\n    };\n    Autocomplete.prototype.mouseOutListener = function (e) {\n        if (this.popup.isOpen)\n            this.$updatePopupPosition();\n    };\n    Autocomplete.prototype.goTo = function (where) {\n        this.popup.goTo(where);\n    };\n    Autocomplete.prototype.insertMatch = function (data, options) {\n        if (!data)\n            data = this.popup.getData(this.popup.getRow());\n        if (!data)\n            return false;\n        if (data.value === \"\") // Explicitly given nothing to insert, e.g. \"No suggestion state\"\n            return this.detach();\n        var completions = this.completions;\n        var result = this.getCompletionProvider().insertMatch(this.editor, data, completions.filterText, options);\n        if (this.completions == completions)\n            this.detach();\n        return result;\n    };\n    Autocomplete.prototype.showPopup = function (editor, options) {\n        if (this.editor)\n            this.detach();\n        this.activated = true;\n        this.editor = editor;\n        if (editor.completer != this) {\n            if (editor.completer)\n                editor.completer.detach();\n            editor.completer = this;\n        }\n        editor.on(\"changeSelection\", this.changeListener);\n        editor.on(\"blur\", this.blurListener);\n        editor.on(\"mousedown\", this.mousedownListener);\n        editor.on(\"mousewheel\", this.mousewheelListener);\n        this.updateCompletions(false, options);\n    };\n    Autocomplete.prototype.getCompletionProvider = function (initialPosition) {\n        if (!this.completionProvider)\n            this.completionProvider = new CompletionProvider(initialPosition);\n        return this.completionProvider;\n    };\n    Autocomplete.prototype.gatherCompletions = function (editor, callback) {\n        return this.getCompletionProvider().gatherCompletions(editor, callback);\n    };\n    Autocomplete.prototype.updateCompletions = function (keepPopupPosition, options) {\n        if (keepPopupPosition && this.base && this.completions) {\n            var pos = this.editor.getCursorPosition();\n            var prefix = this.editor.session.getTextRange({ start: this.base, end: pos });\n            if (prefix == this.completions.filterText)\n                return;\n            this.completions.setFilter(prefix);\n            if (!this.completions.filtered.length)\n                return this.detach();\n            if (this.completions.filtered.length == 1\n                && this.completions.filtered[0].value == prefix\n                && !this.completions.filtered[0].snippet)\n                return this.detach();\n            this.openPopup(this.editor, prefix, keepPopupPosition);\n            return;\n        }\n        if (options && options.matches) {\n            var pos = this.editor.getSelectionRange().start;\n            this.base = this.editor.session.doc.createAnchor(pos.row, pos.column);\n            this.base.$insertRight = true;\n            this.completions = new FilteredList(options.matches);\n            this.getCompletionProvider().completions = this.completions;\n            return this.openPopup(this.editor, \"\", keepPopupPosition);\n        }\n        var session = this.editor.getSession();\n        var pos = this.editor.getCursorPosition();\n        var prefix = util.getCompletionPrefix(this.editor);\n        this.base = session.doc.createAnchor(pos.row, pos.column - prefix.length);\n        this.base.$insertRight = true;\n        var completionOptions = {\n            exactMatch: this.exactMatch,\n            ignoreCaption: this.ignoreCaption\n        };\n        this.getCompletionProvider({\n            prefix: prefix,\n            pos: pos\n        }).provideCompletions(this.editor, completionOptions, \n        function (err, completions, finished) {\n            var filtered = completions.filtered;\n            var prefix = util.getCompletionPrefix(this.editor);\n            this.$firstOpenTimer.cancel();\n            if (finished) {\n                if (!filtered.length) {\n                    var emptyMessage = !this.autoShown && this.emptyMessage;\n                    if (typeof emptyMessage == \"function\")\n                        emptyMessage = this.emptyMessage(prefix);\n                    if (emptyMessage) {\n                        var completionsForEmpty = [{\n                                caption: emptyMessage,\n                                value: \"\"\n                            }\n                        ];\n                        this.completions = new FilteredList(completionsForEmpty);\n                        this.openPopup(this.editor, prefix, keepPopupPosition);\n                        this.popup.renderer.setStyle(\"ace_loading\", false);\n                        this.popup.renderer.setStyle(\"ace_empty-message\", true);\n                        return;\n                    }\n                    return this.detach();\n                }\n                if (filtered.length == 1 && filtered[0].value == prefix\n                    && !filtered[0].snippet)\n                    return this.detach();\n                if (this.autoInsert && !this.autoShown && filtered.length == 1)\n                    return this.insertMatch(filtered[0]);\n            }\n            this.completions = !finished && this.showLoadingState ?\n                new FilteredList(Autocomplete.completionsForLoading.concat(filtered), completions.filterText) :\n                completions;\n            this.openPopup(this.editor, prefix, keepPopupPosition);\n            this.popup.renderer.setStyle(\"ace_empty-message\", false);\n            this.popup.renderer.setStyle(\"ace_loading\", !finished);\n        }.bind(this));\n        if (this.showLoadingState && !this.autoShown && !(this.popup && this.popup.isOpen)) {\n            this.$firstOpenTimer.delay(this.stickySelectionDelay / 2);\n        }\n    };\n    Autocomplete.prototype.cancelContextMenu = function () {\n        this.editor.$mouseHandler.cancelContextMenu();\n    };\n    Autocomplete.prototype.updateDocTooltip = function () {\n        var popup = this.popup;\n        var all = this.completions && this.completions.filtered;\n        var selected = all && (all[popup.getHoveredRow()] || all[popup.getRow()]);\n        var doc = null;\n        if (!selected || !this.editor || !this.popup.isOpen)\n            return this.hideDocTooltip();\n        var completersLength = this.editor.completers.length;\n        for (var i = 0; i < completersLength; i++) {\n            var completer = this.editor.completers[i];\n            if (completer.getDocTooltip && selected.completerId === completer.id) {\n                doc = completer.getDocTooltip(selected);\n                break;\n            }\n        }\n        if (!doc && typeof selected != \"string\")\n            doc = selected;\n        if (typeof doc == \"string\")\n            doc = { docText: doc };\n        if (!doc || !(doc.docHTML || doc.docText))\n            return this.hideDocTooltip();\n        this.showDocTooltip(doc);\n    };\n    Autocomplete.prototype.showDocTooltip = function (item) {\n        if (!this.tooltipNode) {\n            this.tooltipNode = dom.createElement(\"div\");\n            this.tooltipNode.style.margin = \"0\";\n            this.tooltipNode.style.pointerEvents = \"auto\";\n            this.tooltipNode.style.overscrollBehavior = \"contain\";\n            this.tooltipNode.tabIndex = -1;\n            this.tooltipNode.onblur = this.blurListener.bind(this);\n            this.tooltipNode.onclick = this.onTooltipClick.bind(this);\n            this.tooltipNode.id = \"doc-tooltip\";\n            this.tooltipNode.setAttribute(\"role\", \"tooltip\");\n            this.tooltipNode.addEventListener(\"wheel\", preventParentScroll);\n        }\n        var theme = this.editor.renderer.theme;\n        this.tooltipNode.className = \"ace_tooltip ace_doc-tooltip \" +\n            (theme.isDark ? \"ace_dark \" : \"\") + (theme.cssClass || \"\");\n        var tooltipNode = this.tooltipNode;\n        if (item.docHTML) {\n            tooltipNode.innerHTML = item.docHTML;\n        }\n        else if (item.docText) {\n            tooltipNode.textContent = item.docText;\n        }\n        if (!tooltipNode.parentNode)\n            this.popup.container.appendChild(this.tooltipNode);\n        var popup = this.popup;\n        var rect = popup.container.getBoundingClientRect();\n        var targetWidth = 400;\n        var targetHeight = 300;\n        var scrollBarSize = popup.renderer.scrollBar.width || 10;\n        var leftSize = rect.left;\n        var rightSize = window.innerWidth - rect.right - scrollBarSize;\n        var topSize = popup.isTopdown ? rect.top : window.innerHeight - scrollBarSize - rect.bottom;\n        var scores = [\n            Math.min(rightSize / targetWidth, 1),\n            Math.min(leftSize / targetWidth, 1),\n            Math.min(topSize / targetHeight * 0.9),\n        ];\n        var max = Math.max.apply(Math, scores);\n        var tooltipStyle = tooltipNode.style;\n        tooltipStyle.display = \"block\";\n        if (max == scores[0]) {\n            tooltipStyle.left = (rect.right + 1) + \"px\";\n            tooltipStyle.right = \"\";\n            tooltipStyle.maxWidth = targetWidth * max + \"px\";\n            tooltipStyle.top = rect.top + \"px\";\n            tooltipStyle.bottom = \"\";\n            tooltipStyle.maxHeight = Math.min(window.innerHeight - scrollBarSize - rect.top, targetHeight) + \"px\";\n        }\n        else if (max == scores[1]) {\n            tooltipStyle.right = window.innerWidth - rect.left + \"px\";\n            tooltipStyle.left = \"\";\n            tooltipStyle.maxWidth = targetWidth * max + \"px\";\n            tooltipStyle.top = rect.top + \"px\";\n            tooltipStyle.bottom = \"\";\n            tooltipStyle.maxHeight = Math.min(window.innerHeight - scrollBarSize - rect.top, targetHeight) + \"px\";\n        }\n        else if (max == scores[2]) {\n            tooltipStyle.left = window.innerWidth - rect.left + \"px\";\n            tooltipStyle.maxWidth = Math.min(targetWidth, window.innerWidth) + \"px\";\n            if (popup.isTopdown) {\n                tooltipStyle.top = rect.bottom + \"px\";\n                tooltipStyle.left = rect.left + \"px\";\n                tooltipStyle.right = \"\";\n                tooltipStyle.bottom = \"\";\n                tooltipStyle.maxHeight = Math.min(window.innerHeight - scrollBarSize - rect.bottom, targetHeight) + \"px\";\n            }\n            else {\n                tooltipStyle.top = popup.container.offsetTop - tooltipNode.offsetHeight + \"px\";\n                tooltipStyle.left = rect.left + \"px\";\n                tooltipStyle.right = \"\";\n                tooltipStyle.bottom = \"\";\n                tooltipStyle.maxHeight = Math.min(popup.container.offsetTop, targetHeight) + \"px\";\n            }\n        }\n    };\n    Autocomplete.prototype.hideDocTooltip = function () {\n        this.tooltipTimer.cancel();\n        if (!this.tooltipNode)\n            return;\n        var el = this.tooltipNode;\n        if (!this.editor.isFocused() && document.activeElement == el)\n            this.editor.focus();\n        this.tooltipNode = null;\n        if (el.parentNode)\n            el.parentNode.removeChild(el);\n    };\n    Autocomplete.prototype.onTooltipClick = function (e) {\n        var a = e.target;\n        while (a && a != this.tooltipNode) {\n            if (a.nodeName == \"A\" && a.href) {\n                a.rel = \"noreferrer\";\n                a.target = \"_blank\";\n                break;\n            }\n            a = a.parentNode;\n        }\n    };\n    Autocomplete.prototype.destroy = function () {\n        this.detach();\n        if (this.popup) {\n            this.popup.destroy();\n            var el = this.popup.container;\n            if (el && el.parentNode)\n                el.parentNode.removeChild(el);\n        }\n        if (this.editor && this.editor.completer == this) {\n            this.editor.off(\"destroy\", destroyCompleter);\n            this.editor.completer = null;\n        }\n        this.inlineRenderer = this.popup = this.editor = null;\n    };\n    Autocomplete.for = function (editor) {\n        if (editor.completer instanceof Autocomplete) {\n            return editor.completer;\n        }\n        if (editor.completer) {\n            editor.completer.destroy();\n            editor.completer = null;\n        }\n        if (config.get(\"sharedPopups\")) {\n            if (!Autocomplete[\"$sharedInstance\"])\n                Autocomplete[\"$sharedInstance\"] = new Autocomplete();\n            editor.completer = Autocomplete[\"$sharedInstance\"];\n        }\n        else {\n            editor.completer = new Autocomplete();\n            editor.once(\"destroy\", destroyCompleter);\n        }\n        return editor.completer;\n    };\n    return Autocomplete;\n}());\nAutocomplete.prototype.commands = {\n    \"Up\": function (editor) { editor.completer.goTo(\"up\"); },\n    \"Down\": function (editor) { editor.completer.goTo(\"down\"); },\n    \"Ctrl-Up|Ctrl-Home\": function (editor) { editor.completer.goTo(\"start\"); },\n    \"Ctrl-Down|Ctrl-End\": function (editor) { editor.completer.goTo(\"end\"); },\n    \"Esc\": function (editor) { editor.completer.detach(); },\n    \"Return\": function (editor) { return editor.completer.insertMatch(); },\n    \"Shift-Return\": function (editor) { editor.completer.insertMatch(null, { deleteSuffix: true }); },\n    \"Tab\": function (editor) {\n        var result = editor.completer.insertMatch();\n        if (!result && !editor.tabstopManager)\n            editor.completer.goTo(\"down\");\n        else\n            return result;\n    },\n    \"Backspace\": function (editor) {\n        editor.execCommand(\"backspace\");\n        var prefix = util.getCompletionPrefix(editor);\n        if (!prefix && editor.completer)\n            editor.completer.detach();\n    },\n    \"PageUp\": function (editor) { editor.completer.popup.gotoPageUp(); },\n    \"PageDown\": function (editor) { editor.completer.popup.gotoPageDown(); }\n};\nAutocomplete.startCommand = {\n    name: \"startAutocomplete\",\n    exec: function (editor, options) {\n        var completer = Autocomplete.for(editor);\n        completer.autoInsert = false;\n        completer.autoSelect = true;\n        completer.autoShown = false;\n        completer.showPopup(editor, options);\n        completer.cancelContextMenu();\n    },\n    bindKey: \"Ctrl-Space|Ctrl-Shift-Space|Alt-Space\"\n};\nvar CompletionProvider = /** @class */ (function () {\n    function CompletionProvider(initialPosition) {\n        this.initialPosition = initialPosition;\n        this.active = true;\n    }\n    CompletionProvider.prototype.insertByIndex = function (editor, index, options) {\n        if (!this.completions || !this.completions.filtered) {\n            return false;\n        }\n        return this.insertMatch(editor, this.completions.filtered[index], options);\n    };\n    CompletionProvider.prototype.insertMatch = function (editor, data, options) {\n        if (!data)\n            return false;\n        editor.startOperation({ command: { name: \"insertMatch\" } });\n        if (data.completer && data.completer.insertMatch) {\n            data.completer.insertMatch(editor, data);\n        }\n        else {\n            if (!this.completions)\n                return false;\n            var replaceBefore = this.completions.filterText.length;\n            var replaceAfter = 0;\n            if (data.range && data.range.start.row === data.range.end.row) {\n                replaceBefore -= this.initialPosition.prefix.length;\n                replaceBefore += this.initialPosition.pos.column - data.range.start.column;\n                replaceAfter += data.range.end.column - this.initialPosition.pos.column;\n            }\n            if (replaceBefore || replaceAfter) {\n                var ranges;\n                if (editor.selection.getAllRanges) {\n                    ranges = editor.selection.getAllRanges();\n                }\n                else {\n                    ranges = [editor.getSelectionRange()];\n                }\n                for (var i = 0, range; range = ranges[i]; i++) {\n                    range.start.column -= replaceBefore;\n                    range.end.column += replaceAfter;\n                    editor.session.remove(range);\n                }\n            }\n            if (data.snippet) {\n                snippetManager.insertSnippet(editor, data.snippet);\n            }\n            else {\n                this.$insertString(editor, data);\n            }\n            if (data.completer && data.completer.onInsert && typeof data.completer.onInsert == \"function\") {\n                data.completer.onInsert(editor, data);\n            }\n            if (data.command && data.command === \"startAutocomplete\") {\n                editor.execCommand(data.command);\n            }\n        }\n        editor.endOperation();\n        return true;\n    };\n    CompletionProvider.prototype.$insertString = function (editor, data) {\n        var text = data.value || data;\n        editor.execCommand(\"insertstring\", text);\n    };\n    CompletionProvider.prototype.gatherCompletions = function (editor, callback) {\n        var session = editor.getSession();\n        var pos = editor.getCursorPosition();\n        var prefix = util.getCompletionPrefix(editor);\n        var matches = [];\n        this.completers = editor.completers;\n        var total = editor.completers.length;\n        editor.completers.forEach(function (completer, i) {\n            completer.getCompletions(editor, session, pos, prefix, function (err, results) {\n                if (completer.hideInlinePreview)\n                    results = results.map(function (result) {\n                        return Object.assign(result, { hideInlinePreview: completer.hideInlinePreview });\n                    });\n                if (!err && results)\n                    matches = matches.concat(results);\n                callback(null, {\n                    prefix: util.getCompletionPrefix(editor),\n                    matches: matches,\n                    finished: (--total === 0)\n                });\n            });\n        });\n        return true;\n    };\n    CompletionProvider.prototype.provideCompletions = function (editor, options, callback) {\n        var processResults = function (results) {\n            var prefix = results.prefix;\n            var matches = results.matches;\n            this.completions = new FilteredList(matches);\n            if (options.exactMatch)\n                this.completions.exactMatch = true;\n            if (options.ignoreCaption)\n                this.completions.ignoreCaption = true;\n            this.completions.setFilter(prefix);\n            if (results.finished || this.completions.filtered.length)\n                callback(null, this.completions, results.finished);\n        }.bind(this);\n        var isImmediate = true;\n        var immediateResults = null;\n        this.gatherCompletions(editor, function (err, results) {\n            if (!this.active) {\n                return;\n            }\n            if (err) {\n                callback(err, [], true);\n                this.detach();\n            }\n            var prefix = results.prefix;\n            if (prefix.indexOf(results.prefix) !== 0)\n                return;\n            if (isImmediate) {\n                immediateResults = results;\n                return;\n            }\n            processResults(results);\n        }.bind(this));\n        isImmediate = false;\n        if (immediateResults) {\n            var results = immediateResults;\n            immediateResults = null;\n            processResults(results);\n        }\n    };\n    CompletionProvider.prototype.detach = function () {\n        this.active = false;\n        this.completers && this.completers.forEach(function (completer) {\n            if (typeof completer.cancel === \"function\") {\n                completer.cancel();\n            }\n        });\n    };\n    return CompletionProvider;\n}());\nvar FilteredList = /** @class */ (function () {\n    function FilteredList(array, filterText) {\n        this.all = array;\n        this.filtered = array;\n        this.filterText = filterText || \"\";\n        this.exactMatch = false;\n        this.ignoreCaption = false;\n    }\n    FilteredList.prototype.setFilter = function (str) {\n        if (str.length > this.filterText && str.lastIndexOf(this.filterText, 0) === 0)\n            var matches = this.filtered;\n        else\n            var matches = this.all;\n        this.filterText = str;\n        matches = this.filterCompletions(matches, this.filterText);\n        matches = matches.sort(function (a, b) {\n            return b.exactMatch - a.exactMatch || b.$score - a.$score\n                || (a.caption || a.value).localeCompare(b.caption || b.value);\n        });\n        var prev = null;\n        matches = matches.filter(function (item) {\n            var caption = item.snippet || item.caption || item.value;\n            if (caption === prev)\n                return false;\n            prev = caption;\n            return true;\n        });\n        this.filtered = matches;\n    };\n    FilteredList.prototype.filterCompletions = function (items, needle) {\n        var results = [];\n        var upper = needle.toUpperCase();\n        var lower = needle.toLowerCase();\n        loop: for (var i = 0, item; item = items[i]; i++) {\n            if (item.skipFilter) {\n                item.$score = item.score;\n                results.push(item);\n                continue;\n            }\n            var caption = (!this.ignoreCaption && item.caption) || item.value || item.snippet;\n            if (!caption)\n                continue;\n            var lastIndex = -1;\n            var matchMask = 0;\n            var penalty = 0;\n            var index, distance;\n            if (this.exactMatch) {\n                if (needle !== caption.substr(0, needle.length))\n                    continue loop;\n            }\n            else {\n                var fullMatchIndex = caption.toLowerCase().indexOf(lower);\n                if (fullMatchIndex > -1) {\n                    penalty = fullMatchIndex;\n                }\n                else {\n                    for (var j = 0; j < needle.length; j++) {\n                        var i1 = caption.indexOf(lower[j], lastIndex + 1);\n                        var i2 = caption.indexOf(upper[j], lastIndex + 1);\n                        index = (i1 >= 0) ? ((i2 < 0 || i1 < i2) ? i1 : i2) : i2;\n                        if (index < 0)\n                            continue loop;\n                        distance = index - lastIndex - 1;\n                        if (distance > 0) {\n                            if (lastIndex === -1)\n                                penalty += 10;\n                            penalty += distance;\n                            matchMask = matchMask | (1 << j);\n                        }\n                        lastIndex = index;\n                    }\n                }\n            }\n            item.matchMask = matchMask;\n            item.exactMatch = penalty ? 0 : 1;\n            item.$score = (item.score || 0) - penalty;\n            results.push(item);\n        }\n        return results;\n    };\n    return FilteredList;\n}());\nexports.Autocomplete = Autocomplete;\nexports.CompletionProvider = CompletionProvider;\nexports.FilteredList = FilteredList;\n\n});\n\nace.define(\"ace/ext/command_bar\",[\"require\",\"exports\",\"module\",\"ace/tooltip\",\"ace/lib/event_emitter\",\"ace/lib/lang\",\"ace/lib/dom\",\"ace/lib/oop\",\"ace/lib/useragent\"], function(require, exports, module){/**\n * ## Command Bar extension.\n *\n * Provides an interactive command bar tooltip that displays above the editor's active line. The extension enables\n * clickable commands with keyboard shortcuts, icons, and various button types including standard buttons, checkboxes,\n * and text elements. Supports overflow handling with a secondary tooltip for additional commands when space is limited.\n * The tooltip can be configured to always show or display only on mouse hover over the active line.\n *\n * @module\n */\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar Tooltip = require(\"../tooltip\").Tooltip;\nvar EventEmitter = require(\"../lib/event_emitter\").EventEmitter;\nvar lang = require(\"../lib/lang\");\nvar dom = require(\"../lib/dom\");\nvar oop = require(\"../lib/oop\");\nvar useragent = require(\"../lib/useragent\");\nvar BUTTON_CLASS_NAME = 'command_bar_tooltip_button';\nvar VALUE_CLASS_NAME = 'command_bar_button_value';\nvar CAPTION_CLASS_NAME = 'command_bar_button_caption';\nvar KEYBINDING_CLASS_NAME = 'command_bar_keybinding';\nvar TOOLTIP_CLASS_NAME = 'command_bar_tooltip';\nvar MORE_OPTIONS_BUTTON_ID = 'MoreOptionsButton';\nvar defaultDelay = 100;\nvar defaultMaxElements = 4;\nvar minPosition = function (posA, posB) {\n    if (posB.row > posA.row) {\n        return posA;\n    }\n    else if (posB.row === posA.row && posB.column > posA.column) {\n        return posA;\n    }\n    return posB;\n};\nvar keyDisplayMap = {\n    \"Ctrl\": { mac: \"^\" },\n    \"Option\": { mac: \"⌥\" },\n    \"Command\": { mac: \"⌘\" },\n    \"Cmd\": { mac: \"⌘\" },\n    \"Shift\": \"⇧\",\n    \"Left\": \"←\",\n    \"Right\": \"→\",\n    \"Up\": \"↑\",\n    \"Down\": \"↓\"\n};\nvar CommandBarTooltip = /** @class */ (function () {\n    function CommandBarTooltip(parentNode, options) {\n        var e_1, _a;\n        options = options || {};\n        this.parentNode = parentNode;\n        this.tooltip = new Tooltip(this.parentNode);\n        this.moreOptions = new Tooltip(this.parentNode);\n        this.maxElementsOnTooltip = options.maxElementsOnTooltip || defaultMaxElements;\n        this.$alwaysShow = options.alwaysShow || false;\n        this.eventListeners = {};\n        this.elements = {};\n        this.commands = {};\n        this.tooltipEl = dom.buildDom(['div', { class: TOOLTIP_CLASS_NAME }], this.tooltip.getElement());\n        this.moreOptionsEl = dom.buildDom(['div', { class: TOOLTIP_CLASS_NAME + \" tooltip_more_options\" }], this.moreOptions.getElement());\n        this.$showTooltipTimer = lang.delayedCall(this.$showTooltip.bind(this), options.showDelay || defaultDelay);\n        this.$hideTooltipTimer = lang.delayedCall(this.$hideTooltip.bind(this), options.hideDelay || defaultDelay);\n        this.$tooltipEnter = this.$tooltipEnter.bind(this);\n        this.$onMouseMove = this.$onMouseMove.bind(this);\n        this.$onChangeScroll = this.$onChangeScroll.bind(this);\n        this.$onEditorChangeSession = this.$onEditorChangeSession.bind(this);\n        this.$scheduleTooltipForHide = this.$scheduleTooltipForHide.bind(this);\n        this.$preventMouseEvent = this.$preventMouseEvent.bind(this);\n        try {\n            for (var _b = __values([\"mousedown\", \"mouseup\", \"click\"]), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var event = _c.value;\n                this.tooltip.getElement().addEventListener(event, this.$preventMouseEvent);\n                this.moreOptions.getElement().addEventListener(event, this.$preventMouseEvent);\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n    }\n    CommandBarTooltip.prototype.registerCommand = function (id, command) {\n        var registerForMainTooltip = Object.keys(this.commands).length < this.maxElementsOnTooltip;\n        if (!registerForMainTooltip && !this.elements[MORE_OPTIONS_BUTTON_ID]) {\n            this.$createCommand(MORE_OPTIONS_BUTTON_ID, {\n                name: \"···\",\n                exec: \n                function () {\n                    this.$shouldHideMoreOptions = false;\n                    this.$setMoreOptionsVisibility(!this.isMoreOptionsShown());\n                }.bind(this),\n                type: \"checkbox\",\n                getValue: function () {\n                    return this.isMoreOptionsShown();\n                }.bind(this),\n                enabled: true\n            }, true);\n        }\n        this.$createCommand(id, command, registerForMainTooltip);\n        if (this.isShown()) {\n            this.updatePosition();\n        }\n    };\n    CommandBarTooltip.prototype.isShown = function () {\n        return !!this.tooltip && this.tooltip.isOpen;\n    };\n    CommandBarTooltip.prototype.isMoreOptionsShown = function () {\n        return !!this.moreOptions && this.moreOptions.isOpen;\n    };\n    CommandBarTooltip.prototype.getAlwaysShow = function () {\n        return this.$alwaysShow;\n    };\n    CommandBarTooltip.prototype.setAlwaysShow = function (alwaysShow) {\n        this.$alwaysShow = alwaysShow;\n        this.$updateOnHoverHandlers(!this.$alwaysShow);\n        this._signal(\"alwaysShow\", this.$alwaysShow);\n    };\n    CommandBarTooltip.prototype.attach = function (editor) {\n        if (!editor || (this.isShown() && this.editor === editor)) {\n            return;\n        }\n        this.detach();\n        this.editor = editor;\n        this.editor.on(\"changeSession\", this.$onEditorChangeSession);\n        if (this.editor.session) {\n            this.editor.session.on(\"changeScrollLeft\", this.$onChangeScroll);\n            this.editor.session.on(\"changeScrollTop\", this.$onChangeScroll);\n        }\n        if (this.getAlwaysShow()) {\n            this.$showTooltip();\n        }\n        else {\n            this.$updateOnHoverHandlers(true);\n        }\n    };\n    CommandBarTooltip.prototype.updatePosition = function () {\n        if (!this.editor) {\n            return;\n        }\n        var renderer = this.editor.renderer;\n        var ranges;\n        if (this.editor.selection.getAllRanges) {\n            ranges = this.editor.selection.getAllRanges();\n        }\n        else {\n            ranges = [this.editor.getSelectionRange()];\n        }\n        if (!ranges.length) {\n            return;\n        }\n        var minPos = minPosition(ranges[0].start, ranges[0].end);\n        for (var i = 0, range; range = ranges[i]; i++) {\n            minPos = minPosition(minPos, minPosition(range.start, range.end));\n        }\n        var pos = renderer.$cursorLayer.getPixelPosition(minPos, true);\n        var tooltipEl = this.tooltip.getElement();\n        var screenWidth = window.innerWidth;\n        var screenHeight = window.innerHeight;\n        var rect = this.editor.container.getBoundingClientRect();\n        pos.top += rect.top - renderer.layerConfig.offset;\n        pos.left += rect.left + renderer.gutterWidth - renderer.scrollLeft;\n        var cursorVisible = pos.top >= rect.top && pos.top <= rect.bottom &&\n            pos.left >= rect.left + renderer.gutterWidth && pos.left <= rect.right;\n        if (!cursorVisible && this.isShown()) {\n            this.$hideTooltip();\n            return;\n        }\n        else if (cursorVisible && !this.isShown() && this.getAlwaysShow()) {\n            this.$showTooltip();\n            return;\n        }\n        var top = pos.top - tooltipEl.offsetHeight;\n        var left = Math.min(screenWidth - tooltipEl.offsetWidth, pos.left);\n        var tooltipFits = top >= 0 && top + tooltipEl.offsetHeight <= screenHeight &&\n            left >= 0 && left + tooltipEl.offsetWidth <= screenWidth;\n        if (!tooltipFits) {\n            this.$hideTooltip();\n            return;\n        }\n        this.tooltip.setPosition(left, top);\n        if (this.isMoreOptionsShown()) {\n            top = top + tooltipEl.offsetHeight;\n            left = this.elements[MORE_OPTIONS_BUTTON_ID].getBoundingClientRect().left;\n            var moreOptionsEl = this.moreOptions.getElement();\n            var screenHeight = window.innerHeight;\n            if (top + moreOptionsEl.offsetHeight > screenHeight) {\n                top -= tooltipEl.offsetHeight + moreOptionsEl.offsetHeight;\n            }\n            if (left + moreOptionsEl.offsetWidth > screenWidth) {\n                left = screenWidth - moreOptionsEl.offsetWidth;\n            }\n            this.moreOptions.setPosition(left, top);\n        }\n    };\n    CommandBarTooltip.prototype.update = function () {\n        Object.keys(this.elements).forEach(this.$updateElement.bind(this));\n    };\n    CommandBarTooltip.prototype.detach = function () {\n        this.tooltip.hide();\n        this.moreOptions.hide();\n        this.$updateOnHoverHandlers(false);\n        if (this.editor) {\n            this.editor.off(\"changeSession\", this.$onEditorChangeSession);\n            if (this.editor.session) {\n                this.editor.session.off(\"changeScrollLeft\", this.$onChangeScroll);\n                this.editor.session.off(\"changeScrollTop\", this.$onChangeScroll);\n            }\n        }\n        this.$mouseInTooltip = false;\n        this.editor = null;\n    };\n    CommandBarTooltip.prototype.destroy = function () {\n        if (this.tooltip && this.moreOptions) {\n            this.detach();\n            this.tooltip.destroy();\n            this.moreOptions.destroy();\n        }\n        this.eventListeners = {};\n        this.commands = {};\n        this.elements = {};\n        this.tooltip = this.moreOptions = this.parentNode = null;\n    };\n    CommandBarTooltip.prototype.$createCommand = function (id, command, forMainTooltip) {\n        var parentEl = forMainTooltip ? this.tooltipEl : this.moreOptionsEl;\n        var keyParts = [];\n        var bindKey = command.bindKey;\n        if (bindKey) {\n            if (typeof bindKey === 'object') {\n                bindKey = useragent.isMac ? bindKey.mac : bindKey.win;\n            }\n            bindKey = bindKey.split(\"|\")[0];\n            keyParts = bindKey.split(\"-\");\n            keyParts = keyParts.map(function (key) {\n                if (keyDisplayMap[key]) {\n                    if (typeof keyDisplayMap[key] === 'string') {\n                        return keyDisplayMap[key];\n                    }\n                    else if (useragent.isMac && keyDisplayMap[key].mac) {\n                        return keyDisplayMap[key].mac;\n                    }\n                }\n                return key;\n            });\n        }\n        var buttonNode;\n        if (forMainTooltip && command.iconCssClass) {\n            buttonNode = [\n                'div',\n                {\n                    class: [\"ace_icon_svg\", command.iconCssClass].join(\" \"),\n                    \"aria-label\": command.name + \" (\" + command.bindKey + \")\"\n                }\n            ];\n        }\n        else {\n            buttonNode = [\n                ['div', { class: VALUE_CLASS_NAME }],\n                ['div', { class: CAPTION_CLASS_NAME }, command.name]\n            ];\n            if (keyParts.length) {\n                buttonNode.push([\n                    'div',\n                    { class: KEYBINDING_CLASS_NAME },\n                    keyParts.map(function (keyPart) {\n                        return ['div', keyPart];\n                    })\n                ]);\n            }\n        }\n        dom.buildDom(['div', { class: [BUTTON_CLASS_NAME, command.cssClass || \"\"].join(\" \"), ref: id }, buttonNode], parentEl, this.elements);\n        this.commands[id] = command;\n        var eventListener = \n        function (e) {\n            if (this.editor) {\n                this.editor.focus();\n            }\n            this.$shouldHideMoreOptions = this.isMoreOptionsShown();\n            if (!this.elements[id].disabled && command.exec) {\n                command.exec(this.editor);\n            }\n            if (this.$shouldHideMoreOptions) {\n                this.$setMoreOptionsVisibility(false);\n            }\n            this.update();\n            e.preventDefault();\n        }.bind(this);\n        this.eventListeners[id] = eventListener;\n        this.elements[id].addEventListener('click', eventListener.bind(this));\n        this.$updateElement(id);\n    };\n    CommandBarTooltip.prototype.$setMoreOptionsVisibility = function (visible) {\n        if (visible) {\n            this.moreOptions.setTheme(this.editor.renderer.theme);\n            this.moreOptions.setClassName(TOOLTIP_CLASS_NAME + \"_wrapper\");\n            this.moreOptions.show();\n            this.update();\n            this.updatePosition();\n        }\n        else {\n            this.moreOptions.hide();\n        }\n    };\n    CommandBarTooltip.prototype.$onEditorChangeSession = function (e) {\n        if (e.oldSession) {\n            e.oldSession.off(\"changeScrollTop\", this.$onChangeScroll);\n            e.oldSession.off(\"changeScrollLeft\", this.$onChangeScroll);\n        }\n        this.detach();\n    };\n    CommandBarTooltip.prototype.$onChangeScroll = function () {\n        if (this.editor.renderer && (this.isShown() || this.getAlwaysShow())) {\n            this.editor.renderer.once(\"afterRender\", this.updatePosition.bind(this));\n        }\n    };\n    CommandBarTooltip.prototype.$onMouseMove = function (e) {\n        if (this.$mouseInTooltip) {\n            return;\n        }\n        var cursorPosition = this.editor.getCursorPosition();\n        var cursorScreenPosition = this.editor.renderer.textToScreenCoordinates(cursorPosition.row, cursorPosition.column);\n        var lineHeight = this.editor.renderer.lineHeight;\n        var isInCurrentLine = e.clientY >= cursorScreenPosition.pageY && e.clientY < cursorScreenPosition.pageY + lineHeight;\n        if (isInCurrentLine) {\n            if (!this.isShown() && !this.$showTooltipTimer.isPending()) {\n                this.$showTooltipTimer.delay();\n            }\n            if (this.$hideTooltipTimer.isPending()) {\n                this.$hideTooltipTimer.cancel();\n            }\n        }\n        else {\n            if (this.isShown() && !this.$hideTooltipTimer.isPending()) {\n                this.$hideTooltipTimer.delay();\n            }\n            if (this.$showTooltipTimer.isPending()) {\n                this.$showTooltipTimer.cancel();\n            }\n        }\n    };\n    CommandBarTooltip.prototype.$preventMouseEvent = function (e) {\n        if (this.editor) {\n            this.editor.focus();\n        }\n        e.preventDefault();\n    };\n    CommandBarTooltip.prototype.$scheduleTooltipForHide = function () {\n        this.$mouseInTooltip = false;\n        this.$showTooltipTimer.cancel();\n        this.$hideTooltipTimer.delay();\n    };\n    CommandBarTooltip.prototype.$tooltipEnter = function () {\n        this.$mouseInTooltip = true;\n        if (this.$showTooltipTimer.isPending()) {\n            this.$showTooltipTimer.cancel();\n        }\n        if (this.$hideTooltipTimer.isPending()) {\n            this.$hideTooltipTimer.cancel();\n        }\n    };\n    CommandBarTooltip.prototype.$updateOnHoverHandlers = function (enableHover) {\n        var tooltipEl = this.tooltip.getElement();\n        var moreOptionsEl = this.moreOptions.getElement();\n        if (enableHover) {\n            if (this.editor) {\n                this.editor.on(\"mousemove\", this.$onMouseMove);\n                this.editor.renderer.getMouseEventTarget().addEventListener(\"mouseout\", this.$scheduleTooltipForHide, true);\n            }\n            tooltipEl.addEventListener('mouseenter', this.$tooltipEnter);\n            tooltipEl.addEventListener('mouseleave', this.$scheduleTooltipForHide);\n            moreOptionsEl.addEventListener('mouseenter', this.$tooltipEnter);\n            moreOptionsEl.addEventListener('mouseleave', this.$scheduleTooltipForHide);\n        }\n        else {\n            if (this.editor) {\n                this.editor.off(\"mousemove\", this.$onMouseMove);\n                this.editor.renderer.getMouseEventTarget().removeEventListener(\"mouseout\", this.$scheduleTooltipForHide, true);\n            }\n            tooltipEl.removeEventListener('mouseenter', this.$tooltipEnter);\n            tooltipEl.removeEventListener('mouseleave', this.$scheduleTooltipForHide);\n            moreOptionsEl.removeEventListener('mouseenter', this.$tooltipEnter);\n            moreOptionsEl.removeEventListener('mouseleave', this.$scheduleTooltipForHide);\n        }\n    };\n    CommandBarTooltip.prototype.$showTooltip = function () {\n        if (this.isShown()) {\n            return;\n        }\n        this.tooltip.setTheme(this.editor.renderer.theme);\n        this.tooltip.setClassName(TOOLTIP_CLASS_NAME + \"_wrapper\");\n        this.tooltip.show();\n        this.update();\n        this.updatePosition();\n        this._signal(\"show\");\n    };\n    CommandBarTooltip.prototype.$hideTooltip = function () {\n        this.$mouseInTooltip = false;\n        if (!this.isShown()) {\n            return;\n        }\n        this.moreOptions.hide();\n        this.tooltip.hide();\n        this._signal(\"hide\");\n    };\n    CommandBarTooltip.prototype.$updateElement = function (id) {\n        var command = this.commands[id];\n        if (!command) {\n            return;\n        }\n        var el = this.elements[id];\n        var commandEnabled = command.enabled;\n        if (typeof commandEnabled === 'function') {\n            commandEnabled = commandEnabled(this.editor);\n        }\n        if (typeof command.getValue === 'function') {\n            var value = command.getValue(this.editor);\n            if (command.type === 'text') {\n                el.textContent = value;\n            }\n            else if (command.type === 'checkbox') {\n                var domCssFn = value ? dom.addCssClass : dom.removeCssClass;\n                var isOnTooltip = el.parentElement === this.tooltipEl;\n                el.ariaChecked = value;\n                if (isOnTooltip) {\n                    domCssFn(el, \"ace_selected\");\n                }\n                else {\n                    el = el.querySelector(\".\" + VALUE_CLASS_NAME);\n                    domCssFn(el, \"ace_checkmark\");\n                }\n            }\n        }\n        if (commandEnabled && el.disabled) {\n            dom.removeCssClass(el, \"ace_disabled\");\n            el.ariaDisabled = el.disabled = false;\n            el.removeAttribute(\"disabled\");\n        }\n        else if (!commandEnabled && !el.disabled) {\n            dom.addCssClass(el, \"ace_disabled\");\n            el.ariaDisabled = el.disabled = true;\n            el.setAttribute(\"disabled\", \"\");\n        }\n    };\n    return CommandBarTooltip;\n}());\noop.implement(CommandBarTooltip.prototype, EventEmitter);\ndom.importCssString(\"\\n.ace_tooltip.\".concat(TOOLTIP_CLASS_NAME, \"_wrapper {\\n    padding: 0;\\n}\\n\\n.ace_tooltip .\").concat(TOOLTIP_CLASS_NAME, \" {\\n    padding: 1px 5px;\\n    display: flex;\\n    pointer-events: auto;\\n}\\n\\n.ace_tooltip .\").concat(TOOLTIP_CLASS_NAME, \".tooltip_more_options {\\n    padding: 1px;\\n    flex-direction: column;\\n}\\n\\ndiv.\").concat(BUTTON_CLASS_NAME, \" {\\n    display: inline-flex;\\n    cursor: pointer;\\n    margin: 1px;\\n    border-radius: 2px;\\n    padding: 2px 5px;\\n    align-items: center;\\n}\\n\\ndiv.\").concat(BUTTON_CLASS_NAME, \".ace_selected,\\ndiv.\").concat(BUTTON_CLASS_NAME, \":hover:not(.ace_disabled) {\\n    background-color: rgba(0, 0, 0, 0.1);\\n}\\n\\ndiv.\").concat(BUTTON_CLASS_NAME, \".ace_disabled {\\n    color: #777;\\n    pointer-events: none;\\n}\\n\\ndiv.\").concat(BUTTON_CLASS_NAME, \" .ace_icon_svg {\\n    height: 12px;\\n    background-color: #000;\\n}\\n\\ndiv.\").concat(BUTTON_CLASS_NAME, \".ace_disabled .ace_icon_svg {\\n    background-color: #777;\\n}\\n\\n.\").concat(TOOLTIP_CLASS_NAME, \".tooltip_more_options .\").concat(BUTTON_CLASS_NAME, \" {\\n    display: flex;\\n}\\n\\n.\").concat(TOOLTIP_CLASS_NAME, \".\").concat(VALUE_CLASS_NAME, \" {\\n    display: none;\\n}\\n\\n.\").concat(TOOLTIP_CLASS_NAME, \".tooltip_more_options .\").concat(VALUE_CLASS_NAME, \" {\\n    display: inline-block;\\n    width: 12px;\\n}\\n\\n.\").concat(CAPTION_CLASS_NAME, \" {\\n    display: inline-block;\\n}\\n\\n.\").concat(KEYBINDING_CLASS_NAME, \" {\\n    margin: 0 2px;\\n    display: inline-block;\\n    font-size: 8px;\\n}\\n\\n.\").concat(TOOLTIP_CLASS_NAME, \".tooltip_more_options .\").concat(KEYBINDING_CLASS_NAME, \" {\\n    margin-left: auto;\\n}\\n\\n.\").concat(KEYBINDING_CLASS_NAME, \" div {\\n    display: inline-block;\\n    min-width: 8px;\\n    padding: 2px;\\n    margin: 0 1px;\\n    border-radius: 2px;\\n    background-color: #ccc;\\n    text-align: center;\\n}\\n\\n.ace_dark.ace_tooltip .\").concat(TOOLTIP_CLASS_NAME, \" {\\n    background-color: #373737;\\n    color: #eee;\\n}\\n\\n.ace_dark div.\").concat(BUTTON_CLASS_NAME, \".ace_disabled {\\n    color: #979797;\\n}\\n\\n.ace_dark div.\").concat(BUTTON_CLASS_NAME, \".ace_selected,\\n.ace_dark div.\").concat(BUTTON_CLASS_NAME, \":hover:not(.ace_disabled) {\\n    background-color: rgba(255, 255, 255, 0.1);\\n}\\n\\n.ace_dark div.\").concat(BUTTON_CLASS_NAME, \" .ace_icon_svg {\\n    background-color: #eee;\\n}\\n\\n.ace_dark div.\").concat(BUTTON_CLASS_NAME, \".ace_disabled .ace_icon_svg {\\n    background-color: #979797;\\n}\\n\\n.ace_dark .\").concat(BUTTON_CLASS_NAME, \".ace_disabled {\\n    color: #979797;\\n}\\n\\n.ace_dark .\").concat(KEYBINDING_CLASS_NAME, \" div {\\n    background-color: #575757;\\n}\\n\\n.ace_checkmark::before {\\n    content: '\\u2713';\\n}\\n\"), \"commandbar.css\", false);\nexports.CommandBarTooltip = CommandBarTooltip;\nexports.TOOLTIP_CLASS_NAME = TOOLTIP_CLASS_NAME;\nexports.BUTTON_CLASS_NAME = BUTTON_CLASS_NAME;\n\n});\n\nace.define(\"ace/marker_group\",[\"require\",\"exports\",\"module\"], function(require, exports, module){\"use strict\";\nvar MarkerGroup = /** @class */ (function () {\n    function MarkerGroup(session, options) {\n        if (options)\n            this.markerType = options.markerType;\n        this.markers = [];\n        this.session = session;\n        session.addDynamicMarker(this);\n    }\n    MarkerGroup.prototype.getMarkerAtPosition = function (pos) {\n        return this.markers.find(function (marker) {\n            return marker.range.contains(pos.row, pos.column);\n        });\n    };\n    MarkerGroup.prototype.markersComparator = function (a, b) {\n        return a.range.start.row - b.range.start.row;\n    };\n    MarkerGroup.prototype.setMarkers = function (markers) {\n        this.markers = markers.sort(this.markersComparator).slice(0, this.MAX_MARKERS);\n        this.session._signal(\"changeBackMarker\");\n    };\n    MarkerGroup.prototype.update = function (html, markerLayer, session, config) {\n        if (!this.markers || !this.markers.length)\n            return;\n        var visibleRangeStartRow = config.firstRow, visibleRangeEndRow = config.lastRow;\n        var foldLine;\n        var markersOnOneLine = 0;\n        var lastRow = 0;\n        for (var i = 0; i < this.markers.length; i++) {\n            var marker = this.markers[i];\n            if (marker.range.end.row < visibleRangeStartRow)\n                continue;\n            if (marker.range.start.row > visibleRangeEndRow)\n                continue;\n            if (marker.range.start.row === lastRow) {\n                markersOnOneLine++;\n            }\n            else {\n                lastRow = marker.range.start.row;\n                markersOnOneLine = 0;\n            }\n            if (markersOnOneLine > 200) {\n                continue;\n            }\n            var markerVisibleRange = marker.range.clipRows(visibleRangeStartRow, visibleRangeEndRow);\n            if (markerVisibleRange.start.row === markerVisibleRange.end.row\n                && markerVisibleRange.start.column === markerVisibleRange.end.column) {\n                continue; // visible range is empty\n            }\n            var screenRange = markerVisibleRange.toScreenRange(session);\n            if (screenRange.isEmpty()) {\n                foldLine = session.getNextFoldLine(markerVisibleRange.end.row, foldLine);\n                if (foldLine && foldLine.end.row > markerVisibleRange.end.row) {\n                    visibleRangeStartRow = foldLine.end.row;\n                }\n                continue;\n            }\n            if (this.markerType === \"fullLine\") {\n                markerLayer.drawFullLineMarker(html, screenRange, marker.className, config);\n            }\n            else if (screenRange.isMultiLine()) {\n                if (this.markerType === \"line\")\n                    markerLayer.drawMultiLineMarker(html, screenRange, marker.className, config);\n                else\n                    markerLayer.drawTextMarker(html, screenRange, marker.className, config);\n            }\n            else {\n                markerLayer.drawSingleLineMarker(html, screenRange, marker.className + \" ace_br15\", config);\n            }\n        }\n    };\n    return MarkerGroup;\n}());\nMarkerGroup.prototype.MAX_MARKERS = 10000;\nexports.MarkerGroup = MarkerGroup;\n\n});\n\nace.define(\"ace/autocomplete/text_completer\",[\"require\",\"exports\",\"module\",\"ace/range\"], function(require, exports, module){var Range = require(\"../range\").Range;\nvar splitRegex = /[^a-zA-Z_0-9\\$\\-\\u00C0-\\u1FFF\\u2C00-\\uD7FF\\w]+/;\nfunction getWordIndex(doc, pos) {\n    var textBefore = doc.getTextRange(Range.fromPoints({\n        row: 0,\n        column: 0\n    }, pos));\n    return textBefore.split(splitRegex).length - 1;\n}\nfunction wordDistance(doc, pos) {\n    var prefixPos = getWordIndex(doc, pos);\n    var words = doc.getValue().split(splitRegex);\n    var wordScores = Object.create(null);\n    var currentWord = words[prefixPos];\n    words.forEach(function (word, idx) {\n        if (!word || word === currentWord)\n            return;\n        var distance = Math.abs(prefixPos - idx);\n        var score = words.length - distance;\n        if (wordScores[word]) {\n            wordScores[word] = Math.max(score, wordScores[word]);\n        }\n        else {\n            wordScores[word] = score;\n        }\n    });\n    return wordScores;\n}\nexports.getCompletions = function (editor, session, pos, prefix, callback) {\n    var wordScore = wordDistance(session, pos);\n    var wordList = Object.keys(wordScore);\n    callback(null, wordList.map(function (word) {\n        return {\n            caption: word,\n            value: word,\n            score: wordScore[word],\n            meta: \"local\"\n        };\n    }));\n};\n\n});\n\nace.define(\"ace/ext/language_tools\",[\"require\",\"exports\",\"module\",\"ace/snippets\",\"ace/autocomplete\",\"ace/config\",\"ace/lib/lang\",\"ace/autocomplete/util\",\"ace/marker_group\",\"ace/autocomplete/text_completer\",\"ace/editor\",\"ace/config\"], function(require, exports, module){/**\n * ## Language Tools extension for Ace Editor\n *\n * Provides autocompletion, snippets, and language intelligence features for the Ace code editor.\n * This extension integrates multiple completion providers including keyword completion, snippet expansion,\n * and text-based completion to enhance the coding experience with contextual suggestions and automated code generation.\n *\n * **Configuration Options:**\n * - `enableBasicAutocompletion`: Enable/disable basic completion functionality\n * - `enableLiveAutocompletion`: Enable/disable real-time completion suggestions\n * - `enableSnippets`: Enable/disable snippet expansion with Tab key\n * - `liveAutocompletionDelay`: Delay before showing live completion popup\n * - `liveAutocompletionThreshold`: Minimum prefix length to trigger completion\n *\n * **Usage:**\n * ```javascript\n * editor.setOptions({\n *   enableBasicAutocompletion: true,\n *   enableLiveAutocompletion: true,\n *   enableSnippets: true\n * });\n * ```\n *\n * @module\n */\n\"use strict\";\nvar snippetManager = require(\"../snippets\").snippetManager;\nvar Autocomplete = require(\"../autocomplete\").Autocomplete;\nvar config = require(\"../config\");\nvar lang = require(\"../lib/lang\");\nvar util = require(\"../autocomplete/util\");\nvar MarkerGroup = require(\"../marker_group\").MarkerGroup;\nvar textCompleter = require(\"../autocomplete/text_completer\");\nvar keyWordCompleter = {\n    getCompletions: function (editor, session, pos, prefix, callback) {\n        if (session.$mode.completer) {\n            return session.$mode.completer.getCompletions(editor, session, pos, prefix, callback);\n        }\n        var state = editor.session.getState(pos.row);\n        var completions = session.$mode.getCompletions(state, session, pos, prefix);\n        completions = completions.map(function (el) {\n            el.completerId = keyWordCompleter.id;\n            return el;\n        });\n        callback(null, completions);\n    },\n    id: \"keywordCompleter\"\n};\nvar transformSnippetTooltip = function (str) {\n    var record = {};\n    return str.replace(/\\${(\\d+)(:(.*?))?}/g, function (_, p1, p2, p3) {\n        return (record[p1] = p3 || '');\n    }).replace(/\\$(\\d+?)/g, function (_, p1) {\n        return record[p1];\n    });\n};\nvar snippetCompleter = {\n    getCompletions: function (editor, session, pos, prefix, callback) {\n        var scopes = [];\n        var token = session.getTokenAt(pos.row, pos.column);\n        if (token && token.type.match(/(tag-name|tag-open|tag-whitespace|attribute-name|attribute-value)\\.xml$/))\n            scopes.push('html-tag');\n        else\n            scopes = snippetManager.getActiveScopes(editor);\n        var snippetMap = snippetManager.snippetMap;\n        var completions = [];\n        scopes.forEach(function (scope) {\n            var snippets = snippetMap[scope] || [];\n            for (var i = snippets.length; i--;) {\n                var s = snippets[i];\n                var caption = s.name || s.tabTrigger;\n                if (!caption)\n                    continue;\n                completions.push({\n                    caption: caption,\n                    snippet: s.content,\n                    meta: s.tabTrigger && !s.name ? s.tabTrigger + \"\\u21E5 \" : \"snippet\",\n                    completerId: snippetCompleter.id\n                });\n            }\n        }, this);\n        callback(null, completions);\n    },\n    getDocTooltip: function (item) {\n        if (item.snippet && !item.docHTML) {\n            item.docHTML = [\n                \"<b>\", lang.escapeHTML(item.caption), \"</b>\", \"<hr></hr>\",\n                lang.escapeHTML(transformSnippetTooltip(item.snippet))\n            ].join(\"\");\n        }\n    },\n    id: \"snippetCompleter\"\n};\nvar completers = [snippetCompleter, textCompleter, keyWordCompleter];\nexports.setCompleters = function (val) {\n    completers.length = 0;\n    if (val)\n        completers.push.apply(completers, val);\n};\nexports.addCompleter = function (completer) {\n    completers.push(completer);\n};\nexports.textCompleter = textCompleter;\nexports.keyWordCompleter = keyWordCompleter;\nexports.snippetCompleter = snippetCompleter;\nvar expandSnippet = {\n    name: \"expandSnippet\",\n    exec: function (editor) {\n        return snippetManager.expandWithTab(editor);\n    },\n    bindKey: \"Tab\"\n};\nvar onChangeMode = function (e, editor) {\n    loadSnippetsForMode(editor.session.$mode);\n};\nvar loadSnippetsForMode = function (mode) {\n    if (typeof mode == \"string\")\n        mode = config.$modes[mode];\n    if (!mode)\n        return;\n    if (!snippetManager.files)\n        snippetManager.files = {};\n    loadSnippetFile(mode.$id, mode.snippetFileId);\n    if (mode.modes)\n        mode.modes.forEach(loadSnippetsForMode);\n};\nvar loadSnippetFile = function (id, snippetFilePath) {\n    if (!snippetFilePath || !id || snippetManager.files[id])\n        return;\n    snippetManager.files[id] = {};\n    config.loadModule(snippetFilePath, function (m) {\n        if (!m)\n            return;\n        snippetManager.files[id] = m;\n        if (!m.snippets && m.snippetText)\n            m.snippets = snippetManager.parseSnippetFile(m.snippetText);\n        snippetManager.register(m.snippets || [], m.scope);\n        if (m.includeScopes) {\n            snippetManager.snippetMap[m.scope].includeScopes = m.includeScopes;\n            m.includeScopes.forEach(function (x) {\n                loadSnippetsForMode(\"ace/mode/\" + x);\n            });\n        }\n    });\n};\nvar doLiveAutocomplete = function (e) {\n    var editor = e.editor;\n    var hasCompleter = editor.completer && editor.completer.activated;\n    if (e.command.name === \"backspace\") {\n        if (hasCompleter && !util.getCompletionPrefix(editor))\n            editor.completer.detach();\n    }\n    else if (e.command.name === \"insertstring\" && !hasCompleter) {\n        lastExecEvent = e;\n        var delay = e.editor.$liveAutocompletionDelay;\n        if (delay) {\n            liveAutocompleteTimer.delay(delay);\n        }\n        else {\n            showLiveAutocomplete(e);\n        }\n    }\n};\nvar lastExecEvent;\nvar liveAutocompleteTimer = lang.delayedCall(function () {\n    showLiveAutocomplete(lastExecEvent);\n}, 0);\nvar showLiveAutocomplete = function (e) {\n    var editor = e.editor;\n    var prefix = util.getCompletionPrefix(editor);\n    var previousChar = e.args;\n    var triggerAutocomplete = util.triggerAutocomplete(editor, previousChar);\n    if (prefix && prefix.length >= editor.$liveAutocompletionThreshold || triggerAutocomplete) {\n        var completer = Autocomplete.for(editor);\n        completer.autoShown = true;\n        completer.showPopup(editor);\n    }\n};\nvar Editor = require(\"../editor\").Editor;\nrequire(\"../config\").defineOptions(Editor.prototype, \"editor\", {\n    enableBasicAutocompletion: {\n        set: function (val) {\n            if (val) {\n                Autocomplete.for(this);\n                if (!this.completers)\n                    this.completers = Array.isArray(val) ? val : completers;\n                this.commands.addCommand(Autocomplete.startCommand);\n            }\n            else {\n                this.commands.removeCommand(Autocomplete.startCommand);\n            }\n        },\n        value: false\n    },\n    enableLiveAutocompletion: {\n        set: function (val) {\n            if (val) {\n                if (!this.completers)\n                    this.completers = Array.isArray(val) ? val : completers;\n                this.commands.on('afterExec', doLiveAutocomplete);\n            }\n            else {\n                this.commands.off('afterExec', doLiveAutocomplete);\n            }\n        },\n        value: false\n    },\n    liveAutocompletionDelay: {\n        initialValue: 0\n    },\n    liveAutocompletionThreshold: {\n        initialValue: 0\n    },\n    enableSnippets: {\n        set: function (val) {\n            if (val) {\n                this.commands.addCommand(expandSnippet);\n                this.on(\"changeMode\", onChangeMode);\n                onChangeMode(null, this);\n            }\n            else {\n                this.commands.removeCommand(expandSnippet);\n                this.off(\"changeMode\", onChangeMode);\n            }\n        },\n        value: false\n    }\n});\nexports.MarkerGroup = MarkerGroup;\n\n});\n\nace.define(\"ace/ext/inline_autocomplete\",[\"require\",\"exports\",\"module\",\"ace/keyboard/hash_handler\",\"ace/autocomplete/inline\",\"ace/autocomplete\",\"ace/autocomplete\",\"ace/editor\",\"ace/autocomplete/util\",\"ace/lib/dom\",\"ace/lib/lang\",\"ace/ext/command_bar\",\"ace/ext/command_bar\",\"ace/ext/language_tools\",\"ace/ext/language_tools\",\"ace/ext/language_tools\",\"ace/config\"], function(require, exports, module){/**\n * ## Inline Autocomplete extension\n *\n * Provides lightweight, prefix-based autocompletion with inline ghost text rendering and an optional command bar tooltip.\n * Displays completion suggestions as ghost text directly in the editor with keyboard navigation and interactive controls.\n *\n * **Enable:** `editor.setOption(\"enableInlineAutocompletion\", true)`\n * or configure it during editor initialization in the options object.\n * @module\n */\n\"use strict\";\nvar HashHandler = require(\"../keyboard/hash_handler\").HashHandler;\nvar AceInline = require(\"../autocomplete/inline\").AceInline;\nvar FilteredList = require(\"../autocomplete\").FilteredList;\nvar CompletionProvider = require(\"../autocomplete\").CompletionProvider;\nvar Editor = require(\"../editor\").Editor;\nvar util = require(\"../autocomplete/util\");\nvar dom = require(\"../lib/dom\");\nvar lang = require(\"../lib/lang\");\nvar CommandBarTooltip = require(\"./command_bar\").CommandBarTooltip;\nvar BUTTON_CLASS_NAME = require(\"./command_bar\").BUTTON_CLASS_NAME;\nvar snippetCompleter = require(\"./language_tools\").snippetCompleter;\nvar textCompleter = require(\"./language_tools\").textCompleter;\nvar keyWordCompleter = require(\"./language_tools\").keyWordCompleter;\nvar destroyCompleter = function (e, editor) {\n    editor.completer && editor.completer.destroy();\n};\nvar InlineAutocomplete = /** @class */ (function () {\n    function InlineAutocomplete(editor) {\n        this.editor = editor;\n        this.keyboardHandler = new HashHandler(this.commands);\n        this.$index = -1;\n        this.blurListener = this.blurListener.bind(this);\n        this.changeListener = this.changeListener.bind(this);\n        this.changeTimer = lang.delayedCall(function () {\n            this.updateCompletions();\n        }.bind(this));\n    }\n    InlineAutocomplete.prototype.getInlineRenderer = function () {\n        if (!this.inlineRenderer)\n            this.inlineRenderer = new AceInline();\n        return this.inlineRenderer;\n    };\n    InlineAutocomplete.prototype.getInlineTooltip = function () {\n        if (!this.inlineTooltip) {\n            this.inlineTooltip = InlineAutocomplete.createInlineTooltip(document.body || document.documentElement);\n        }\n        return this.inlineTooltip;\n    };\n    InlineAutocomplete.prototype.show = function (options) {\n        this.activated = true;\n        if (this.editor.completer !== this) {\n            if (this.editor.completer)\n                this.editor.completer.detach();\n            this.editor.completer = this;\n        }\n        this.editor.on(\"changeSelection\", this.changeListener);\n        this.editor.on(\"blur\", this.blurListener);\n        this.updateCompletions(options);\n    };\n    InlineAutocomplete.prototype.$open = function () {\n        if (this.editor.textInput.setAriaOptions) {\n            this.editor.textInput.setAriaOptions({});\n        }\n        this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler);\n        this.getInlineTooltip().attach(this.editor);\n        if (this.$index === -1) {\n            this.setIndex(0);\n        }\n        else {\n            this.$showCompletion();\n        }\n        this.changeTimer.cancel();\n    };\n    InlineAutocomplete.prototype.insertMatch = function () {\n        var result = this.getCompletionProvider().insertByIndex(this.editor, this.$index);\n        this.detach();\n        return result;\n    };\n    InlineAutocomplete.prototype.changeListener = function (e) {\n        var cursor = this.editor.selection.lead;\n        if (cursor.row != this.base.row || cursor.column < this.base.column) {\n            this.detach();\n        }\n        if (this.activated)\n            this.changeTimer.schedule();\n        else\n            this.detach();\n    };\n    InlineAutocomplete.prototype.blurListener = function (e) {\n        this.detach();\n    };\n    InlineAutocomplete.prototype.goTo = function (where) {\n        if (!this.completions || !this.completions.filtered) {\n            return;\n        }\n        var completionLength = this.completions.filtered.length;\n        switch (where.toLowerCase()) {\n            case \"prev\":\n                this.setIndex((this.$index - 1 + completionLength) % completionLength);\n                break;\n            case \"next\":\n                this.setIndex((this.$index + 1 + completionLength) % completionLength);\n                break;\n            case \"first\":\n                this.setIndex(0);\n                break;\n            case \"last\":\n                this.setIndex(this.completions.filtered.length - 1);\n                break;\n        }\n    };\n    InlineAutocomplete.prototype.getLength = function () {\n        if (!this.completions || !this.completions.filtered) {\n            return 0;\n        }\n        return this.completions.filtered.length;\n    };\n    InlineAutocomplete.prototype.getData = function (index) {\n        if (index == undefined || index === null) {\n            return this.completions.filtered[this.$index];\n        }\n        else {\n            return this.completions.filtered[index];\n        }\n    };\n    InlineAutocomplete.prototype.getIndex = function () {\n        return this.$index;\n    };\n    InlineAutocomplete.prototype.isOpen = function () {\n        return this.$index >= 0;\n    };\n    InlineAutocomplete.prototype.setIndex = function (value) {\n        if (!this.completions || !this.completions.filtered) {\n            return;\n        }\n        var newIndex = Math.max(-1, Math.min(this.completions.filtered.length - 1, value));\n        if (newIndex !== this.$index) {\n            this.$index = newIndex;\n            this.$showCompletion();\n        }\n    };\n    InlineAutocomplete.prototype.getCompletionProvider = function (initialPosition) {\n        if (!this.completionProvider)\n            this.completionProvider = new CompletionProvider(initialPosition);\n        return this.completionProvider;\n    };\n    InlineAutocomplete.prototype.$showCompletion = function () {\n        if (!this.getInlineRenderer().show(this.editor, this.completions.filtered[this.$index], this.completions.filterText)) {\n            this.getInlineRenderer().hide();\n        }\n        if (this.inlineTooltip && this.inlineTooltip.isShown()) {\n            this.inlineTooltip.update();\n        }\n    };\n    InlineAutocomplete.prototype.$updatePrefix = function () {\n        var pos = this.editor.getCursorPosition();\n        var prefix = this.editor.session.getTextRange({ start: this.base, end: pos });\n        this.completions.setFilter(prefix);\n        if (!this.completions.filtered.length)\n            return this.detach();\n        if (this.completions.filtered.length == 1\n            && this.completions.filtered[0].value == prefix\n            && !this.completions.filtered[0].snippet)\n            return this.detach();\n        this.$open(this.editor, prefix);\n        return prefix;\n    };\n    InlineAutocomplete.prototype.updateCompletions = function (options) {\n        var prefix = \"\";\n        if (options && options.matches) {\n            var pos = this.editor.getSelectionRange().start;\n            this.base = this.editor.session.doc.createAnchor(pos.row, pos.column);\n            this.base.$insertRight = true;\n            this.completions = new FilteredList(options.matches);\n            return this.$open(this.editor, \"\");\n        }\n        if (this.base && this.completions) {\n            prefix = this.$updatePrefix();\n        }\n        var session = this.editor.getSession();\n        var pos = this.editor.getCursorPosition();\n        var prefix = util.getCompletionPrefix(this.editor);\n        this.base = session.doc.createAnchor(pos.row, pos.column - prefix.length);\n        this.base.$insertRight = true;\n        var options = {\n            exactMatch: true,\n            ignoreCaption: true\n        };\n        this.getCompletionProvider({\n            prefix: prefix,\n            base: this.base,\n            pos: pos\n        }).provideCompletions(this.editor, options, \n        function (err, completions, finished) {\n            var filtered = completions.filtered;\n            var prefix = util.getCompletionPrefix(this.editor);\n            if (finished) {\n                if (!filtered.length)\n                    return this.detach();\n                if (filtered.length == 1 && filtered[0].value == prefix && !filtered[0].snippet)\n                    return this.detach();\n            }\n            this.completions = completions;\n            this.$open(this.editor, prefix);\n        }.bind(this));\n    };\n    InlineAutocomplete.prototype.detach = function () {\n        if (this.editor) {\n            this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler);\n            this.editor.off(\"changeSelection\", this.changeListener);\n            this.editor.off(\"blur\", this.blurListener);\n        }\n        this.changeTimer.cancel();\n        if (this.inlineTooltip) {\n            this.inlineTooltip.detach();\n        }\n        this.setIndex(-1);\n        if (this.completionProvider) {\n            this.completionProvider.detach();\n        }\n        if (this.inlineRenderer && this.inlineRenderer.isOpen()) {\n            this.inlineRenderer.hide();\n        }\n        if (this.base)\n            this.base.detach();\n        this.activated = false;\n        this.completionProvider = this.completions = this.base = null;\n    };\n    InlineAutocomplete.prototype.destroy = function () {\n        this.detach();\n        if (this.inlineRenderer)\n            this.inlineRenderer.destroy();\n        if (this.inlineTooltip)\n            this.inlineTooltip.destroy();\n        if (this.editor && this.editor.completer == this) {\n            this.editor.off(\"destroy\", destroyCompleter);\n            this.editor.completer = null;\n        }\n        this.inlineTooltip = this.editor = this.inlineRenderer = null;\n    };\n    InlineAutocomplete.prototype.updateDocTooltip = function () {\n    };\n    return InlineAutocomplete;\n}());\nInlineAutocomplete.prototype.commands = {\n    \"Previous\": {\n        bindKey: \"Alt-[\",\n        name: \"Previous\",\n        exec: function (editor) {\n            editor.completer.goTo(\"prev\");\n        }\n    },\n    \"Next\": {\n        bindKey: \"Alt-]\",\n        name: \"Next\",\n        exec: function (editor) {\n            editor.completer.goTo(\"next\");\n        }\n    },\n    \"Accept\": {\n        bindKey: { win: \"Tab|Ctrl-Right\", mac: \"Tab|Cmd-Right\" },\n        name: \"Accept\",\n        exec: function (editor) {\n            return /**@type{InlineAutocomplete}*/ (editor.completer).insertMatch();\n        }\n    },\n    \"Close\": {\n        bindKey: \"Esc\",\n        name: \"Close\",\n        exec: function (editor) {\n            editor.completer.detach();\n        }\n    }\n};\nInlineAutocomplete.for = function (editor) {\n    if (editor.completer instanceof InlineAutocomplete) {\n        return editor.completer;\n    }\n    if (editor.completer) {\n        editor.completer.destroy();\n        editor.completer = null;\n    }\n    editor.completer = new InlineAutocomplete(editor);\n    editor.once(\"destroy\", destroyCompleter);\n    return editor.completer;\n};\nInlineAutocomplete.startCommand = {\n    name: \"startInlineAutocomplete\",\n    exec: function (editor, options) {\n        var completer = InlineAutocomplete.for(editor);\n        completer.show(options);\n    },\n    bindKey: { win: \"Alt-C\", mac: \"Option-C\" }\n};\nvar completers = [snippetCompleter, textCompleter, keyWordCompleter];\nrequire(\"../config\").defineOptions(Editor.prototype, \"editor\", {\n    enableInlineAutocompletion: {\n        set: function (val) {\n            if (val) {\n                if (!this.completers)\n                    this.completers = Array.isArray(val) ? val : completers;\n                this.commands.addCommand(InlineAutocomplete.startCommand);\n            }\n            else {\n                this.commands.removeCommand(InlineAutocomplete.startCommand);\n            }\n        },\n        value: false\n    }\n});\nInlineAutocomplete.createInlineTooltip = function (parentEl) {\n    var inlineTooltip = new CommandBarTooltip(parentEl);\n    inlineTooltip.registerCommand(\"Previous\", \n    Object.assign({}, InlineAutocomplete.prototype.commands[\"Previous\"], {\n        enabled: true,\n        type: \"button\",\n        iconCssClass: \"ace_arrow_rotated\"\n    }));\n    inlineTooltip.registerCommand(\"Position\", {\n        enabled: false,\n        getValue: function (editor) {\n            return editor ? [\n                (editor.completer).getIndex() + 1, /**@type{InlineAutocomplete}*/ (editor.completer).getLength()\n            ].join(\"/\") : \"\";\n        },\n        type: \"text\",\n        cssClass: \"completion_position\"\n    });\n    inlineTooltip.registerCommand(\"Next\", \n    Object.assign({}, InlineAutocomplete.prototype.commands[\"Next\"], {\n        enabled: true,\n        type: \"button\",\n        iconCssClass: \"ace_arrow\"\n    }));\n    inlineTooltip.registerCommand(\"Accept\", \n    Object.assign({}, InlineAutocomplete.prototype.commands[\"Accept\"], {\n        enabled: function (editor) {\n            return !!editor && editor.completer.getIndex() >= 0;\n        },\n        type: \"button\"\n    }));\n    inlineTooltip.registerCommand(\"ShowTooltip\", {\n        name: \"Always Show Tooltip\",\n        exec: function () {\n            inlineTooltip.setAlwaysShow(!inlineTooltip.getAlwaysShow());\n        },\n        enabled: true,\n        getValue: function () {\n            return inlineTooltip.getAlwaysShow();\n        },\n        type: \"checkbox\"\n    });\n    return inlineTooltip;\n};\ndom.importCssString(\"\\n\\n.ace_icon_svg.ace_arrow,\\n.ace_icon_svg.ace_arrow_rotated {\\n    -webkit-mask-image: url(\\\"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTUuODM3MDEgMTVMNC41ODc1MSAxMy43MTU1TDEwLjE0NjggOEw0LjU4NzUxIDIuMjg0NDZMNS44MzcwMSAxTDEyLjY0NjUgOEw1LjgzNzAxIDE1WiIgZmlsbD0iYmxhY2siLz48L3N2Zz4=\\\");\\n}\\n\\n.ace_icon_svg.ace_arrow_rotated {\\n    transform: rotate(180deg);\\n}\\n\\ndiv.\".concat(BUTTON_CLASS_NAME, \".completion_position {\\n    padding: 0;\\n}\\n\"), \"inlineautocomplete.css\", false);\nexports.InlineAutocomplete = InlineAutocomplete;\n\n});                (function() {\n                    ace.require([\"ace/ext/inline_autocomplete\"], function(m) {\n                        if (typeof module == \"object\" && typeof exports == \"object\" && module) {\n                            module.exports = m;\n                        }\n                    });\n                })();\n            "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script"}