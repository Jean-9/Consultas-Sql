{"ast":null,"code":"ace.define(\"ace/autocomplete/popup\", [\"require\", \"exports\", \"module\", \"ace/virtual_renderer\", \"ace/editor\", \"ace/range\", \"ace/lib/event\", \"ace/lib/lang\", \"ace/lib/dom\", \"ace/config\", \"ace/lib/useragent\"], function (require, exports, module) {\n  \"use strict\";\n\n  var Renderer = require(\"../virtual_renderer\").VirtualRenderer;\n  var Editor = require(\"../editor\").Editor;\n  var Range = require(\"../range\").Range;\n  var event = require(\"../lib/event\");\n  var lang = require(\"../lib/lang\");\n  var dom = require(\"../lib/dom\");\n  var nls = require(\"../config\").nls;\n  var userAgent = require(\"./../lib/useragent\");\n  var getAriaId = function (index) {\n    return \"suggest-aria-id:\".concat(index);\n  };\n  var popupAriaRole = userAgent.isSafari ? \"menu\" : \"listbox\";\n  var optionAriaRole = userAgent.isSafari ? \"menuitem\" : \"option\";\n  var ariaActiveState = userAgent.isSafari ? \"aria-current\" : \"aria-selected\";\n  var $singleLineEditor = function (el) {\n    var renderer = new Renderer(el);\n    renderer.$maxLines = 4;\n    var editor = new Editor(renderer);\n    editor.setHighlightActiveLine(false);\n    editor.setShowPrintMargin(false);\n    editor.renderer.setShowGutter(false);\n    editor.renderer.setHighlightGutterLine(false);\n    editor.$mouseHandler.$focusTimeout = 0;\n    editor.$highlightTagPending = true;\n    return editor;\n  };\n  var AcePopup = /** @class */function () {\n    function AcePopup(parentNode) {\n      var el = dom.createElement(\"div\");\n      var popup = $singleLineEditor(el);\n      if (parentNode) {\n        parentNode.appendChild(el);\n      }\n      el.style.display = \"none\";\n      popup.renderer.content.style.cursor = \"default\";\n      popup.renderer.setStyle(\"ace_autocomplete\");\n      popup.renderer.$textLayer.element.setAttribute(\"role\", popupAriaRole);\n      popup.renderer.$textLayer.element.setAttribute(\"aria-roledescription\", nls(\"autocomplete.popup.aria-roledescription\", \"Autocomplete suggestions\"));\n      popup.renderer.$textLayer.element.setAttribute(\"aria-label\", nls(\"autocomplete.popup.aria-label\", \"Autocomplete suggestions\"));\n      popup.renderer.textarea.setAttribute(\"aria-hidden\", \"true\");\n      popup.setOption(\"displayIndentGuides\", false);\n      popup.setOption(\"dragDelay\", 150);\n      var noop = function () {};\n      popup.focus = noop;\n      popup.$isFocused = true;\n      popup.renderer.$cursorLayer.restartTimer = noop;\n      popup.renderer.$cursorLayer.element.style.opacity = \"0\";\n      popup.renderer.$maxLines = 8;\n      popup.renderer.$keepTextAreaAtCursor = false;\n      popup.setHighlightActiveLine(false);\n      popup.session.highlight(\"\");\n      popup.session.$searchHighlight.clazz = \"ace_highlight-marker\";\n      popup.on(\"mousedown\", function (e) {\n        var pos = e.getDocumentPosition();\n        popup.selection.moveToPosition(pos);\n        selectionMarker.start.row = selectionMarker.end.row = pos.row;\n        e.stop();\n      });\n      var lastMouseEvent;\n      var hoverMarker = new Range(-1, 0, -1, Infinity);\n      var selectionMarker = new Range(-1, 0, -1, Infinity);\n      selectionMarker.id = popup.session.addMarker(selectionMarker, \"ace_active-line\", \"fullLine\");\n      popup.setSelectOnHover = function (val) {\n        if (!val) {\n          hoverMarker.id = popup.session.addMarker(hoverMarker, \"ace_line-hover\", \"fullLine\");\n        } else if (hoverMarker.id) {\n          popup.session.removeMarker(hoverMarker.id);\n          hoverMarker.id = null;\n        }\n      };\n      popup.setSelectOnHover(false);\n      popup.on(\"mousemove\", function (e) {\n        if (!lastMouseEvent) {\n          lastMouseEvent = e;\n          return;\n        }\n        if (lastMouseEvent.x == e.x && lastMouseEvent.y == e.y) {\n          return;\n        }\n        lastMouseEvent = e;\n        lastMouseEvent.scrollTop = popup.renderer.scrollTop;\n        popup.isMouseOver = true;\n        var row = lastMouseEvent.getDocumentPosition().row;\n        if (hoverMarker.start.row != row) {\n          if (!hoverMarker.id) popup.setRow(row);\n          setHoverMarker(row);\n        }\n      });\n      popup.renderer.on(\"beforeRender\", function () {\n        if (lastMouseEvent && hoverMarker.start.row != -1) {\n          lastMouseEvent.$pos = null;\n          var row = lastMouseEvent.getDocumentPosition().row;\n          if (!hoverMarker.id) popup.setRow(row);\n          setHoverMarker(row, true);\n        }\n      });\n      popup.renderer.on(\"afterRender\", function () {\n        var t = popup.renderer.$textLayer;\n        for (var row = t.config.firstRow, l = t.config.lastRow; row <= l; row++) {\n          var popupRowElement = /** @type {HTMLElement|null} */t.element.childNodes[row - t.config.firstRow];\n          popupRowElement.setAttribute(\"role\", optionAriaRole);\n          popupRowElement.setAttribute(\"aria-roledescription\", nls(\"autocomplete.popup.item.aria-roledescription\", \"item\"));\n          popupRowElement.setAttribute(\"aria-setsize\", popup.data.length);\n          popupRowElement.setAttribute(\"aria-describedby\", \"doc-tooltip\");\n          popupRowElement.setAttribute(\"aria-posinset\", row + 1);\n          var rowData = popup.getData(row);\n          if (rowData) {\n            var ariaLabel = \"\".concat(rowData.caption || rowData.value).concat(rowData.meta ? \", \".concat(rowData.meta) : '');\n            popupRowElement.setAttribute(\"aria-label\", ariaLabel);\n          }\n          var highlightedSpans = popupRowElement.querySelectorAll(\".ace_completion-highlight\");\n          highlightedSpans.forEach(function (span) {\n            span.setAttribute(\"role\", \"mark\");\n          });\n        }\n      });\n      popup.renderer.on(\"afterRender\", function () {\n        var row = popup.getRow();\n        var t = popup.renderer.$textLayer;\n        var selected = /** @type {HTMLElement|null} */t.element.childNodes[row - t.config.firstRow];\n        var el = document.activeElement; // Active element is textarea of main editor\n        if (selected !== popup.selectedNode && popup.selectedNode) {\n          dom.removeCssClass(popup.selectedNode, \"ace_selected\");\n          popup.selectedNode.removeAttribute(ariaActiveState);\n          popup.selectedNode.removeAttribute(\"id\");\n        }\n        el.removeAttribute(\"aria-activedescendant\");\n        popup.selectedNode = selected;\n        if (selected) {\n          var ariaId = getAriaId(row);\n          dom.addCssClass(selected, \"ace_selected\");\n          selected.id = ariaId;\n          t.element.setAttribute(\"aria-activedescendant\", ariaId);\n          el.setAttribute(\"aria-activedescendant\", ariaId);\n          selected.setAttribute(ariaActiveState, \"true\");\n        }\n      });\n      var hideHoverMarker = function () {\n        setHoverMarker(-1);\n      };\n      var setHoverMarker = function (row, suppressRedraw) {\n        if (row !== hoverMarker.start.row) {\n          hoverMarker.start.row = hoverMarker.end.row = row;\n          if (!suppressRedraw) popup.session._emit(\"changeBackMarker\");\n          popup._emit(\"changeHoverMarker\");\n        }\n      };\n      popup.getHoveredRow = function () {\n        return hoverMarker.start.row;\n      };\n      event.addListener(popup.container, \"mouseout\", function () {\n        popup.isMouseOver = false;\n        hideHoverMarker();\n      });\n      popup.on(\"hide\", hideHoverMarker);\n      popup.on(\"changeSelection\", hideHoverMarker);\n      popup.session.doc.getLength = function () {\n        return popup.data.length;\n      };\n      popup.session.doc.getLine = function (i) {\n        var data = popup.data[i];\n        if (typeof data == \"string\") return data;\n        return data && data.value || \"\";\n      };\n      var bgTokenizer = popup.session.bgTokenizer;\n      bgTokenizer.$tokenizeRow = function (row) {\n        var data = popup.data[row];\n        var tokens = [];\n        if (!data) return tokens;\n        if (typeof data == \"string\") data = {\n          value: data\n        };\n        var caption = data.caption || data.value || data.name;\n        function addToken(value, className) {\n          value && tokens.push({\n            type: (data.className || \"\") + (className || \"\"),\n            value: value\n          });\n        }\n        var lower = caption.toLowerCase();\n        var filterText = (popup.filterText || \"\").toLowerCase();\n        var lastIndex = 0;\n        var lastI = 0;\n        for (var i = 0; i <= filterText.length; i++) {\n          if (i != lastI && (data.matchMask & 1 << i || i == filterText.length)) {\n            var sub = filterText.slice(lastI, i);\n            lastI = i;\n            var index = lower.indexOf(sub, lastIndex);\n            if (index == -1) continue;\n            addToken(caption.slice(lastIndex, index), \"\");\n            lastIndex = index + sub.length;\n            addToken(caption.slice(index, lastIndex), \"completion-highlight\");\n          }\n        }\n        addToken(caption.slice(lastIndex, caption.length), \"\");\n        tokens.push({\n          type: \"completion-spacer\",\n          value: \" \"\n        });\n        if (data.meta) tokens.push({\n          type: \"completion-meta\",\n          value: data.meta\n        });\n        if (data.message) tokens.push({\n          type: \"completion-message\",\n          value: data.message\n        });\n        return tokens;\n      };\n      bgTokenizer.$updateOnChange = noop;\n      bgTokenizer.start = noop;\n      popup.session.$computeWidth = function () {\n        return this.screenWidth = 0;\n      };\n      popup.isOpen = false;\n      popup.isTopdown = false;\n      popup.autoSelect = true;\n      popup.filterText = \"\";\n      popup.isMouseOver = false;\n      popup.data = [];\n      popup.setData = function (list, filterText) {\n        popup.filterText = filterText || \"\";\n        popup.setValue(lang.stringRepeat(\"\\n\", list.length), -1);\n        popup.data = list || [];\n        popup.setRow(0);\n      };\n      popup.getData = function (row) {\n        return popup.data[row];\n      };\n      popup.getRow = function () {\n        return selectionMarker.start.row;\n      };\n      popup.setRow = function (line) {\n        line = Math.max(this.autoSelect ? 0 : -1, Math.min(this.data.length - 1, line));\n        if (selectionMarker.start.row != line) {\n          popup.selection.clearSelection();\n          selectionMarker.start.row = selectionMarker.end.row = line || 0;\n          popup.session._emit(\"changeBackMarker\");\n          popup.moveCursorTo(line || 0, 0);\n          if (popup.isOpen) popup._signal(\"select\");\n        }\n      };\n      popup.on(\"changeSelection\", function () {\n        if (popup.isOpen) popup.setRow(popup.selection.lead.row);\n        popup.renderer.scrollCursorIntoView();\n      });\n      popup.hide = function () {\n        this.container.style.display = \"none\";\n        popup.anchorPos = null;\n        popup.anchor = null;\n        if (popup.isOpen) {\n          popup.isOpen = false;\n          this._signal(\"hide\");\n        }\n      };\n      popup.tryShow = function (pos, lineHeight, anchor, forceShow) {\n        if (!forceShow && popup.isOpen && popup.anchorPos && popup.anchor && popup.anchorPos.top === pos.top && popup.anchorPos.left === pos.left && popup.anchor === anchor) {\n          return true;\n        }\n        var el = this.container;\n        var scrollBarSize = this.renderer.scrollBar.width || 10;\n        var screenHeight = window.innerHeight - scrollBarSize;\n        var screenWidth = window.innerWidth - scrollBarSize;\n        var renderer = this.renderer;\n        var maxH = renderer.$maxLines * lineHeight * 1.4;\n        var dims = {\n          top: 0,\n          bottom: 0,\n          left: 0\n        };\n        var spaceBelow = screenHeight - pos.top - 3 * this.$borderSize - lineHeight;\n        var spaceAbove = pos.top - 3 * this.$borderSize;\n        if (!anchor) {\n          if (spaceAbove <= spaceBelow || spaceBelow >= maxH) {\n            anchor = \"bottom\";\n          } else {\n            anchor = \"top\";\n          }\n        }\n        if (anchor === \"top\") {\n          dims.bottom = pos.top - this.$borderSize;\n          dims.top = dims.bottom - maxH;\n        } else if (anchor === \"bottom\") {\n          dims.top = pos.top + lineHeight + this.$borderSize;\n          dims.bottom = dims.top + maxH;\n        }\n        var fitsX = dims.top >= 0 && dims.bottom <= screenHeight;\n        if (!forceShow && !fitsX) {\n          return false;\n        }\n        if (!fitsX) {\n          if (anchor === \"top\") {\n            renderer.$maxPixelHeight = spaceAbove;\n          } else {\n            renderer.$maxPixelHeight = spaceBelow;\n          }\n        } else {\n          renderer.$maxPixelHeight = null;\n        }\n        if (anchor === \"top\") {\n          el.style.top = \"\";\n          el.style.bottom = screenHeight + scrollBarSize - dims.bottom + \"px\";\n          popup.isTopdown = false;\n        } else {\n          el.style.top = dims.top + \"px\";\n          el.style.bottom = \"\";\n          popup.isTopdown = true;\n        }\n        el.style.display = \"\";\n        var left = pos.left;\n        if (left + el.offsetWidth > screenWidth) left = screenWidth - el.offsetWidth;\n        el.style.left = left + \"px\";\n        el.style.right = \"\";\n        if (!popup.isOpen) {\n          popup.isOpen = true;\n          this._signal(\"show\");\n          lastMouseEvent = null;\n        }\n        popup.anchorPos = pos;\n        popup.anchor = anchor;\n        return true;\n      };\n      popup.show = function (pos, lineHeight, topdownOnly) {\n        this.tryShow(pos, lineHeight, topdownOnly ? \"bottom\" : undefined, true);\n      };\n      popup.goTo = function (where) {\n        var row = this.getRow();\n        var max = this.session.getLength() - 1;\n        switch (where) {\n          case \"up\":\n            row = row <= 0 ? max : row - 1;\n            break;\n          case \"down\":\n            row = row >= max ? -1 : row + 1;\n            break;\n          case \"start\":\n            row = 0;\n            break;\n          case \"end\":\n            row = max;\n            break;\n        }\n        this.setRow(row);\n      };\n      popup.getTextLeftOffset = function () {\n        return this.$borderSize + this.renderer.$padding + this.$imageSize;\n      };\n      popup.$imageSize = 0;\n      popup.$borderSize = 1;\n      return popup;\n    }\n    return AcePopup;\n  }();\n  dom.importCssString(\"\\n.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {\\n    background-color: #CAD6FA;\\n    z-index: 1;\\n}\\n.ace_dark.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {\\n    background-color: #3a674e;\\n}\\n.ace_editor.ace_autocomplete .ace_line-hover {\\n    border: 1px solid #abbffe;\\n    margin-top: -1px;\\n    background: rgba(233,233,253,0.4);\\n    position: absolute;\\n    z-index: 2;\\n}\\n.ace_dark.ace_editor.ace_autocomplete .ace_line-hover {\\n    border: 1px solid rgba(109, 150, 13, 0.8);\\n    background: rgba(58, 103, 78, 0.62);\\n}\\n.ace_completion-meta {\\n    opacity: 0.5;\\n    margin-left: 0.9em;\\n}\\n.ace_completion-message {\\n    margin-left: 0.9em;\\n    color: blue;\\n}\\n.ace_editor.ace_autocomplete .ace_completion-highlight{\\n    color: #2d69c7;\\n}\\n.ace_dark.ace_editor.ace_autocomplete .ace_completion-highlight{\\n    color: #93ca12;\\n}\\n.ace_editor.ace_autocomplete {\\n    width: 300px;\\n    z-index: 200000;\\n    border: 1px lightgray solid;\\n    position: fixed;\\n    box-shadow: 2px 3px 5px rgba(0,0,0,.2);\\n    line-height: 1.4;\\n    background: #fefefe;\\n    color: #111;\\n}\\n.ace_dark.ace_editor.ace_autocomplete {\\n    border: 1px #484747 solid;\\n    box-shadow: 2px 3px 5px rgba(0, 0, 0, 0.51);\\n    line-height: 1.4;\\n    background: #25282c;\\n    color: #c1c1c1;\\n}\\n.ace_autocomplete .ace_text-layer  {\\n    width: calc(100% - 8px);\\n}\\n.ace_autocomplete .ace_line {\\n    display: flex;\\n    align-items: center;\\n}\\n.ace_autocomplete .ace_line > * {\\n    min-width: 0;\\n    flex: 0 0 auto;\\n}\\n.ace_autocomplete .ace_line .ace_ {\\n    flex: 0 1 auto;\\n    overflow: hidden;\\n    text-overflow: ellipsis;\\n}\\n.ace_autocomplete .ace_completion-spacer {\\n    flex: 1;\\n}\\n.ace_autocomplete.ace_loading:after  {\\n    content: \\\"\\\";\\n    position: absolute;\\n    top: 0px;\\n    height: 2px;\\n    width: 8%;\\n    background: blue;\\n    z-index: 100;\\n    animation: ace_progress 3s infinite linear;\\n    animation-delay: 300ms;\\n    transform: translateX(-100%) scaleX(1);\\n}\\n@keyframes ace_progress {\\n    0% { transform: translateX(-100%) scaleX(1) }\\n    50% { transform: translateX(625%) scaleX(2) } \\n    100% { transform: translateX(1500%) scaleX(3) } \\n}\\n@media (prefers-reduced-motion) {\\n    .ace_autocomplete.ace_loading:after {\\n        transform: translateX(625%) scaleX(2);\\n        animation: none;\\n     }\\n}\\n\", \"autocompletion.css\", false);\n  exports.AcePopup = AcePopup;\n  exports.$singleLineEditor = $singleLineEditor;\n  exports.getAriaId = getAriaId;\n});\nace.define(\"ace/snippets\", [\"require\", \"exports\", \"module\", \"ace/lib/dom\", \"ace/lib/oop\", \"ace/lib/event_emitter\", \"ace/lib/lang\", \"ace/range\", \"ace/range_list\", \"ace/keyboard/hash_handler\", \"ace/tokenizer\", \"ace/clipboard\", \"ace/editor\"], function (require, exports, module) {\n  \"use strict\";\n\n  var dom = require(\"./lib/dom\");\n  var oop = require(\"./lib/oop\");\n  var EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\n  var lang = require(\"./lib/lang\");\n  var Range = require(\"./range\").Range;\n  var RangeList = require(\"./range_list\").RangeList;\n  var HashHandler = require(\"./keyboard/hash_handler\").HashHandler;\n  var Tokenizer = require(\"./tokenizer\").Tokenizer;\n  var clipboard = require(\"./clipboard\");\n  var VARIABLES = {\n    CURRENT_WORD: function (editor) {\n      return editor.session.getTextRange(editor.session.getWordRange());\n    },\n    SELECTION: function (editor, name, indentation) {\n      var text = editor.session.getTextRange();\n      if (indentation) return text.replace(/\\n\\r?([ \\t]*\\S)/g, \"\\n\" + indentation + \"$1\");\n      return text;\n    },\n    CURRENT_LINE: function (editor) {\n      return editor.session.getLine(editor.getCursorPosition().row);\n    },\n    PREV_LINE: function (editor) {\n      return editor.session.getLine(editor.getCursorPosition().row - 1);\n    },\n    LINE_INDEX: function (editor) {\n      return editor.getCursorPosition().row;\n    },\n    LINE_NUMBER: function (editor) {\n      return editor.getCursorPosition().row + 1;\n    },\n    SOFT_TABS: function (editor) {\n      return editor.session.getUseSoftTabs() ? \"YES\" : \"NO\";\n    },\n    TAB_SIZE: function (editor) {\n      return editor.session.getTabSize();\n    },\n    CLIPBOARD: function (editor) {\n      return clipboard.getText && clipboard.getText();\n    },\n    FILENAME: function (editor) {\n      return /[^/\\\\]*$/.exec(this.FILEPATH(editor))[0];\n    },\n    FILENAME_BASE: function (editor) {\n      return /[^/\\\\]*$/.exec(this.FILEPATH(editor))[0].replace(/\\.[^.]*$/, \"\");\n    },\n    DIRECTORY: function (editor) {\n      return this.FILEPATH(editor).replace(/[^/\\\\]*$/, \"\");\n    },\n    FILEPATH: function (editor) {\n      return \"/not implemented.txt\";\n    },\n    WORKSPACE_NAME: function () {\n      return \"Unknown\";\n    },\n    FULLNAME: function () {\n      return \"Unknown\";\n    },\n    BLOCK_COMMENT_START: function (editor) {\n      var mode = editor.session.$mode || {};\n      return mode.blockComment && mode.blockComment.start || \"\";\n    },\n    BLOCK_COMMENT_END: function (editor) {\n      var mode = editor.session.$mode || {};\n      return mode.blockComment && mode.blockComment.end || \"\";\n    },\n    LINE_COMMENT: function (editor) {\n      var mode = editor.session.$mode || {};\n      return mode.lineCommentStart || \"\";\n    },\n    CURRENT_YEAR: date.bind(null, {\n      year: \"numeric\"\n    }),\n    CURRENT_YEAR_SHORT: date.bind(null, {\n      year: \"2-digit\"\n    }),\n    CURRENT_MONTH: date.bind(null, {\n      month: \"numeric\"\n    }),\n    CURRENT_MONTH_NAME: date.bind(null, {\n      month: \"long\"\n    }),\n    CURRENT_MONTH_NAME_SHORT: date.bind(null, {\n      month: \"short\"\n    }),\n    CURRENT_DATE: date.bind(null, {\n      day: \"2-digit\"\n    }),\n    CURRENT_DAY_NAME: date.bind(null, {\n      weekday: \"long\"\n    }),\n    CURRENT_DAY_NAME_SHORT: date.bind(null, {\n      weekday: \"short\"\n    }),\n    CURRENT_HOUR: date.bind(null, {\n      hour: \"2-digit\",\n      hour12: false\n    }),\n    CURRENT_MINUTE: date.bind(null, {\n      minute: \"2-digit\"\n    }),\n    CURRENT_SECOND: date.bind(null, {\n      second: \"2-digit\"\n    })\n  };\n  VARIABLES.SELECTED_TEXT = VARIABLES.SELECTION;\n  function date(dateFormat) {\n    var str = new Date().toLocaleString(\"en-us\", dateFormat);\n    return str.length == 1 ? \"0\" + str : str;\n  }\n  var SnippetManager = /** @class */function () {\n    function SnippetManager() {\n      this.snippetMap = {};\n      this.snippetNameMap = {};\n      this.variables = VARIABLES;\n    }\n    SnippetManager.prototype.getTokenizer = function () {\n      return SnippetManager[\"$tokenizer\"] || this.createTokenizer();\n    };\n    SnippetManager.prototype.createTokenizer = function () {\n      function TabstopToken(str) {\n        str = str.substr(1);\n        if (/^\\d+$/.test(str)) return [{\n          tabstopId: parseInt(str, 10)\n        }];\n        return [{\n          text: str\n        }];\n      }\n      function escape(ch) {\n        return \"(?:[^\\\\\\\\\" + ch + \"]|\\\\\\\\.)\";\n      }\n      var formatMatcher = {\n        regex: \"/(\" + escape(\"/\") + \"+)/\",\n        onMatch: function (val, state, stack) {\n          var ts = stack[0];\n          ts.fmtString = true;\n          ts.guard = val.slice(1, -1);\n          ts.flag = \"\";\n          return \"\";\n        },\n        next: \"formatString\"\n      };\n      SnippetManager[\"$tokenizer\"] = new Tokenizer({\n        start: [{\n          regex: /\\\\./,\n          onMatch: function (val, state, stack) {\n            var ch = val[1];\n            if (ch == \"}\" && stack.length) {\n              val = ch;\n            } else if (\"`$\\\\\".indexOf(ch) != -1) {\n              val = ch;\n            }\n            return [val];\n          }\n        }, {\n          regex: /}/,\n          onMatch: function (val, state, stack) {\n            return [stack.length ? stack.shift() : val];\n          }\n        }, {\n          regex: /\\$(?:\\d+|\\w+)/,\n          onMatch: TabstopToken\n        }, {\n          regex: /\\$\\{[\\dA-Z_a-z]+/,\n          onMatch: function (str, state, stack) {\n            var t = TabstopToken(str.substr(1));\n            stack.unshift(t[0]);\n            return t;\n          },\n          next: \"snippetVar\"\n        }, {\n          regex: /\\n/,\n          token: \"newline\",\n          merge: false\n        }],\n        snippetVar: [{\n          regex: \"\\\\|\" + escape(\"\\\\|\") + \"*\\\\|\",\n          onMatch: function (val, state, stack) {\n            var choices = val.slice(1, -1).replace(/\\\\[,|\\\\]|,/g, function (operator) {\n              return operator.length == 2 ? operator[1] : \"\\x00\";\n            }).split(\"\\x00\").map(function (value) {\n              return {\n                value: value\n              };\n            });\n            stack[0].choices = choices;\n            return [choices[0]];\n          },\n          next: \"start\"\n        }, formatMatcher, {\n          regex: \"([^:}\\\\\\\\]|\\\\\\\\.)*:?\",\n          token: \"\",\n          next: \"start\"\n        }],\n        formatString: [{\n          regex: /:/,\n          onMatch: function (val, state, stack) {\n            if (stack.length && stack[0].expectElse) {\n              stack[0].expectElse = false;\n              stack[0].ifEnd = {\n                elseEnd: stack[0]\n              };\n              return [stack[0].ifEnd];\n            }\n            return \":\";\n          }\n        }, {\n          regex: /\\\\./,\n          onMatch: function (val, state, stack) {\n            var ch = val[1];\n            if (ch == \"}\" && stack.length) val = ch;else if (\"`$\\\\\".indexOf(ch) != -1) val = ch;else if (ch == \"n\") val = \"\\n\";else if (ch == \"t\") val = \"\\t\";else if (\"ulULE\".indexOf(ch) != -1) val = {\n              changeCase: ch,\n              local: ch > \"a\"\n            };\n            return [val];\n          }\n        }, {\n          regex: \"/\\\\w*}\",\n          onMatch: function (val, state, stack) {\n            var next = stack.shift();\n            if (next) next.flag = val.slice(1, -1);\n            this.next = next && next.tabstopId ? \"start\" : \"\";\n            return [next || val];\n          },\n          next: \"start\"\n        }, {\n          regex: /\\$(?:\\d+|\\w+)/,\n          onMatch: function (val, state, stack) {\n            return [{\n              text: val.slice(1)\n            }];\n          }\n        }, {\n          regex: /\\${\\w+/,\n          onMatch: function (val, state, stack) {\n            var token = {\n              text: val.slice(2)\n            };\n            stack.unshift(token);\n            return [token];\n          },\n          next: \"formatStringVar\"\n        }, {\n          regex: /\\n/,\n          token: \"newline\",\n          merge: false\n        }, {\n          regex: /}/,\n          onMatch: function (val, state, stack) {\n            var next = stack.shift();\n            this.next = next && next.tabstopId ? \"start\" : \"\";\n            return [next || val];\n          },\n          next: \"start\"\n        }],\n        formatStringVar: [{\n          regex: /:\\/\\w+}/,\n          onMatch: function (val, state, stack) {\n            var ts = stack[0];\n            ts.formatFunction = val.slice(2, -1);\n            return [stack.shift()];\n          },\n          next: \"formatString\"\n        }, formatMatcher, {\n          regex: /:[\\?\\-+]?/,\n          onMatch: function (val, state, stack) {\n            if (val[1] == \"+\") stack[0].ifEnd = stack[0];\n            if (val[1] == \"?\") stack[0].expectElse = true;\n          },\n          next: \"formatString\"\n        }, {\n          regex: \"([^:}\\\\\\\\]|\\\\\\\\.)*:?\",\n          token: \"\",\n          next: \"formatString\"\n        }]\n      });\n      return SnippetManager[\"$tokenizer\"];\n    };\n    SnippetManager.prototype.tokenizeTmSnippet = function (str, startState) {\n      return this.getTokenizer().getLineTokens(str, startState).tokens.map(function (x) {\n        return x.value || x;\n      });\n    };\n    SnippetManager.prototype.getVariableValue = function (editor, name, indentation) {\n      if (/^\\d+$/.test(name)) return (this.variables.__ || {})[name] || \"\";\n      if (/^[A-Z]\\d+$/.test(name)) return (this.variables[name[0] + \"__\"] || {})[name.substr(1)] || \"\";\n      name = name.replace(/^TM_/, \"\");\n      if (!this.variables.hasOwnProperty(name)) return \"\";\n      var value = this.variables[name];\n      if (typeof value == \"function\") value = this.variables[name](editor, name, indentation);\n      return value == null ? \"\" : value;\n    };\n    SnippetManager.prototype.tmStrFormat = function (str, ch, editor) {\n      if (!ch.fmt) return str;\n      var flag = ch.flag || \"\";\n      var re = ch.guard;\n      re = new RegExp(re, flag.replace(/[^gim]/g, \"\"));\n      var fmtTokens = typeof ch.fmt == \"string\" ? this.tokenizeTmSnippet(ch.fmt, \"formatString\") : ch.fmt;\n      var _self = this;\n      var formatted = str.replace(re, function () {\n        var oldArgs = _self.variables.__;\n        _self.variables.__ = [].slice.call(arguments);\n        var fmtParts = _self.resolveVariables(fmtTokens, editor);\n        var gChangeCase = \"E\";\n        for (var i = 0; i < fmtParts.length; i++) {\n          var ch = fmtParts[i];\n          if (typeof ch == \"object\") {\n            fmtParts[i] = \"\";\n            if (ch.changeCase && ch.local) {\n              var next = fmtParts[i + 1];\n              if (next && typeof next == \"string\") {\n                if (ch.changeCase == \"u\") fmtParts[i] = next[0].toUpperCase();else fmtParts[i] = next[0].toLowerCase();\n                fmtParts[i + 1] = next.substr(1);\n              }\n            } else if (ch.changeCase) {\n              gChangeCase = ch.changeCase;\n            }\n          } else if (gChangeCase == \"U\") {\n            fmtParts[i] = ch.toUpperCase();\n          } else if (gChangeCase == \"L\") {\n            fmtParts[i] = ch.toLowerCase();\n          }\n        }\n        _self.variables.__ = oldArgs;\n        return fmtParts.join(\"\");\n      });\n      return formatted;\n    };\n    SnippetManager.prototype.tmFormatFunction = function (str, ch, editor) {\n      if (ch.formatFunction == \"upcase\") return str.toUpperCase();\n      if (ch.formatFunction == \"downcase\") return str.toLowerCase();\n      return str;\n    };\n    SnippetManager.prototype.resolveVariables = function (snippet, editor) {\n      var result = [];\n      var indentation = \"\";\n      var afterNewLine = true;\n      for (var i = 0; i < snippet.length; i++) {\n        var ch = snippet[i];\n        if (typeof ch == \"string\") {\n          result.push(ch);\n          if (ch == \"\\n\") {\n            afterNewLine = true;\n            indentation = \"\";\n          } else if (afterNewLine) {\n            indentation = /^\\t*/.exec(ch)[0];\n            afterNewLine = /\\S/.test(ch);\n          }\n          continue;\n        }\n        if (!ch) continue;\n        afterNewLine = false;\n        if (ch.fmtString) {\n          var j = snippet.indexOf(ch, i + 1);\n          if (j == -1) j = snippet.length;\n          ch.fmt = snippet.slice(i + 1, j);\n          i = j;\n        }\n        if (ch.text) {\n          var value = this.getVariableValue(editor, ch.text, indentation) + \"\";\n          if (ch.fmtString) value = this.tmStrFormat(value, ch, editor);\n          if (ch.formatFunction) value = this.tmFormatFunction(value, ch, editor);\n          if (value && !ch.ifEnd) {\n            result.push(value);\n            gotoNext(ch);\n          } else if (!value && ch.ifEnd) {\n            gotoNext(ch.ifEnd);\n          }\n        } else if (ch.elseEnd) {\n          gotoNext(ch.elseEnd);\n        } else if (ch.tabstopId != null) {\n          result.push(ch);\n        } else if (ch.changeCase != null) {\n          result.push(ch);\n        }\n      }\n      function gotoNext(ch) {\n        var i1 = snippet.indexOf(ch, i + 1);\n        if (i1 != -1) i = i1;\n      }\n      return result;\n    };\n    SnippetManager.prototype.getDisplayTextForSnippet = function (editor, snippetText) {\n      var processedSnippet = processSnippetText.call(this, editor, snippetText);\n      return processedSnippet.text;\n    };\n    SnippetManager.prototype.insertSnippetForSelection = function (editor, snippetText, options) {\n      if (options === void 0) {\n        options = {};\n      }\n      var processedSnippet = processSnippetText.call(this, editor, snippetText, options);\n      var range = editor.getSelectionRange();\n      var end = editor.session.replace(range, processedSnippet.text);\n      var tabstopManager = new TabstopManager(editor);\n      var selectionId = editor.inVirtualSelectionMode && editor.selection.index;\n      tabstopManager.addTabstops(processedSnippet.tabstops, range.start, end, selectionId);\n    };\n    SnippetManager.prototype.insertSnippet = function (editor, snippetText, options) {\n      if (options === void 0) {\n        options = {};\n      }\n      var self = this;\n      if (editor.inVirtualSelectionMode) return self.insertSnippetForSelection(editor, snippetText, options);\n      editor.forEachSelection(function () {\n        self.insertSnippetForSelection(editor, snippetText, options);\n      }, null, {\n        keepOrder: true\n      });\n      if (editor.tabstopManager) editor.tabstopManager.tabNext();\n    };\n    SnippetManager.prototype.$getScope = function (editor) {\n      var scope = editor.session.$mode.$id || \"\";\n      scope = scope.split(\"/\").pop();\n      if (scope === \"html\" || scope === \"php\") {\n        if (scope === \"php\" && !editor.session.$mode.inlinePhp) scope = \"html\";\n        var c = editor.getCursorPosition();\n        var state = editor.session.getState(c.row);\n        if (typeof state === \"object\") {\n          state = state[0];\n        }\n        if (state.substring) {\n          if (state.substring(0, 3) == \"js-\") scope = \"javascript\";else if (state.substring(0, 4) == \"css-\") scope = \"css\";else if (state.substring(0, 4) == \"php-\") scope = \"php\";\n        }\n      }\n      return scope;\n    };\n    SnippetManager.prototype.getActiveScopes = function (editor) {\n      var scope = this.$getScope(editor);\n      var scopes = [scope];\n      var snippetMap = this.snippetMap;\n      if (snippetMap[scope] && snippetMap[scope].includeScopes) {\n        scopes.push.apply(scopes, snippetMap[scope].includeScopes);\n      }\n      scopes.push(\"_\");\n      return scopes;\n    };\n    SnippetManager.prototype.expandWithTab = function (editor, options) {\n      var self = this;\n      var result = editor.forEachSelection(function () {\n        return self.expandSnippetForSelection(editor, options);\n      }, null, {\n        keepOrder: true\n      });\n      if (result && editor.tabstopManager) editor.tabstopManager.tabNext();\n      return result;\n    };\n    SnippetManager.prototype.expandSnippetForSelection = function (editor, options) {\n      var cursor = editor.getCursorPosition();\n      var line = editor.session.getLine(cursor.row);\n      var before = line.substring(0, cursor.column);\n      var after = line.substr(cursor.column);\n      var snippetMap = this.snippetMap;\n      var snippet;\n      this.getActiveScopes(editor).some(function (scope) {\n        var snippets = snippetMap[scope];\n        if (snippets) snippet = this.findMatchingSnippet(snippets, before, after);\n        return !!snippet;\n      }, this);\n      if (!snippet) return false;\n      if (options && options.dryRun) return true;\n      editor.session.doc.removeInLine(cursor.row, cursor.column - snippet.replaceBefore.length, cursor.column + snippet.replaceAfter.length);\n      this.variables.M__ = snippet.matchBefore;\n      this.variables.T__ = snippet.matchAfter;\n      this.insertSnippetForSelection(editor, snippet.content);\n      this.variables.M__ = this.variables.T__ = null;\n      return true;\n    };\n    SnippetManager.prototype.findMatchingSnippet = function (snippetList, before, after) {\n      for (var i = snippetList.length; i--;) {\n        var s = snippetList[i];\n        if (s.startRe && !s.startRe.test(before)) continue;\n        if (s.endRe && !s.endRe.test(after)) continue;\n        if (!s.startRe && !s.endRe) continue;\n        s.matchBefore = s.startRe ? s.startRe.exec(before) : [\"\"];\n        s.matchAfter = s.endRe ? s.endRe.exec(after) : [\"\"];\n        s.replaceBefore = s.triggerRe ? s.triggerRe.exec(before)[0] : \"\";\n        s.replaceAfter = s.endTriggerRe ? s.endTriggerRe.exec(after)[0] : \"\";\n        return s;\n      }\n    };\n    SnippetManager.prototype.register = function (snippets, scope) {\n      var snippetMap = this.snippetMap;\n      var snippetNameMap = this.snippetNameMap;\n      var self = this;\n      if (!snippets) snippets = [];\n      function wrapRegexp(src) {\n        if (src && !/^\\^?\\(.*\\)\\$?$|^\\\\b$/.test(src)) src = \"(?:\" + src + \")\";\n        return src || \"\";\n      }\n      function guardedRegexp(re, guard, opening) {\n        re = wrapRegexp(re);\n        guard = wrapRegexp(guard);\n        if (opening) {\n          re = guard + re;\n          if (re && re[re.length - 1] != \"$\") re = re + \"$\";\n        } else {\n          re = re + guard;\n          if (re && re[0] != \"^\") re = \"^\" + re;\n        }\n        return new RegExp(re);\n      }\n      function addSnippet(s) {\n        if (!s.scope) s.scope = scope || \"_\";\n        scope = s.scope;\n        if (!snippetMap[scope]) {\n          snippetMap[scope] = [];\n          snippetNameMap[scope] = {};\n        }\n        var map = snippetNameMap[scope];\n        if (s.name) {\n          var old = map[s.name];\n          if (old) self.unregister(old);\n          map[s.name] = s;\n        }\n        snippetMap[scope].push(s);\n        if (s.prefix) s.tabTrigger = s.prefix;\n        if (!s.content && s.body) s.content = Array.isArray(s.body) ? s.body.join(\"\\n\") : s.body;\n        if (s.tabTrigger && !s.trigger) {\n          if (!s.guard && /^\\w/.test(s.tabTrigger)) s.guard = \"\\\\b\";\n          s.trigger = lang.escapeRegExp(s.tabTrigger);\n        }\n        if (!s.trigger && !s.guard && !s.endTrigger && !s.endGuard) return;\n        s.startRe = guardedRegexp(s.trigger, s.guard, true);\n        s.triggerRe = new RegExp(s.trigger);\n        s.endRe = guardedRegexp(s.endTrigger, s.endGuard, true);\n        s.endTriggerRe = new RegExp(s.endTrigger);\n      }\n      if (Array.isArray(snippets)) {\n        snippets.forEach(addSnippet);\n      } else {\n        Object.keys(snippets).forEach(function (key) {\n          addSnippet(snippets[key]);\n        });\n      }\n      this._signal(\"registerSnippets\", {\n        scope: scope\n      });\n    };\n    SnippetManager.prototype.unregister = function (snippets, scope) {\n      var snippetMap = this.snippetMap;\n      var snippetNameMap = this.snippetNameMap;\n      function removeSnippet(s) {\n        var nameMap = snippetNameMap[s.scope || scope];\n        if (nameMap && nameMap[s.name]) {\n          delete nameMap[s.name];\n          var map = snippetMap[s.scope || scope];\n          var i = map && map.indexOf(s);\n          if (i >= 0) map.splice(i, 1);\n        }\n      }\n      if (snippets.content) removeSnippet(snippets);else if (Array.isArray(snippets)) snippets.forEach(removeSnippet);\n    };\n    SnippetManager.prototype.parseSnippetFile = function (str) {\n      str = str.replace(/\\r/g, \"\");\n      var list = [],\n        /**@type{Snippet}*/snippet = {};\n      var re = /^#.*|^({[\\s\\S]*})\\s*$|^(\\S+) (.*)$|^((?:\\n*\\t.*)+)/gm;\n      var m;\n      while (m = re.exec(str)) {\n        if (m[1]) {\n          try {\n            snippet = JSON.parse(m[1]);\n            list.push(snippet);\n          } catch (e) {}\n        }\n        if (m[4]) {\n          snippet.content = m[4].replace(/^\\t/gm, \"\");\n          list.push(snippet);\n          snippet = {};\n        } else {\n          var key = m[2],\n            val = m[3];\n          if (key == \"regex\") {\n            var guardRe = /\\/((?:[^\\/\\\\]|\\\\.)*)|$/g;\n            snippet.guard = guardRe.exec(val)[1];\n            snippet.trigger = guardRe.exec(val)[1];\n            snippet.endTrigger = guardRe.exec(val)[1];\n            snippet.endGuard = guardRe.exec(val)[1];\n          } else if (key == \"snippet\") {\n            snippet.tabTrigger = val.match(/^\\S*/)[0];\n            if (!snippet.name) snippet.name = val;\n          } else if (key) {\n            snippet[key] = val;\n          }\n        }\n      }\n      return list;\n    };\n    SnippetManager.prototype.getSnippetByName = function (name, editor) {\n      var snippetMap = this.snippetNameMap;\n      var snippet;\n      this.getActiveScopes(editor).some(function (scope) {\n        var snippets = snippetMap[scope];\n        if (snippets) snippet = snippets[name];\n        return !!snippet;\n      }, this);\n      return snippet;\n    };\n    return SnippetManager;\n  }();\n  oop.implement(SnippetManager.prototype, EventEmitter);\n  var processSnippetText = function (editor, snippetText, options) {\n    if (options === void 0) {\n      options = {};\n    }\n    var cursor = editor.getCursorPosition();\n    var line = editor.session.getLine(cursor.row);\n    var tabString = editor.session.getTabString();\n    var indentString = line.match(/^\\s*/)[0];\n    if (cursor.column < indentString.length) indentString = indentString.slice(0, cursor.column);\n    snippetText = snippetText.replace(/\\r/g, \"\");\n    var tokens = this.tokenizeTmSnippet(snippetText);\n    tokens = this.resolveVariables(tokens, editor);\n    tokens = tokens.map(function (x) {\n      if (x == \"\\n\" && !options.excludeExtraIndent) return x + indentString;\n      if (typeof x == \"string\") return x.replace(/\\t/g, tabString);\n      return x;\n    });\n    var tabstops = [];\n    tokens.forEach(function (p, i) {\n      if (typeof p != \"object\") return;\n      var id = p.tabstopId;\n      var ts = tabstops[id];\n      if (!ts) {\n        ts = tabstops[id] = [];\n        ts.index = id;\n        ts.value = \"\";\n        ts.parents = {};\n      }\n      if (ts.indexOf(p) !== -1) return;\n      if (p.choices && !ts.choices) ts.choices = p.choices;\n      ts.push(p);\n      var i1 = tokens.indexOf(p, i + 1);\n      if (i1 === -1) return;\n      var value = tokens.slice(i + 1, i1);\n      var isNested = value.some(function (t) {\n        return typeof t === \"object\";\n      });\n      if (isNested && !ts.value) {\n        ts.value = value;\n      } else if (value.length && (!ts.value || typeof ts.value !== \"string\")) {\n        ts.value = value.join(\"\");\n      }\n    });\n    tabstops.forEach(function (ts) {\n      ts.length = 0;\n    });\n    var expanding = {};\n    function copyValue(val) {\n      var copy = [];\n      for (var i = 0; i < val.length; i++) {\n        var p = val[i];\n        if (typeof p == \"object\") {\n          if (expanding[p.tabstopId]) continue;\n          var j = val.lastIndexOf(p, i - 1);\n          p = copy[j] || {\n            tabstopId: p.tabstopId\n          };\n        }\n        copy[i] = p;\n      }\n      return copy;\n    }\n    for (var i = 0; i < tokens.length; i++) {\n      var p = tokens[i];\n      if (typeof p != \"object\") continue;\n      var id = p.tabstopId;\n      var ts = tabstops[id];\n      var i1 = tokens.indexOf(p, i + 1);\n      if (expanding[id]) {\n        if (expanding[id] === p) {\n          delete expanding[id];\n          Object.keys(expanding).forEach(function (parentId) {\n            ts.parents[parentId] = true;\n          });\n        }\n        continue;\n      }\n      expanding[id] = p;\n      var value = ts.value;\n      if (typeof value !== \"string\") value = copyValue(value);else if (p.fmt) value = this.tmStrFormat(value, p, editor);\n      tokens.splice.apply(tokens, [i + 1, Math.max(0, i1 - i)].concat(value, p));\n      if (ts.indexOf(p) === -1) ts.push(p);\n    }\n    var row = 0,\n      column = 0;\n    var text = \"\";\n    tokens.forEach(function (t) {\n      if (typeof t === \"string\") {\n        var lines = t.split(\"\\n\");\n        if (lines.length > 1) {\n          column = lines[lines.length - 1].length;\n          row += lines.length - 1;\n        } else column += t.length;\n        text += t;\n      } else if (t) {\n        if (!t.start) t.start = {\n          row: row,\n          column: column\n        };else t.end = {\n          row: row,\n          column: column\n        };\n      }\n    });\n    return {\n      text: text,\n      tabstops: tabstops,\n      tokens: tokens\n    };\n  };\n  var TabstopManager = /** @class */function () {\n    function TabstopManager(editor) {\n      this.index = 0;\n      this.ranges = [];\n      this.tabstops = [];\n      if (editor.tabstopManager) return editor.tabstopManager;\n      editor.tabstopManager = this;\n      this.$onChange = this.onChange.bind(this);\n      this.$onChangeSelection = lang.delayedCall(this.onChangeSelection.bind(this)).schedule;\n      this.$onChangeSession = this.onChangeSession.bind(this);\n      this.$onAfterExec = this.onAfterExec.bind(this);\n      this.attach(editor);\n    }\n    TabstopManager.prototype.attach = function (editor) {\n      this.$openTabstops = null;\n      this.selectedTabstop = null;\n      this.editor = editor;\n      this.session = editor.session;\n      this.editor.on(\"change\", this.$onChange);\n      this.editor.on(\"changeSelection\", this.$onChangeSelection);\n      this.editor.on(\"changeSession\", this.$onChangeSession);\n      this.editor.commands.on(\"afterExec\", this.$onAfterExec);\n      this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler);\n    };\n    TabstopManager.prototype.detach = function () {\n      this.tabstops.forEach(this.removeTabstopMarkers, this);\n      this.ranges.length = 0;\n      this.tabstops.length = 0;\n      this.selectedTabstop = null;\n      this.editor.off(\"change\", this.$onChange);\n      this.editor.off(\"changeSelection\", this.$onChangeSelection);\n      this.editor.off(\"changeSession\", this.$onChangeSession);\n      this.editor.commands.off(\"afterExec\", this.$onAfterExec);\n      this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler);\n      this.editor.tabstopManager = null;\n      this.session = null;\n      this.editor = null;\n    };\n    TabstopManager.prototype.onChange = function (delta) {\n      var isRemove = delta.action[0] == \"r\";\n      var selectedTabstop = this.selectedTabstop || {};\n      var parents = selectedTabstop.parents || {};\n      var tabstops = this.tabstops.slice();\n      for (var i = 0; i < tabstops.length; i++) {\n        var ts = tabstops[i];\n        var active = ts == selectedTabstop || parents[ts.index];\n        ts.rangeList.$bias = active ? 0 : 1;\n        if (delta.action == \"remove\" && ts !== selectedTabstop) {\n          var parentActive = ts.parents && ts.parents[selectedTabstop.index];\n          var startIndex = ts.rangeList.pointIndex(delta.start, parentActive);\n          startIndex = startIndex < 0 ? -startIndex - 1 : startIndex + 1;\n          var endIndex = ts.rangeList.pointIndex(delta.end, parentActive);\n          endIndex = endIndex < 0 ? -endIndex - 1 : endIndex - 1;\n          var toRemove = ts.rangeList.ranges.slice(startIndex, endIndex);\n          for (var j = 0; j < toRemove.length; j++) this.removeRange(toRemove[j]);\n        }\n        ts.rangeList.$onChange(delta);\n      }\n      var session = this.session;\n      if (!this.$inChange && isRemove && session.getLength() == 1 && !session.getValue()) this.detach();\n    };\n    TabstopManager.prototype.updateLinkedFields = function () {\n      var ts = this.selectedTabstop;\n      if (!ts || !ts.hasLinkedRanges || !ts.firstNonLinked) return;\n      this.$inChange = true;\n      var session = this.session;\n      var text = session.getTextRange(ts.firstNonLinked);\n      for (var i = 0; i < ts.length; i++) {\n        var range = ts[i];\n        if (!range.linked) continue;\n        var original = range.original;\n        var fmt = exports.snippetManager.tmStrFormat(text, original, this.editor);\n        session.replace(range, fmt);\n      }\n      this.$inChange = false;\n    };\n    TabstopManager.prototype.onAfterExec = function (e) {\n      if (e.command && !e.command.readOnly) this.updateLinkedFields();\n    };\n    TabstopManager.prototype.onChangeSelection = function () {\n      if (!this.editor) return;\n      var lead = this.editor.selection.lead;\n      var anchor = this.editor.selection.anchor;\n      var isEmpty = this.editor.selection.isEmpty();\n      for (var i = 0; i < this.ranges.length; i++) {\n        if (this.ranges[i].linked) continue;\n        var containsLead = this.ranges[i].contains(lead.row, lead.column);\n        var containsAnchor = isEmpty || this.ranges[i].contains(anchor.row, anchor.column);\n        if (containsLead && containsAnchor) return;\n      }\n      this.detach();\n    };\n    TabstopManager.prototype.onChangeSession = function () {\n      this.detach();\n    };\n    TabstopManager.prototype.tabNext = function (dir) {\n      var max = this.tabstops.length;\n      var index = this.index + (dir || 1);\n      index = Math.min(Math.max(index, 1), max);\n      if (index == max) index = 0;\n      this.selectTabstop(index);\n      this.updateTabstopMarkers();\n      if (index === 0) {\n        this.detach();\n      }\n    };\n    TabstopManager.prototype.selectTabstop = function (index) {\n      this.$openTabstops = null;\n      var ts = this.tabstops[this.index];\n      if (ts) this.addTabstopMarkers(ts);\n      this.index = index;\n      ts = this.tabstops[this.index];\n      if (!ts || !ts.length) return;\n      this.selectedTabstop = ts;\n      var range = ts.firstNonLinked || ts;\n      if (ts.choices) range.cursor = range.start;\n      if (!this.editor.inVirtualSelectionMode) {\n        var sel = this.editor.multiSelect;\n        sel.toSingleRange(range);\n        for (var i = 0; i < ts.length; i++) {\n          if (ts.hasLinkedRanges && ts[i].linked) continue;\n          sel.addRange(ts[i].clone(), true);\n        }\n      } else {\n        this.editor.selection.fromOrientedRange(range);\n      }\n      this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler);\n      if (this.selectedTabstop && this.selectedTabstop.choices) this.editor.execCommand(\"startAutocomplete\", {\n        matches: this.selectedTabstop.choices\n      });\n    };\n    TabstopManager.prototype.addTabstops = function (tabstops, start, end) {\n      var useLink = this.useLink || !this.editor.getOption(\"enableMultiselect\");\n      if (!this.$openTabstops) this.$openTabstops = [];\n      if (!tabstops[0]) {\n        var p = Range.fromPoints(end, end);\n        moveRelative(p.start, start);\n        moveRelative(p.end, start);\n        tabstops[0] = [p];\n        tabstops[0].index = 0;\n      }\n      var i = this.index;\n      var arg = [i + 1, 0];\n      var ranges = this.ranges;\n      var snippetId = this.snippetId = (this.snippetId || 0) + 1;\n      tabstops.forEach(function (ts, index) {\n        var dest = this.$openTabstops[index] || ts;\n        dest.snippetId = snippetId;\n        for (var i = 0; i < ts.length; i++) {\n          var p = ts[i];\n          var range = Range.fromPoints(p.start, p.end || p.start);\n          movePoint(range.start, start);\n          movePoint(range.end, start);\n          range.original = p;\n          range.tabstop = dest;\n          ranges.push(range);\n          if (dest != ts) dest.unshift(range);else dest[i] = range;\n          if (p.fmtString || dest.firstNonLinked && useLink) {\n            range.linked = true;\n            dest.hasLinkedRanges = true;\n          } else if (!dest.firstNonLinked) dest.firstNonLinked = range;\n        }\n        if (!dest.firstNonLinked) dest.hasLinkedRanges = false;\n        if (dest === ts) {\n          arg.push(dest);\n          this.$openTabstops[index] = dest;\n        }\n        this.addTabstopMarkers(dest);\n        dest.rangeList = dest.rangeList || new RangeList();\n        dest.rangeList.$bias = 0;\n        dest.rangeList.addList(dest);\n      }, this);\n      if (arg.length > 2) {\n        if (this.tabstops.length) arg.push(arg.splice(2, 1)[0]);\n        this.tabstops.splice.apply(this.tabstops, arg);\n      }\n    };\n    TabstopManager.prototype.addTabstopMarkers = function (ts) {\n      var session = this.session;\n      ts.forEach(function (range) {\n        if (!range.markerId) range.markerId = session.addMarker(range, \"ace_snippet-marker\", \"text\");\n      });\n    };\n    TabstopManager.prototype.removeTabstopMarkers = function (ts) {\n      var session = this.session;\n      ts.forEach(function (range) {\n        session.removeMarker(range.markerId);\n        range.markerId = null;\n      });\n    };\n    TabstopManager.prototype.updateTabstopMarkers = function () {\n      if (!this.selectedTabstop) return;\n      var currentSnippetId = this.selectedTabstop.snippetId;\n      if (this.selectedTabstop.index === 0) {\n        currentSnippetId--;\n      }\n      this.tabstops.forEach(function (ts) {\n        if (ts.snippetId === currentSnippetId) this.addTabstopMarkers(ts);else this.removeTabstopMarkers(ts);\n      }, this);\n    };\n    TabstopManager.prototype.removeRange = function (range) {\n      var i = range.tabstop.indexOf(range);\n      if (i != -1) range.tabstop.splice(i, 1);\n      i = this.ranges.indexOf(range);\n      if (i != -1) this.ranges.splice(i, 1);\n      i = range.tabstop.rangeList.ranges.indexOf(range);\n      if (i != -1) range.tabstop.splice(i, 1);\n      this.session.removeMarker(range.markerId);\n      if (!range.tabstop.length) {\n        i = this.tabstops.indexOf(range.tabstop);\n        if (i != -1) this.tabstops.splice(i, 1);\n        if (!this.tabstops.length) this.detach();\n      }\n    };\n    return TabstopManager;\n  }();\n  TabstopManager.prototype.keyboardHandler = new HashHandler();\n  TabstopManager.prototype.keyboardHandler.bindKeys({\n    \"Tab\": function (editor) {\n      if (exports.snippetManager && exports.snippetManager.expandWithTab(editor)) return;\n      editor.tabstopManager.tabNext(1);\n      editor.renderer.scrollCursorIntoView();\n    },\n    \"Shift-Tab\": function (editor) {\n      editor.tabstopManager.tabNext(-1);\n      editor.renderer.scrollCursorIntoView();\n    },\n    \"Esc\": function (editor) {\n      editor.tabstopManager.detach();\n    }\n  });\n  var movePoint = function (point, diff) {\n    if (point.row == 0) point.column += diff.column;\n    point.row += diff.row;\n  };\n  var moveRelative = function (point, start) {\n    if (point.row == start.row) point.column -= start.column;\n    point.row -= start.row;\n  };\n  dom.importCssString(\"\\n.ace_snippet-marker {\\n    -moz-box-sizing: border-box;\\n    box-sizing: border-box;\\n    background: rgba(194, 193, 208, 0.09);\\n    border: 1px dotted rgba(211, 208, 235, 0.62);\\n    position: absolute;\\n}\", \"snippets.css\", false);\n  exports.snippetManager = new SnippetManager();\n  var Editor = require(\"./editor\").Editor;\n  (function () {\n    this.insertSnippet = function (content, options) {\n      return exports.snippetManager.insertSnippet(this, content, options);\n    };\n    this.expandSnippet = function (options) {\n      return exports.snippetManager.expandWithTab(this, options);\n    };\n  }).call(Editor.prototype);\n});\nace.define(\"ace/autocomplete/inline_screenreader\", [\"require\", \"exports\", \"module\"], function (require, exports, module) {\n  \"use strict\";\n\n  var AceInlineScreenReader = /** @class */function () {\n    function AceInlineScreenReader(editor) {\n      this.editor = editor;\n      this.screenReaderDiv = document.createElement(\"div\");\n      this.screenReaderDiv.classList.add(\"ace_screenreader-only\");\n      this.editor.container.appendChild(this.screenReaderDiv);\n    }\n    AceInlineScreenReader.prototype.setScreenReaderContent = function (content) {\n      if (!this.popup && this.editor.completer && /**@type{import(\"../autocomplete\").Autocomplete}*/this.editor.completer.popup) {\n        this.popup = /**@type{import(\"../autocomplete\").Autocomplete}*/this.editor.completer.popup;\n        this.popup.renderer.on(\"afterRender\", function () {\n          var row = this.popup.getRow();\n          var t = this.popup.renderer.$textLayer;\n          var selected = t.element.childNodes[row - t.config.firstRow];\n          if (selected) {\n            var idString = \"doc-tooltip \";\n            for (var lineIndex = 0; lineIndex < this._lines.length; lineIndex++) {\n              idString += \"ace-inline-screenreader-line-\".concat(lineIndex, \" \");\n            }\n            selected.setAttribute(\"aria-describedby\", idString);\n          }\n        }.bind(this));\n      }\n      while (this.screenReaderDiv.firstChild) {\n        this.screenReaderDiv.removeChild(this.screenReaderDiv.firstChild);\n      }\n      this._lines = content.split(/\\r\\n|\\r|\\n/);\n      var codeElement = this.createCodeBlock();\n      this.screenReaderDiv.appendChild(codeElement);\n    };\n    AceInlineScreenReader.prototype.destroy = function () {\n      this.screenReaderDiv.remove();\n    };\n    AceInlineScreenReader.prototype.createCodeBlock = function () {\n      var container = document.createElement(\"pre\");\n      container.setAttribute(\"id\", \"ace-inline-screenreader\");\n      for (var lineIndex = 0; lineIndex < this._lines.length; lineIndex++) {\n        var codeElement = document.createElement(\"code\");\n        codeElement.setAttribute(\"id\", \"ace-inline-screenreader-line-\".concat(lineIndex));\n        var line = document.createTextNode(this._lines[lineIndex]);\n        codeElement.appendChild(line);\n        container.appendChild(codeElement);\n      }\n      return container;\n    };\n    return AceInlineScreenReader;\n  }();\n  exports.AceInlineScreenReader = AceInlineScreenReader;\n});\nace.define(\"ace/autocomplete/inline\", [\"require\", \"exports\", \"module\", \"ace/snippets\", \"ace/autocomplete/inline_screenreader\"], function (require, exports, module) {\n  \"use strict\";\n\n  var snippetManager = require(\"../snippets\").snippetManager;\n  var AceInlineScreenReader = require(\"./inline_screenreader\").AceInlineScreenReader;\n  var AceInline = /** @class */function () {\n    function AceInline() {\n      this.editor = null;\n    }\n    AceInline.prototype.show = function (editor, completion, prefix) {\n      prefix = prefix || \"\";\n      if (editor && this.editor && this.editor !== editor) {\n        this.hide();\n        this.editor = null;\n        this.inlineScreenReader = null;\n      }\n      if (!editor || !completion) {\n        return false;\n      }\n      if (!this.inlineScreenReader) {\n        this.inlineScreenReader = new AceInlineScreenReader(editor);\n      }\n      var displayText = completion.snippet ? snippetManager.getDisplayTextForSnippet(editor, completion.snippet) : completion.value;\n      if (completion.hideInlinePreview || !displayText || !displayText.startsWith(prefix)) {\n        return false;\n      }\n      this.editor = editor;\n      this.inlineScreenReader.setScreenReaderContent(displayText);\n      displayText = displayText.slice(prefix.length);\n      if (displayText === \"\") {\n        editor.removeGhostText();\n      } else {\n        editor.setGhostText(displayText);\n      }\n      return true;\n    };\n    AceInline.prototype.isOpen = function () {\n      if (!this.editor) {\n        return false;\n      }\n      return !!this.editor.renderer.$ghostText;\n    };\n    AceInline.prototype.hide = function () {\n      if (!this.editor) {\n        return false;\n      }\n      this.editor.removeGhostText();\n      return true;\n    };\n    AceInline.prototype.destroy = function () {\n      this.hide();\n      this.editor = null;\n      if (this.inlineScreenReader) {\n        this.inlineScreenReader.destroy();\n        this.inlineScreenReader = null;\n      }\n    };\n    return AceInline;\n  }();\n  exports.AceInline = AceInline;\n});\nace.define(\"ace/autocomplete/util\", [\"require\", \"exports\", \"module\"], function (require, exports, module) {\n  \"use strict\";\n\n  exports.parForEach = function (array, fn, callback) {\n    var completed = 0;\n    var arLength = array.length;\n    if (arLength === 0) callback();\n    for (var i = 0; i < arLength; i++) {\n      fn(array[i], function (result, err) {\n        completed++;\n        if (completed === arLength) callback(result, err);\n      });\n    }\n  };\n  var ID_REGEX = /[a-zA-Z_0-9\\$\\-\\u00A2-\\u2000\\u2070-\\uFFFF]/;\n  exports.retrievePrecedingIdentifier = function (text, pos, regex) {\n    regex = regex || ID_REGEX;\n    var buf = [];\n    for (var i = pos - 1; i >= 0; i--) {\n      if (regex.test(text[i])) buf.push(text[i]);else break;\n    }\n    return buf.reverse().join(\"\");\n  };\n  exports.retrieveFollowingIdentifier = function (text, pos, regex) {\n    regex = regex || ID_REGEX;\n    var buf = [];\n    for (var i = pos; i < text.length; i++) {\n      if (regex.test(text[i])) buf.push(text[i]);else break;\n    }\n    return buf;\n  };\n  exports.getCompletionPrefix = function (editor) {\n    var pos = editor.getCursorPosition();\n    var line = editor.session.getLine(pos.row);\n    var prefix;\n    editor.completers.forEach(function (completer) {\n      if (completer.identifierRegexps) {\n        completer.identifierRegexps.forEach(function (identifierRegex) {\n          if (!prefix && identifierRegex) prefix = this.retrievePrecedingIdentifier(line, pos.column, identifierRegex);\n        }.bind(this));\n      }\n    }.bind(this));\n    return prefix || this.retrievePrecedingIdentifier(line, pos.column);\n  };\n  exports.triggerAutocomplete = function (editor, previousChar) {\n    var previousChar = previousChar == null ? editor.session.getPrecedingCharacter() : previousChar;\n    return editor.completers.some(function (completer) {\n      if (completer.triggerCharacters && Array.isArray(completer.triggerCharacters)) {\n        return completer.triggerCharacters.includes(previousChar);\n      }\n    });\n  };\n});\nace.define(\"ace/autocomplete\", [\"require\", \"exports\", \"module\", \"ace/keyboard/hash_handler\", \"ace/autocomplete/popup\", \"ace/autocomplete/inline\", \"ace/autocomplete/popup\", \"ace/autocomplete/util\", \"ace/lib/lang\", \"ace/lib/dom\", \"ace/snippets\", \"ace/config\", \"ace/lib/event\", \"ace/lib/scroll\"], function (require, exports, module) {\n  \"use strict\";\n\n  var HashHandler = require(\"./keyboard/hash_handler\").HashHandler;\n  var AcePopup = require(\"./autocomplete/popup\").AcePopup;\n  var AceInline = require(\"./autocomplete/inline\").AceInline;\n  var getAriaId = require(\"./autocomplete/popup\").getAriaId;\n  var util = require(\"./autocomplete/util\");\n  var lang = require(\"./lib/lang\");\n  var dom = require(\"./lib/dom\");\n  var snippetManager = require(\"./snippets\").snippetManager;\n  var config = require(\"./config\");\n  var event = require(\"./lib/event\");\n  var preventParentScroll = require(\"./lib/scroll\").preventParentScroll;\n  var destroyCompleter = function (e, editor) {\n    editor.completer && editor.completer.destroy();\n  };\n  var Autocomplete = /** @class */function () {\n    function Autocomplete() {\n      this.autoInsert = false;\n      this.autoSelect = true;\n      this.autoShown = false;\n      this.exactMatch = false;\n      this.inlineEnabled = false;\n      this.keyboardHandler = new HashHandler();\n      this.keyboardHandler.bindKeys(this.commands);\n      this.parentNode = null;\n      this.setSelectOnHover = false;\n      this.hasSeen = new Set();\n      this.showLoadingState = false;\n      this.stickySelectionDelay = 500;\n      this.blurListener = this.blurListener.bind(this);\n      this.changeListener = this.changeListener.bind(this);\n      this.mousedownListener = this.mousedownListener.bind(this);\n      this.mousewheelListener = this.mousewheelListener.bind(this);\n      this.onLayoutChange = this.onLayoutChange.bind(this);\n      this.changeTimer = lang.delayedCall(function () {\n        this.updateCompletions(true);\n      }.bind(this));\n      this.tooltipTimer = lang.delayedCall(this.updateDocTooltip.bind(this), 50);\n      this.popupTimer = lang.delayedCall(this.$updatePopupPosition.bind(this), 50);\n      this.stickySelectionTimer = lang.delayedCall(function () {\n        this.stickySelection = true;\n      }.bind(this), this.stickySelectionDelay);\n      this.$firstOpenTimer = lang.delayedCall(/**@this{Autocomplete}*/function () {\n        var initialPosition = this.completionProvider && this.completionProvider.initialPosition;\n        if (this.autoShown || this.popup && this.popup.isOpen || !initialPosition || this.editor.completers.length === 0) return;\n        this.completions = new FilteredList(Autocomplete.completionsForLoading);\n        this.openPopup(this.editor, initialPosition.prefix, false);\n        this.popup.renderer.setStyle(\"ace_loading\", true);\n      }.bind(this), this.stickySelectionDelay);\n    }\n    Object.defineProperty(Autocomplete, \"completionsForLoading\", {\n      get: function () {\n        return [{\n          caption: config.nls(\"autocomplete.loading\", \"Loading...\"),\n          value: \"\"\n        }];\n      },\n      enumerable: false,\n      configurable: true\n    });\n    Autocomplete.prototype.$init = function () {\n      this.popup = new AcePopup(this.parentNode || document.body || document.documentElement);\n      this.popup.on(\"click\", function (e) {\n        this.insertMatch();\n        e.stop();\n      }.bind(this));\n      this.popup.focus = this.editor.focus.bind(this.editor);\n      this.popup.on(\"show\", this.$onPopupShow.bind(this));\n      this.popup.on(\"hide\", this.$onHidePopup.bind(this));\n      this.popup.on(\"select\", this.$onPopupChange.bind(this));\n      event.addListener(this.popup.container, \"mouseout\", this.mouseOutListener.bind(this));\n      this.popup.on(\"changeHoverMarker\", this.tooltipTimer.bind(null, null));\n      this.popup.renderer.on(\"afterRender\", this.$onPopupRender.bind(this));\n      return this.popup;\n    };\n    Autocomplete.prototype.$initInline = function () {\n      if (!this.inlineEnabled || this.inlineRenderer) return;\n      this.inlineRenderer = new AceInline();\n      return this.inlineRenderer;\n    };\n    Autocomplete.prototype.getPopup = function () {\n      return this.popup || this.$init();\n    };\n    Autocomplete.prototype.$onHidePopup = function () {\n      if (this.inlineRenderer) {\n        this.inlineRenderer.hide();\n      }\n      this.hideDocTooltip();\n      this.stickySelectionTimer.cancel();\n      this.popupTimer.cancel();\n      this.stickySelection = false;\n    };\n    Autocomplete.prototype.$seen = function (completion) {\n      if (!this.hasSeen.has(completion) && completion && completion.completer && completion.completer.onSeen && typeof completion.completer.onSeen === \"function\") {\n        completion.completer.onSeen(this.editor, completion);\n        this.hasSeen.add(completion);\n      }\n    };\n    Autocomplete.prototype.$onPopupChange = function (hide) {\n      if (this.inlineRenderer && this.inlineEnabled) {\n        var completion = hide ? null : this.popup.getData(this.popup.getRow());\n        this.$updateGhostText(completion);\n        if (this.popup.isMouseOver && this.setSelectOnHover) {\n          this.tooltipTimer.call(null, null);\n          return;\n        }\n        this.popupTimer.schedule();\n        this.tooltipTimer.schedule();\n      } else {\n        this.popupTimer.call(null, null);\n        this.tooltipTimer.call(null, null);\n      }\n    };\n    Autocomplete.prototype.$updateGhostText = function (completion) {\n      var row = this.base.row;\n      var column = this.base.column;\n      var cursorColumn = this.editor.getCursorPosition().column;\n      var prefix = this.editor.session.getLine(row).slice(column, cursorColumn);\n      if (!this.inlineRenderer.show(this.editor, completion, prefix)) {\n        this.inlineRenderer.hide();\n      } else {\n        this.$seen(completion);\n      }\n    };\n    Autocomplete.prototype.$onPopupRender = function () {\n      var inlineEnabled = this.inlineRenderer && this.inlineEnabled;\n      if (this.completions && this.completions.filtered && this.completions.filtered.length > 0) {\n        for (var i = this.popup.getFirstVisibleRow(); i <= this.popup.getLastVisibleRow(); i++) {\n          var completion = this.popup.getData(i);\n          if (completion && (!inlineEnabled || completion.hideInlinePreview)) {\n            this.$seen(completion);\n          }\n        }\n      }\n    };\n    Autocomplete.prototype.$onPopupShow = function (hide) {\n      this.$onPopupChange(hide);\n      this.stickySelection = false;\n      if (this.stickySelectionDelay >= 0) this.stickySelectionTimer.schedule(this.stickySelectionDelay);\n    };\n    Autocomplete.prototype.observeLayoutChanges = function () {\n      if (this.$elements || !this.editor) return;\n      window.addEventListener(\"resize\", this.onLayoutChange, {\n        passive: true\n      });\n      window.addEventListener(\"wheel\", this.mousewheelListener);\n      var el = this.editor.container.parentNode;\n      var elements = [];\n      while (el) {\n        elements.push(el);\n        el.addEventListener(\"scroll\", this.onLayoutChange, {\n          passive: true\n        });\n        el = el.parentNode;\n      }\n      this.$elements = elements;\n    };\n    Autocomplete.prototype.unObserveLayoutChanges = function () {\n      var _this = this;\n      window.removeEventListener(\"resize\", this.onLayoutChange, {\n        passive: true\n      });\n      window.removeEventListener(\"wheel\", this.mousewheelListener);\n      this.$elements && this.$elements.forEach(function (el) {\n        el.removeEventListener(\"scroll\", _this.onLayoutChange, {\n          passive: true\n        });\n      });\n      this.$elements = null;\n    };\n    Autocomplete.prototype.onLayoutChange = function () {\n      if (!this.popup.isOpen) return this.unObserveLayoutChanges();\n      this.$updatePopupPosition();\n      this.updateDocTooltip();\n    };\n    Autocomplete.prototype.$updatePopupPosition = function () {\n      var editor = this.editor;\n      var renderer = editor.renderer;\n      var lineHeight = renderer.layerConfig.lineHeight;\n      var pos = renderer.$cursorLayer.getPixelPosition(this.base, true);\n      pos.left -= this.popup.getTextLeftOffset();\n      var rect = editor.container.getBoundingClientRect();\n      pos.top += rect.top - renderer.layerConfig.offset;\n      pos.left += rect.left - editor.renderer.scrollLeft;\n      pos.left += renderer.gutterWidth;\n      var posGhostText = {\n        top: pos.top,\n        left: pos.left\n      };\n      if (renderer.$ghostText && renderer.$ghostTextWidget) {\n        if (this.base.row === renderer.$ghostText.position.row) {\n          posGhostText.top += renderer.$ghostTextWidget.el.offsetHeight;\n        }\n      }\n      var editorContainerBottom = editor.container.getBoundingClientRect().bottom - lineHeight;\n      var lowestPosition = editorContainerBottom < posGhostText.top ? {\n        top: editorContainerBottom,\n        left: posGhostText.left\n      } : posGhostText;\n      if (this.popup.tryShow(lowestPosition, lineHeight, \"bottom\")) {\n        return;\n      }\n      if (this.popup.tryShow(pos, lineHeight, \"top\")) {\n        return;\n      }\n      this.popup.show(pos, lineHeight);\n    };\n    Autocomplete.prototype.openPopup = function (editor, prefix, keepPopupPosition) {\n      this.$firstOpenTimer.cancel();\n      if (!this.popup) this.$init();\n      if (this.inlineEnabled && !this.inlineRenderer) this.$initInline();\n      this.popup.autoSelect = this.autoSelect;\n      this.popup.setSelectOnHover(this.setSelectOnHover);\n      var oldRow = this.popup.getRow();\n      var previousSelectedItem = this.popup.data[oldRow];\n      this.popup.setData(this.completions.filtered, this.completions.filterText);\n      if (this.editor.textInput.setAriaOptions) {\n        this.editor.textInput.setAriaOptions({\n          activeDescendant: getAriaId(this.popup.getRow()),\n          inline: this.inlineEnabled\n        });\n      }\n      editor.keyBinding.addKeyboardHandler(this.keyboardHandler);\n      var newRow;\n      if (this.stickySelection) newRow = this.popup.data.indexOf(previousSelectedItem);\n      if (!newRow || newRow === -1) newRow = 0;\n      this.popup.setRow(this.autoSelect ? newRow : -1);\n      if (newRow === oldRow && previousSelectedItem !== this.completions.filtered[newRow]) this.$onPopupChange();\n      var inlineEnabled = this.inlineRenderer && this.inlineEnabled;\n      if (newRow === oldRow && inlineEnabled) {\n        var completion = this.popup.getData(this.popup.getRow());\n        this.$updateGhostText(completion);\n      }\n      if (!keepPopupPosition) {\n        this.popup.setTheme(editor.getTheme());\n        this.popup.setFontSize(editor.getFontSize());\n        this.$updatePopupPosition();\n        if (this.tooltipNode) {\n          this.updateDocTooltip();\n        }\n      }\n      this.changeTimer.cancel();\n      this.observeLayoutChanges();\n    };\n    Autocomplete.prototype.detach = function () {\n      if (this.editor) {\n        this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler);\n        this.editor.off(\"changeSelection\", this.changeListener);\n        this.editor.off(\"blur\", this.blurListener);\n        this.editor.off(\"mousedown\", this.mousedownListener);\n        this.editor.off(\"mousewheel\", this.mousewheelListener);\n      }\n      this.$firstOpenTimer.cancel();\n      this.changeTimer.cancel();\n      this.hideDocTooltip();\n      if (this.completionProvider) {\n        this.completionProvider.detach();\n      }\n      if (this.popup && this.popup.isOpen) this.popup.hide();\n      if (this.popup && this.popup.renderer) {\n        this.popup.renderer.off(\"afterRender\", this.$onPopupRender);\n      }\n      if (this.base) this.base.detach();\n      this.activated = false;\n      this.completionProvider = this.completions = this.base = null;\n      this.unObserveLayoutChanges();\n    };\n    Autocomplete.prototype.changeListener = function (e) {\n      var cursor = this.editor.selection.lead;\n      if (cursor.row != this.base.row || cursor.column < this.base.column) {\n        this.detach();\n      }\n      if (this.activated) this.changeTimer.schedule();else this.detach();\n    };\n    Autocomplete.prototype.blurListener = function (e) {\n      var el = document.activeElement;\n      var text = this.editor.textInput.getElement();\n      var fromTooltip = e.relatedTarget && this.tooltipNode && this.tooltipNode.contains(e.relatedTarget);\n      var container = this.popup && this.popup.container;\n      if (el != text && el.parentNode != container && !fromTooltip && el != this.tooltipNode && e.relatedTarget != text) {\n        this.detach();\n      }\n    };\n    Autocomplete.prototype.mousedownListener = function (e) {\n      this.detach();\n    };\n    Autocomplete.prototype.mousewheelListener = function (e) {\n      if (this.popup && !this.popup.isMouseOver) this.detach();\n    };\n    Autocomplete.prototype.mouseOutListener = function (e) {\n      if (this.popup.isOpen) this.$updatePopupPosition();\n    };\n    Autocomplete.prototype.goTo = function (where) {\n      this.popup.goTo(where);\n    };\n    Autocomplete.prototype.insertMatch = function (data, options) {\n      if (!data) data = this.popup.getData(this.popup.getRow());\n      if (!data) return false;\n      if (data.value === \"\")\n        // Explicitly given nothing to insert, e.g. \"No suggestion state\"\n        return this.detach();\n      var completions = this.completions;\n      var result = this.getCompletionProvider().insertMatch(this.editor, data, completions.filterText, options);\n      if (this.completions == completions) this.detach();\n      return result;\n    };\n    Autocomplete.prototype.showPopup = function (editor, options) {\n      if (this.editor) this.detach();\n      this.activated = true;\n      this.editor = editor;\n      if (editor.completer != this) {\n        if (editor.completer) editor.completer.detach();\n        editor.completer = this;\n      }\n      editor.on(\"changeSelection\", this.changeListener);\n      editor.on(\"blur\", this.blurListener);\n      editor.on(\"mousedown\", this.mousedownListener);\n      editor.on(\"mousewheel\", this.mousewheelListener);\n      this.updateCompletions(false, options);\n    };\n    Autocomplete.prototype.getCompletionProvider = function (initialPosition) {\n      if (!this.completionProvider) this.completionProvider = new CompletionProvider(initialPosition);\n      return this.completionProvider;\n    };\n    Autocomplete.prototype.gatherCompletions = function (editor, callback) {\n      return this.getCompletionProvider().gatherCompletions(editor, callback);\n    };\n    Autocomplete.prototype.updateCompletions = function (keepPopupPosition, options) {\n      if (keepPopupPosition && this.base && this.completions) {\n        var pos = this.editor.getCursorPosition();\n        var prefix = this.editor.session.getTextRange({\n          start: this.base,\n          end: pos\n        });\n        if (prefix == this.completions.filterText) return;\n        this.completions.setFilter(prefix);\n        if (!this.completions.filtered.length) return this.detach();\n        if (this.completions.filtered.length == 1 && this.completions.filtered[0].value == prefix && !this.completions.filtered[0].snippet) return this.detach();\n        this.openPopup(this.editor, prefix, keepPopupPosition);\n        return;\n      }\n      if (options && options.matches) {\n        var pos = this.editor.getSelectionRange().start;\n        this.base = this.editor.session.doc.createAnchor(pos.row, pos.column);\n        this.base.$insertRight = true;\n        this.completions = new FilteredList(options.matches);\n        this.getCompletionProvider().completions = this.completions;\n        return this.openPopup(this.editor, \"\", keepPopupPosition);\n      }\n      var session = this.editor.getSession();\n      var pos = this.editor.getCursorPosition();\n      var prefix = util.getCompletionPrefix(this.editor);\n      this.base = session.doc.createAnchor(pos.row, pos.column - prefix.length);\n      this.base.$insertRight = true;\n      var completionOptions = {\n        exactMatch: this.exactMatch,\n        ignoreCaption: this.ignoreCaption\n      };\n      this.getCompletionProvider({\n        prefix: prefix,\n        pos: pos\n      }).provideCompletions(this.editor, completionOptions, function (err, completions, finished) {\n        var filtered = completions.filtered;\n        var prefix = util.getCompletionPrefix(this.editor);\n        this.$firstOpenTimer.cancel();\n        if (finished) {\n          if (!filtered.length) {\n            var emptyMessage = !this.autoShown && this.emptyMessage;\n            if (typeof emptyMessage == \"function\") emptyMessage = this.emptyMessage(prefix);\n            if (emptyMessage) {\n              var completionsForEmpty = [{\n                caption: emptyMessage,\n                value: \"\"\n              }];\n              this.completions = new FilteredList(completionsForEmpty);\n              this.openPopup(this.editor, prefix, keepPopupPosition);\n              this.popup.renderer.setStyle(\"ace_loading\", false);\n              this.popup.renderer.setStyle(\"ace_empty-message\", true);\n              return;\n            }\n            return this.detach();\n          }\n          if (filtered.length == 1 && filtered[0].value == prefix && !filtered[0].snippet) return this.detach();\n          if (this.autoInsert && !this.autoShown && filtered.length == 1) return this.insertMatch(filtered[0]);\n        }\n        this.completions = !finished && this.showLoadingState ? new FilteredList(Autocomplete.completionsForLoading.concat(filtered), completions.filterText) : completions;\n        this.openPopup(this.editor, prefix, keepPopupPosition);\n        this.popup.renderer.setStyle(\"ace_empty-message\", false);\n        this.popup.renderer.setStyle(\"ace_loading\", !finished);\n      }.bind(this));\n      if (this.showLoadingState && !this.autoShown && !(this.popup && this.popup.isOpen)) {\n        this.$firstOpenTimer.delay(this.stickySelectionDelay / 2);\n      }\n    };\n    Autocomplete.prototype.cancelContextMenu = function () {\n      this.editor.$mouseHandler.cancelContextMenu();\n    };\n    Autocomplete.prototype.updateDocTooltip = function () {\n      var popup = this.popup;\n      var all = this.completions && this.completions.filtered;\n      var selected = all && (all[popup.getHoveredRow()] || all[popup.getRow()]);\n      var doc = null;\n      if (!selected || !this.editor || !this.popup.isOpen) return this.hideDocTooltip();\n      var completersLength = this.editor.completers.length;\n      for (var i = 0; i < completersLength; i++) {\n        var completer = this.editor.completers[i];\n        if (completer.getDocTooltip && selected.completerId === completer.id) {\n          doc = completer.getDocTooltip(selected);\n          break;\n        }\n      }\n      if (!doc && typeof selected != \"string\") doc = selected;\n      if (typeof doc == \"string\") doc = {\n        docText: doc\n      };\n      if (!doc || !(doc.docHTML || doc.docText)) return this.hideDocTooltip();\n      this.showDocTooltip(doc);\n    };\n    Autocomplete.prototype.showDocTooltip = function (item) {\n      if (!this.tooltipNode) {\n        this.tooltipNode = dom.createElement(\"div\");\n        this.tooltipNode.style.margin = \"0\";\n        this.tooltipNode.style.pointerEvents = \"auto\";\n        this.tooltipNode.style.overscrollBehavior = \"contain\";\n        this.tooltipNode.tabIndex = -1;\n        this.tooltipNode.onblur = this.blurListener.bind(this);\n        this.tooltipNode.onclick = this.onTooltipClick.bind(this);\n        this.tooltipNode.id = \"doc-tooltip\";\n        this.tooltipNode.setAttribute(\"role\", \"tooltip\");\n        this.tooltipNode.addEventListener(\"wheel\", preventParentScroll);\n      }\n      var theme = this.editor.renderer.theme;\n      this.tooltipNode.className = \"ace_tooltip ace_doc-tooltip \" + (theme.isDark ? \"ace_dark \" : \"\") + (theme.cssClass || \"\");\n      var tooltipNode = this.tooltipNode;\n      if (item.docHTML) {\n        tooltipNode.innerHTML = item.docHTML;\n      } else if (item.docText) {\n        tooltipNode.textContent = item.docText;\n      }\n      if (!tooltipNode.parentNode) this.popup.container.appendChild(this.tooltipNode);\n      var popup = this.popup;\n      var rect = popup.container.getBoundingClientRect();\n      var targetWidth = 400;\n      var targetHeight = 300;\n      var scrollBarSize = popup.renderer.scrollBar.width || 10;\n      var leftSize = rect.left;\n      var rightSize = window.innerWidth - rect.right - scrollBarSize;\n      var topSize = popup.isTopdown ? rect.top : window.innerHeight - scrollBarSize - rect.bottom;\n      var scores = [Math.min(rightSize / targetWidth, 1), Math.min(leftSize / targetWidth, 1), Math.min(topSize / targetHeight * 0.9)];\n      var max = Math.max.apply(Math, scores);\n      var tooltipStyle = tooltipNode.style;\n      tooltipStyle.display = \"block\";\n      if (max == scores[0]) {\n        tooltipStyle.left = rect.right + 1 + \"px\";\n        tooltipStyle.right = \"\";\n        tooltipStyle.maxWidth = targetWidth * max + \"px\";\n        tooltipStyle.top = rect.top + \"px\";\n        tooltipStyle.bottom = \"\";\n        tooltipStyle.maxHeight = Math.min(window.innerHeight - scrollBarSize - rect.top, targetHeight) + \"px\";\n      } else if (max == scores[1]) {\n        tooltipStyle.right = window.innerWidth - rect.left + \"px\";\n        tooltipStyle.left = \"\";\n        tooltipStyle.maxWidth = targetWidth * max + \"px\";\n        tooltipStyle.top = rect.top + \"px\";\n        tooltipStyle.bottom = \"\";\n        tooltipStyle.maxHeight = Math.min(window.innerHeight - scrollBarSize - rect.top, targetHeight) + \"px\";\n      } else if (max == scores[2]) {\n        tooltipStyle.left = window.innerWidth - rect.left + \"px\";\n        tooltipStyle.maxWidth = Math.min(targetWidth, window.innerWidth) + \"px\";\n        if (popup.isTopdown) {\n          tooltipStyle.top = rect.bottom + \"px\";\n          tooltipStyle.left = rect.left + \"px\";\n          tooltipStyle.right = \"\";\n          tooltipStyle.bottom = \"\";\n          tooltipStyle.maxHeight = Math.min(window.innerHeight - scrollBarSize - rect.bottom, targetHeight) + \"px\";\n        } else {\n          tooltipStyle.top = popup.container.offsetTop - tooltipNode.offsetHeight + \"px\";\n          tooltipStyle.left = rect.left + \"px\";\n          tooltipStyle.right = \"\";\n          tooltipStyle.bottom = \"\";\n          tooltipStyle.maxHeight = Math.min(popup.container.offsetTop, targetHeight) + \"px\";\n        }\n      }\n    };\n    Autocomplete.prototype.hideDocTooltip = function () {\n      this.tooltipTimer.cancel();\n      if (!this.tooltipNode) return;\n      var el = this.tooltipNode;\n      if (!this.editor.isFocused() && document.activeElement == el) this.editor.focus();\n      this.tooltipNode = null;\n      if (el.parentNode) el.parentNode.removeChild(el);\n    };\n    Autocomplete.prototype.onTooltipClick = function (e) {\n      var a = e.target;\n      while (a && a != this.tooltipNode) {\n        if (a.nodeName == \"A\" && a.href) {\n          a.rel = \"noreferrer\";\n          a.target = \"_blank\";\n          break;\n        }\n        a = a.parentNode;\n      }\n    };\n    Autocomplete.prototype.destroy = function () {\n      this.detach();\n      if (this.popup) {\n        this.popup.destroy();\n        var el = this.popup.container;\n        if (el && el.parentNode) el.parentNode.removeChild(el);\n      }\n      if (this.editor && this.editor.completer == this) {\n        this.editor.off(\"destroy\", destroyCompleter);\n        this.editor.completer = null;\n      }\n      this.inlineRenderer = this.popup = this.editor = null;\n    };\n    Autocomplete.for = function (editor) {\n      if (editor.completer instanceof Autocomplete) {\n        return editor.completer;\n      }\n      if (editor.completer) {\n        editor.completer.destroy();\n        editor.completer = null;\n      }\n      if (config.get(\"sharedPopups\")) {\n        if (!Autocomplete[\"$sharedInstance\"]) Autocomplete[\"$sharedInstance\"] = new Autocomplete();\n        editor.completer = Autocomplete[\"$sharedInstance\"];\n      } else {\n        editor.completer = new Autocomplete();\n        editor.once(\"destroy\", destroyCompleter);\n      }\n      return editor.completer;\n    };\n    return Autocomplete;\n  }();\n  Autocomplete.prototype.commands = {\n    \"Up\": function (editor) {\n      editor.completer.goTo(\"up\");\n    },\n    \"Down\": function (editor) {\n      editor.completer.goTo(\"down\");\n    },\n    \"Ctrl-Up|Ctrl-Home\": function (editor) {\n      editor.completer.goTo(\"start\");\n    },\n    \"Ctrl-Down|Ctrl-End\": function (editor) {\n      editor.completer.goTo(\"end\");\n    },\n    \"Esc\": function (editor) {\n      editor.completer.detach();\n    },\n    \"Return\": function (editor) {\n      return editor.completer.insertMatch();\n    },\n    \"Shift-Return\": function (editor) {\n      editor.completer.insertMatch(null, {\n        deleteSuffix: true\n      });\n    },\n    \"Tab\": function (editor) {\n      var result = editor.completer.insertMatch();\n      if (!result && !editor.tabstopManager) editor.completer.goTo(\"down\");else return result;\n    },\n    \"Backspace\": function (editor) {\n      editor.execCommand(\"backspace\");\n      var prefix = util.getCompletionPrefix(editor);\n      if (!prefix && editor.completer) editor.completer.detach();\n    },\n    \"PageUp\": function (editor) {\n      editor.completer.popup.gotoPageUp();\n    },\n    \"PageDown\": function (editor) {\n      editor.completer.popup.gotoPageDown();\n    }\n  };\n  Autocomplete.startCommand = {\n    name: \"startAutocomplete\",\n    exec: function (editor, options) {\n      var completer = Autocomplete.for(editor);\n      completer.autoInsert = false;\n      completer.autoSelect = true;\n      completer.autoShown = false;\n      completer.showPopup(editor, options);\n      completer.cancelContextMenu();\n    },\n    bindKey: \"Ctrl-Space|Ctrl-Shift-Space|Alt-Space\"\n  };\n  var CompletionProvider = /** @class */function () {\n    function CompletionProvider(initialPosition) {\n      this.initialPosition = initialPosition;\n      this.active = true;\n    }\n    CompletionProvider.prototype.insertByIndex = function (editor, index, options) {\n      if (!this.completions || !this.completions.filtered) {\n        return false;\n      }\n      return this.insertMatch(editor, this.completions.filtered[index], options);\n    };\n    CompletionProvider.prototype.insertMatch = function (editor, data, options) {\n      if (!data) return false;\n      editor.startOperation({\n        command: {\n          name: \"insertMatch\"\n        }\n      });\n      if (data.completer && data.completer.insertMatch) {\n        data.completer.insertMatch(editor, data);\n      } else {\n        if (!this.completions) return false;\n        var replaceBefore = this.completions.filterText.length;\n        var replaceAfter = 0;\n        if (data.range && data.range.start.row === data.range.end.row) {\n          replaceBefore -= this.initialPosition.prefix.length;\n          replaceBefore += this.initialPosition.pos.column - data.range.start.column;\n          replaceAfter += data.range.end.column - this.initialPosition.pos.column;\n        }\n        if (replaceBefore || replaceAfter) {\n          var ranges;\n          if (editor.selection.getAllRanges) {\n            ranges = editor.selection.getAllRanges();\n          } else {\n            ranges = [editor.getSelectionRange()];\n          }\n          for (var i = 0, range; range = ranges[i]; i++) {\n            range.start.column -= replaceBefore;\n            range.end.column += replaceAfter;\n            editor.session.remove(range);\n          }\n        }\n        if (data.snippet) {\n          snippetManager.insertSnippet(editor, data.snippet);\n        } else {\n          this.$insertString(editor, data);\n        }\n        if (data.completer && data.completer.onInsert && typeof data.completer.onInsert == \"function\") {\n          data.completer.onInsert(editor, data);\n        }\n        if (data.command && data.command === \"startAutocomplete\") {\n          editor.execCommand(data.command);\n        }\n      }\n      editor.endOperation();\n      return true;\n    };\n    CompletionProvider.prototype.$insertString = function (editor, data) {\n      var text = data.value || data;\n      editor.execCommand(\"insertstring\", text);\n    };\n    CompletionProvider.prototype.gatherCompletions = function (editor, callback) {\n      var session = editor.getSession();\n      var pos = editor.getCursorPosition();\n      var prefix = util.getCompletionPrefix(editor);\n      var matches = [];\n      this.completers = editor.completers;\n      var total = editor.completers.length;\n      editor.completers.forEach(function (completer, i) {\n        completer.getCompletions(editor, session, pos, prefix, function (err, results) {\n          if (completer.hideInlinePreview) results = results.map(function (result) {\n            return Object.assign(result, {\n              hideInlinePreview: completer.hideInlinePreview\n            });\n          });\n          if (!err && results) matches = matches.concat(results);\n          callback(null, {\n            prefix: util.getCompletionPrefix(editor),\n            matches: matches,\n            finished: --total === 0\n          });\n        });\n      });\n      return true;\n    };\n    CompletionProvider.prototype.provideCompletions = function (editor, options, callback) {\n      var processResults = function (results) {\n        var prefix = results.prefix;\n        var matches = results.matches;\n        this.completions = new FilteredList(matches);\n        if (options.exactMatch) this.completions.exactMatch = true;\n        if (options.ignoreCaption) this.completions.ignoreCaption = true;\n        this.completions.setFilter(prefix);\n        if (results.finished || this.completions.filtered.length) callback(null, this.completions, results.finished);\n      }.bind(this);\n      var isImmediate = true;\n      var immediateResults = null;\n      this.gatherCompletions(editor, function (err, results) {\n        if (!this.active) {\n          return;\n        }\n        if (err) {\n          callback(err, [], true);\n          this.detach();\n        }\n        var prefix = results.prefix;\n        if (prefix.indexOf(results.prefix) !== 0) return;\n        if (isImmediate) {\n          immediateResults = results;\n          return;\n        }\n        processResults(results);\n      }.bind(this));\n      isImmediate = false;\n      if (immediateResults) {\n        var results = immediateResults;\n        immediateResults = null;\n        processResults(results);\n      }\n    };\n    CompletionProvider.prototype.detach = function () {\n      this.active = false;\n      this.completers && this.completers.forEach(function (completer) {\n        if (typeof completer.cancel === \"function\") {\n          completer.cancel();\n        }\n      });\n    };\n    return CompletionProvider;\n  }();\n  var FilteredList = /** @class */function () {\n    function FilteredList(array, filterText) {\n      this.all = array;\n      this.filtered = array;\n      this.filterText = filterText || \"\";\n      this.exactMatch = false;\n      this.ignoreCaption = false;\n    }\n    FilteredList.prototype.setFilter = function (str) {\n      if (str.length > this.filterText && str.lastIndexOf(this.filterText, 0) === 0) var matches = this.filtered;else var matches = this.all;\n      this.filterText = str;\n      matches = this.filterCompletions(matches, this.filterText);\n      matches = matches.sort(function (a, b) {\n        return b.exactMatch - a.exactMatch || b.$score - a.$score || (a.caption || a.value).localeCompare(b.caption || b.value);\n      });\n      var prev = null;\n      matches = matches.filter(function (item) {\n        var caption = item.snippet || item.caption || item.value;\n        if (caption === prev) return false;\n        prev = caption;\n        return true;\n      });\n      this.filtered = matches;\n    };\n    FilteredList.prototype.filterCompletions = function (items, needle) {\n      var results = [];\n      var upper = needle.toUpperCase();\n      var lower = needle.toLowerCase();\n      loop: for (var i = 0, item; item = items[i]; i++) {\n        if (item.skipFilter) {\n          item.$score = item.score;\n          results.push(item);\n          continue;\n        }\n        var caption = !this.ignoreCaption && item.caption || item.value || item.snippet;\n        if (!caption) continue;\n        var lastIndex = -1;\n        var matchMask = 0;\n        var penalty = 0;\n        var index, distance;\n        if (this.exactMatch) {\n          if (needle !== caption.substr(0, needle.length)) continue loop;\n        } else {\n          var fullMatchIndex = caption.toLowerCase().indexOf(lower);\n          if (fullMatchIndex > -1) {\n            penalty = fullMatchIndex;\n          } else {\n            for (var j = 0; j < needle.length; j++) {\n              var i1 = caption.indexOf(lower[j], lastIndex + 1);\n              var i2 = caption.indexOf(upper[j], lastIndex + 1);\n              index = i1 >= 0 ? i2 < 0 || i1 < i2 ? i1 : i2 : i2;\n              if (index < 0) continue loop;\n              distance = index - lastIndex - 1;\n              if (distance > 0) {\n                if (lastIndex === -1) penalty += 10;\n                penalty += distance;\n                matchMask = matchMask | 1 << j;\n              }\n              lastIndex = index;\n            }\n          }\n        }\n        item.matchMask = matchMask;\n        item.exactMatch = penalty ? 0 : 1;\n        item.$score = (item.score || 0) - penalty;\n        results.push(item);\n      }\n      return results;\n    };\n    return FilteredList;\n  }();\n  exports.Autocomplete = Autocomplete;\n  exports.CompletionProvider = CompletionProvider;\n  exports.FilteredList = FilteredList;\n});\nace.define(\"ace/ext/menu_tools/settings_menu.css\", [\"require\", \"exports\", \"module\"], function (require, exports, module) {\n  module.exports = \"#ace_settingsmenu, #kbshortcutmenu {\\n    background-color: #F7F7F7;\\n    color: black;\\n    box-shadow: -5px 4px 5px rgba(126, 126, 126, 0.55);\\n    padding: 1em 0.5em 2em 1em;\\n    overflow: auto;\\n    position: absolute;\\n    margin: 0;\\n    bottom: 0;\\n    right: 0;\\n    top: 0;\\n    z-index: 9991;\\n    cursor: default;\\n}\\n\\n.ace_dark #ace_settingsmenu, .ace_dark #kbshortcutmenu {\\n    box-shadow: -20px 10px 25px rgba(126, 126, 126, 0.25);\\n    background-color: rgba(255, 255, 255, 0.6);\\n    color: black;\\n}\\n\\n.ace_optionsMenuEntry:hover {\\n    background-color: rgba(100, 100, 100, 0.1);\\n    transition: all 0.3s\\n}\\n\\n.ace_closeButton {\\n    background: rgba(245, 146, 146, 0.5);\\n    border: 1px solid #F48A8A;\\n    border-radius: 50%;\\n    padding: 7px;\\n    position: absolute;\\n    right: -8px;\\n    top: -8px;\\n    z-index: 100000;\\n}\\n.ace_closeButton{\\n    background: rgba(245, 146, 146, 0.9);\\n}\\n.ace_optionsMenuKey {\\n    color: darkslateblue;\\n    font-weight: bold;\\n}\\n.ace_optionsMenuCommand {\\n    color: darkcyan;\\n    font-weight: normal;\\n}\\n.ace_optionsMenuEntry input, .ace_optionsMenuEntry button {\\n    vertical-align: middle;\\n}\\n\\n.ace_optionsMenuEntry button[ace_selected_button=true] {\\n    background: #e7e7e7;\\n    box-shadow: 1px 0px 2px 0px #adadad inset;\\n    border-color: #adadad;\\n}\\n.ace_optionsMenuEntry button {\\n    background: white;\\n    border: 1px solid lightgray;\\n    margin: 0px;\\n}\\n.ace_optionsMenuEntry button:hover{\\n    background: #f0f0f0;\\n}\";\n});\nace.define(\"ace/ext/menu_tools/overlay_page\", [\"require\", \"exports\", \"module\", \"ace/ext/menu_tools/overlay_page\", \"ace/lib/dom\", \"ace/ext/menu_tools/settings_menu.css\"], function (require, exports, module) {\n  /**\n  * ## Overlay Page utility\n  *\n  * Provides modal overlay functionality for displaying editor extension interfaces. Creates a full-screen overlay with\n  * configurable backdrop behavior, keyboard navigation (ESC to close), and focus management. Used by various extensions\n  * to display menus, settings panels, and other interactive content over the editor interface.\n  *\n  * **Usage:**\n  * ```javascript\n  * var overlayPage = require('./overlay_page').overlayPage;\n  * var contentElement = document.createElement('div');\n  * contentElement.innerHTML = '<h1>Settings</h1>';\n  *\n  * var overlay = overlayPage(editor, contentElement, function() {\n  *   console.log('Overlay closed');\n  * });\n  * ```\n  *\n  * @module\n  */\n  'use strict';\n\n  var dom = require(\"../../lib/dom\");\n  var cssText = require(\"./settings_menu.css\");\n  dom.importCssString(cssText, \"settings_menu.css\", false);\n  module.exports.overlayPage = function overlayPage(editor, contentElement, callback) {\n    var closer = document.createElement('div');\n    var ignoreFocusOut = false;\n    function documentEscListener(e) {\n      if (e.keyCode === 27) {\n        close();\n      }\n    }\n    function close() {\n      if (!closer) return;\n      document.removeEventListener('keydown', documentEscListener);\n      closer.parentNode.removeChild(closer);\n      if (editor) {\n        editor.focus();\n      }\n      closer = null;\n      callback && callback();\n    }\n    function setIgnoreFocusOut(ignore) {\n      ignoreFocusOut = ignore;\n      if (ignore) {\n        closer.style.pointerEvents = \"none\";\n        contentElement.style.pointerEvents = \"auto\";\n      }\n    }\n    closer.style.cssText = 'margin: 0; padding: 0; ' + 'position: fixed; top:0; bottom:0; left:0; right:0;' + 'z-index: 9990; ' + (editor ? 'background-color: rgba(0, 0, 0, 0.3);' : '');\n    closer.addEventListener('click', function (e) {\n      if (!ignoreFocusOut) {\n        close();\n      }\n    });\n    document.addEventListener('keydown', documentEscListener);\n    contentElement.addEventListener('click', function (e) {\n      e.stopPropagation();\n    });\n    closer.appendChild(contentElement);\n    document.body.appendChild(closer);\n    if (editor) {\n      editor.blur();\n    }\n    return {\n      close: close,\n      setIgnoreFocusOut: setIgnoreFocusOut\n    };\n  };\n});\nace.define(\"ace/ext/modelist\", [\"require\", \"exports\", \"module\"], function (require, exports, module) {\n  /**\n  * ## File mode detection utility\n  *\n  * Provides automatic detection of editor syntax modes based on file paths and extensions. Maps file extensions to\n  * appropriate Ace Editor syntax highlighting modes for over 100 programming languages and file formats including\n  * JavaScript, TypeScript, HTML, CSS, Python, Java, C++, and many others. Supports complex extension patterns and\n  * provides fallback mechanisms for unknown file types.\n  *\n  * @module\n  */\n  \"use strict\";\n\n  var modes = [];\n  function getModeForPath(path) {\n    var mode = modesByName.text;\n    var fileName = path.split(/[\\/\\\\]/).pop();\n    for (var i = 0; i < modes.length; i++) {\n      if (modes[i].supportsFile(fileName)) {\n        mode = modes[i];\n        break;\n      }\n    }\n    return mode;\n  }\n  var Mode = /** @class */function () {\n    function Mode(name, caption, extensions) {\n      this.name = name;\n      this.caption = caption;\n      this.mode = \"ace/mode/\" + name;\n      this.extensions = extensions;\n      var re;\n      if (/\\^/.test(extensions)) {\n        re = extensions.replace(/\\|(\\^)?/g, function (a, b) {\n          return \"$|\" + (b ? \"^\" : \"^.*\\\\.\");\n        }) + \"$\";\n      } else {\n        re = \"\\\\.(\" + extensions + \")$\";\n      }\n      this.extRe = new RegExp(re, \"gi\");\n    }\n    Mode.prototype.supportsFile = function (filename) {\n      return filename.match(this.extRe);\n    };\n    return Mode;\n  }();\n  var supportedModes = {\n    ABAP: [\"abap\"],\n    ABC: [\"abc\"],\n    ActionScript: [\"as\"],\n    ADA: [\"ada|adb\"],\n    Alda: [\"alda\"],\n    Apache_Conf: [\"^htaccess|^htgroups|^htpasswd|^conf|htaccess|htgroups|htpasswd\"],\n    Apex: [\"apex|cls|trigger|tgr\"],\n    AQL: [\"aql\"],\n    AsciiDoc: [\"asciidoc|adoc\"],\n    ASL: [\"dsl|asl|asl.json\"],\n    Assembly_ARM32: [\"s\"],\n    Assembly_x86: [\"asm|a\"],\n    Astro: [\"astro\"],\n    AutoHotKey: [\"ahk\"],\n    Basic: [\"bas|bak\"],\n    BatchFile: [\"bat|cmd\"],\n    BibTeX: [\"bib\"],\n    C_Cpp: [\"cpp|c|cc|cxx|h|hh|hpp|ino\"],\n    C9Search: [\"c9search_results\"],\n    Cirru: [\"cirru|cr\"],\n    Clojure: [\"clj|cljs\"],\n    Clue: [\"clue\"],\n    Cobol: [\"CBL|COB\"],\n    coffee: [\"coffee|cf|cson|^Cakefile\"],\n    ColdFusion: [\"cfm|cfc\"],\n    Crystal: [\"cr\"],\n    CSharp: [\"cs\"],\n    Csound_Document: [\"csd\"],\n    Csound_Orchestra: [\"orc\"],\n    Csound_Score: [\"sco\"],\n    CSS: [\"css\"],\n    CSV: [\"csv\"],\n    Curly: [\"curly\"],\n    Cuttlefish: [\"conf\"],\n    D: [\"d|di\"],\n    Dart: [\"dart\"],\n    Diff: [\"diff|patch\"],\n    Django: [\"djt|html.djt|dj.html|djhtml\"],\n    Dockerfile: [\"^Dockerfile\"],\n    Dot: [\"dot\"],\n    Drools: [\"drl\"],\n    Edifact: [\"edi\"],\n    Eiffel: [\"e|ge\"],\n    EJS: [\"ejs\"],\n    Elixir: [\"ex|exs\"],\n    Elm: [\"elm\"],\n    Erlang: [\"erl|hrl\"],\n    Flix: [\"flix\"],\n    Forth: [\"frt|fs|ldr|fth|4th\"],\n    Fortran: [\"f|f90\"],\n    FSharp: [\"fsi|fs|ml|mli|fsx|fsscript\"],\n    FSL: [\"fsl\"],\n    FTL: [\"ftl\"],\n    Gcode: [\"gcode\"],\n    Gherkin: [\"feature\"],\n    Gitignore: [\"^.gitignore\"],\n    Glsl: [\"glsl|frag|vert\"],\n    Gobstones: [\"gbs\"],\n    golang: [\"go\"],\n    GraphQLSchema: [\"gql\"],\n    Groovy: [\"groovy\"],\n    HAML: [\"haml\"],\n    Handlebars: [\"hbs|handlebars|tpl|mustache\"],\n    Haskell: [\"hs\"],\n    Haskell_Cabal: [\"cabal\"],\n    haXe: [\"hx\"],\n    Hjson: [\"hjson\"],\n    HTML: [\"html|htm|xhtml|we|wpy\"],\n    HTML_Elixir: [\"eex|html.eex\"],\n    HTML_Ruby: [\"erb|rhtml|html.erb\"],\n    INI: [\"ini|conf|cfg|prefs\"],\n    Io: [\"io\"],\n    Ion: [\"ion\"],\n    Jack: [\"jack\"],\n    Jade: [\"jade|pug\"],\n    Java: [\"java\"],\n    JavaScript: [\"js|jsm|cjs|mjs\"],\n    JEXL: [\"jexl\"],\n    JSON: [\"json\"],\n    JSON5: [\"json5\"],\n    JSONiq: [\"jq\"],\n    JSP: [\"jsp\"],\n    JSSM: [\"jssm|jssm_state\"],\n    JSX: [\"jsx\"],\n    Julia: [\"jl\"],\n    Kotlin: [\"kt|kts\"],\n    LaTeX: [\"tex|latex|ltx|bib\"],\n    Latte: [\"latte\"],\n    LESS: [\"less\"],\n    Liquid: [\"liquid\"],\n    Lisp: [\"lisp\"],\n    LiveScript: [\"ls\"],\n    Log: [\"log\"],\n    LogiQL: [\"logic|lql\"],\n    Logtalk: [\"lgt\"],\n    LSL: [\"lsl\"],\n    Lua: [\"lua\"],\n    LuaPage: [\"lp\"],\n    Lucene: [\"lucene\"],\n    Makefile: [\"^Makefile|^GNUmakefile|^makefile|^OCamlMakefile|make\"],\n    Markdown: [\"md|markdown\"],\n    Mask: [\"mask\"],\n    MATLAB: [\"matlab\"],\n    Maze: [\"mz\"],\n    MediaWiki: [\"wiki|mediawiki\"],\n    MEL: [\"mel\"],\n    MIPS: [\"s|asm\"],\n    MIXAL: [\"mixal\"],\n    MUSHCode: [\"mc|mush\"],\n    MySQL: [\"mysql\"],\n    Nasal: [\"nas\"],\n    Nginx: [\"nginx|conf\"],\n    Nim: [\"nim\"],\n    Nix: [\"nix\"],\n    NSIS: [\"nsi|nsh\"],\n    Nunjucks: [\"nunjucks|nunjs|nj|njk\"],\n    ObjectiveC: [\"m|mm\"],\n    OCaml: [\"ml|mli\"],\n    Odin: [\"odin\"],\n    PartiQL: [\"partiql|pql\"],\n    Pascal: [\"pas|p\"],\n    Perl: [\"pl|pm\"],\n    pgSQL: [\"pgsql\"],\n    PHP: [\"php|inc|phtml|shtml|php3|php4|php5|phps|phpt|aw|ctp|module\"],\n    PHP_Laravel_blade: [\"blade.php\"],\n    Pig: [\"pig\"],\n    PLSQL: [\"plsql\"],\n    Powershell: [\"ps1\"],\n    Praat: [\"praat|praatscript|psc|proc\"],\n    Prisma: [\"prisma\"],\n    Prolog: [\"plg|prolog\"],\n    Properties: [\"properties\"],\n    Protobuf: [\"proto\"],\n    PRQL: [\"prql\"],\n    Puppet: [\"epp|pp\"],\n    Python: [\"py\"],\n    QML: [\"qml\"],\n    R: [\"r\"],\n    Raku: [\"raku|rakumod|rakutest|p6|pl6|pm6\"],\n    Razor: [\"cshtml|asp\"],\n    RDoc: [\"Rd\"],\n    Red: [\"red|reds\"],\n    RHTML: [\"Rhtml\"],\n    Robot: [\"robot|resource\"],\n    RST: [\"rst\"],\n    Ruby: [\"rb|ru|gemspec|rake|^Guardfile|^Rakefile|^Gemfile\"],\n    Rust: [\"rs\"],\n    SaC: [\"sac\"],\n    SASS: [\"sass\"],\n    SCAD: [\"scad\"],\n    Scala: [\"scala|sbt\"],\n    Scheme: [\"scm|sm|rkt|oak|scheme\"],\n    Scrypt: [\"scrypt\"],\n    SCSS: [\"scss\"],\n    SH: [\"sh|bash|^.bashrc\"],\n    SJS: [\"sjs\"],\n    Slim: [\"slim|skim\"],\n    Smarty: [\"smarty|tpl\"],\n    Smithy: [\"smithy\"],\n    snippets: [\"snippets\"],\n    Soy_Template: [\"soy\"],\n    Space: [\"space\"],\n    SPARQL: [\"rq\"],\n    SQL: [\"sql\"],\n    SQLServer: [\"sqlserver\"],\n    Stylus: [\"styl|stylus\"],\n    SVG: [\"svg\"],\n    Swift: [\"swift\"],\n    Tcl: [\"tcl\"],\n    Terraform: [\"tf\", \"tfvars\", \"terragrunt\"],\n    Tex: [\"tex\"],\n    Text: [\"txt\"],\n    Textile: [\"textile\"],\n    Toml: [\"toml\"],\n    TSV: [\"tsv\"],\n    TSX: [\"tsx\"],\n    Turtle: [\"ttl\"],\n    Twig: [\"twig|swig\"],\n    Typescript: [\"ts|mts|cts|typescript|str\"],\n    Vala: [\"vala\"],\n    VBScript: [\"vbs|vb\"],\n    Velocity: [\"vm\"],\n    Verilog: [\"v|vh|sv|svh\"],\n    VHDL: [\"vhd|vhdl\"],\n    Visualforce: [\"vfp|component|page\"],\n    Vue: [\"vue\"],\n    Wollok: [\"wlk|wpgm|wtest\"],\n    XML: [\"xml|rdf|rss|wsdl|xslt|atom|mathml|mml|xul|xbl|xaml\"],\n    XQuery: [\"xq\"],\n    YAML: [\"yaml|yml\"],\n    Zeek: [\"zeek|bro\"],\n    Zig: [\"zig\"]\n  };\n  var nameOverrides = {\n    ObjectiveC: \"Objective-C\",\n    CSharp: \"C#\",\n    golang: \"Go\",\n    C_Cpp: \"C and C++\",\n    Csound_Document: \"Csound Document\",\n    Csound_Orchestra: \"Csound\",\n    Csound_Score: \"Csound Score\",\n    coffee: \"CoffeeScript\",\n    HTML_Ruby: \"HTML (Ruby)\",\n    HTML_Elixir: \"HTML (Elixir)\",\n    FTL: \"FreeMarker\",\n    PHP_Laravel_blade: \"PHP (Blade Template)\",\n    Perl6: \"Perl 6\",\n    AutoHotKey: \"AutoHotkey / AutoIt\"\n  };\n  var modesByName = {};\n  for (var name in supportedModes) {\n    var data = supportedModes[name];\n    var displayName = (nameOverrides[name] || name).replace(/_/g, \" \");\n    var filename = name.toLowerCase();\n    var mode = new Mode(filename, displayName, data[0]);\n    modesByName[filename] = mode;\n    modes.push(mode);\n  }\n  exports.getModeForPath = getModeForPath;\n  exports.modes = modes;\n  exports.modesByName = modesByName;\n});\nace.define(\"ace/ext/prompt\", [\"require\", \"exports\", \"module\", \"ace/config\", \"ace/range\", \"ace/lib/dom\", \"ace/autocomplete\", \"ace/autocomplete/popup\", \"ace/autocomplete/popup\", \"ace/undomanager\", \"ace/tokenizer\", \"ace/ext/menu_tools/overlay_page\", \"ace/ext/modelist\"], function (require, exports, module) {\n  /**\n  * ## User Input Prompt extension\n  *\n  * Provides customizable modal prompts for gathering user input with support for autocompletion, validation, and\n  * specialized input types. Includes built-in prompt types for navigation (goto line), command palette, and mode\n  * selection, with extensible architecture for custom prompt implementations.\n  *\n  * **Built-in Prompt Types:**\n  * - `gotoLine`: Navigate to specific line numbers with selection support\n  * - `commands`: Command palette with searchable editor commands and shortcuts\n  * - `modes`: Language mode selector with filtering capabilities\n  *\n  * **Usage:**\n  * ```javascript\n  * // Basic prompt\n  * prompt(editor, \"Default value\", {\n  *   placeholder: \"Enter text...\",\n  *   onAccept: (data) => console.log(data.value)\n  * });\n  *\n  * // Built-in prompts\n  * prompt.gotoLine(editor);\n  * prompt.commands(editor);\n  * prompt.modes(editor);\n  * ```\n  *\n  * @module\n  */\n  \"use strict\";\n\n  var nls = require(\"../config\").nls;\n  var Range = require(\"../range\").Range;\n  var dom = require(\"../lib/dom\");\n  var FilteredList = require(\"../autocomplete\").FilteredList;\n  var AcePopup = require('../autocomplete/popup').AcePopup;\n  var $singleLineEditor = require('../autocomplete/popup').$singleLineEditor;\n  var UndoManager = require(\"../undomanager\").UndoManager;\n  var Tokenizer = require(\"../tokenizer\").Tokenizer;\n  var overlayPage = require(\"./menu_tools/overlay_page\").overlayPage;\n  var modelist = require(\"./modelist\");\n  var openPrompt;\n  function prompt(editor, message, options, callback) {\n    if (typeof message == \"object\") {\n      return prompt(editor, \"\", message, options);\n    }\n    if (openPrompt) {\n      var lastPrompt = openPrompt;\n      editor = lastPrompt.editor;\n      lastPrompt.close();\n      if (lastPrompt.name && lastPrompt.name == options.name) return;\n    }\n    if (options.$type) return prompt[options.$type](editor, callback);\n    var cmdLine = $singleLineEditor();\n    cmdLine.session.setUndoManager(new UndoManager());\n    var el = dom.buildDom([\"div\", {\n      class: \"ace_prompt_container\" + (options.hasDescription ? \" input-box-with-description\" : \"\")\n    }]);\n    var overlay = overlayPage(editor, el, done);\n    el.appendChild(cmdLine.container);\n    if (editor) {\n      editor.cmdLine = cmdLine;\n      cmdLine.setOption(\"fontSize\", editor.getOption(\"fontSize\"));\n    }\n    if (message) {\n      cmdLine.setValue(message, 1);\n    }\n    if (options.selection) {\n      cmdLine.selection.setRange({\n        start: cmdLine.session.doc.indexToPosition(options.selection[0]),\n        end: cmdLine.session.doc.indexToPosition(options.selection[1])\n      });\n    }\n    if (options.getCompletions) {\n      var popup = new AcePopup();\n      popup.renderer.setStyle(\"ace_autocomplete_inline\");\n      popup.container.style.display = \"block\";\n      popup.container.style.maxWidth = \"600px\";\n      popup.container.style.width = \"100%\";\n      popup.container.style.marginTop = \"3px\";\n      popup.renderer.setScrollMargin(2, 2, 0, 0);\n      popup.autoSelect = false;\n      popup.renderer.$maxLines = 15;\n      popup.setRow(-1);\n      popup.on(\"click\", function (e) {\n        var data = popup.getData(popup.getRow());\n        if (!data[\"error\"]) {\n          cmdLine.setValue(data.value || data[\"name\"] || data);\n          accept();\n          e.stop();\n        }\n      });\n      el.appendChild(popup.container);\n      updateCompletions();\n    }\n    if (options.$rules) {\n      var tokenizer = new Tokenizer(options.$rules);\n      cmdLine.session.bgTokenizer.setTokenizer(tokenizer);\n    }\n    if (options.placeholder) {\n      cmdLine.setOption(\"placeholder\", options.placeholder);\n    }\n    if (options.hasDescription) {\n      var promptTextContainer = dom.buildDom([\"div\", {\n        class: \"ace_prompt_text_container\"\n      }]);\n      dom.buildDom(options.prompt || \"Press 'Enter' to confirm or 'Escape' to cancel\", promptTextContainer);\n      el.appendChild(promptTextContainer);\n    }\n    overlay.setIgnoreFocusOut(options.ignoreFocusOut);\n    function accept() {\n      var val;\n      if (popup && popup.getCursorPosition().row > 0) {\n        val = valueFromRecentList();\n      } else {\n        val = cmdLine.getValue();\n      }\n      var curData = popup ? popup.getData(popup.getRow()) : val;\n      if (curData && !curData[\"error\"]) {\n        done();\n        options.onAccept && options.onAccept({\n          value: val,\n          item: curData\n        }, cmdLine);\n      }\n    }\n    var keys = {\n      \"Enter\": accept,\n      \"Esc|Shift-Esc\": function () {\n        options.onCancel && options.onCancel(cmdLine.getValue(), cmdLine);\n        done();\n      }\n    };\n    if (popup) {\n      Object.assign(keys, {\n        \"Up\": function (editor) {\n          popup.goTo(\"up\");\n          valueFromRecentList();\n        },\n        \"Down\": function (editor) {\n          popup.goTo(\"down\");\n          valueFromRecentList();\n        },\n        \"Ctrl-Up|Ctrl-Home\": function (editor) {\n          popup.goTo(\"start\");\n          valueFromRecentList();\n        },\n        \"Ctrl-Down|Ctrl-End\": function (editor) {\n          popup.goTo(\"end\");\n          valueFromRecentList();\n        },\n        \"Tab\": function (editor) {\n          popup.goTo(\"down\");\n          valueFromRecentList();\n        },\n        \"PageUp\": function (editor) {\n          popup.gotoPageUp();\n          valueFromRecentList();\n        },\n        \"PageDown\": function (editor) {\n          popup.gotoPageDown();\n          valueFromRecentList();\n        }\n      });\n    }\n    cmdLine.commands.bindKeys(keys);\n    function done() {\n      overlay.close();\n      callback && callback();\n      openPrompt = null;\n    }\n    cmdLine.on(\"input\", function () {\n      options.onInput && options.onInput();\n      updateCompletions();\n    });\n    function updateCompletions() {\n      if (options.getCompletions) {\n        var prefix;\n        if (options.getPrefix) {\n          prefix = options.getPrefix(cmdLine);\n        }\n        var completions = options.getCompletions(cmdLine);\n        popup.setData(completions, prefix);\n        popup.resize(true);\n      }\n    }\n    function valueFromRecentList() {\n      var current = popup.getData(popup.getRow());\n      if (current && !current[\"error\"]) return current.value || current.caption || current;\n    }\n    cmdLine.resize(true);\n    if (popup) {\n      popup.resize(true);\n    }\n    cmdLine.focus();\n    openPrompt = {\n      close: done,\n      name: options.name,\n      editor: editor\n    };\n  }\n  prompt.gotoLine = function (editor, callback) {\n    function stringifySelection(selection) {\n      if (!Array.isArray(selection)) selection = [selection];\n      return selection.map(function (r) {\n        var cursor = r.isBackwards ? r.start : r.end;\n        var anchor = r.isBackwards ? r.end : r.start;\n        var row = anchor.row;\n        var s = row + 1 + \":\" + anchor.column;\n        if (anchor.row == cursor.row) {\n          if (anchor.column != cursor.column) s += \">\" + \":\" + cursor.column;\n        } else {\n          s += \">\" + (cursor.row + 1) + \":\" + cursor.column;\n        }\n        return s;\n      }).reverse().join(\", \");\n    }\n    prompt(editor, \":\" + stringifySelection(editor.selection.toJSON()), {\n      name: \"gotoLine\",\n      selection: [1, Number.MAX_VALUE],\n      onAccept: function (data) {\n        var value = data.value;\n        var _history = prompt.gotoLine[\"_history\"];\n        if (!_history) prompt.gotoLine[\"_history\"] = _history = [];\n        if (_history.indexOf(value) != -1) _history.splice(_history.indexOf(value), 1);\n        _history.unshift(value);\n        if (_history.length > 20) _history.length = 20;\n        var pos = editor.getCursorPosition();\n        var ranges = [];\n        value.replace(/^:/, \"\").split(/,/).map(function (str) {\n          var parts = str.split(/([<>:+-]|c?\\d+)|[^c\\d<>:+-]+/).filter(Boolean);\n          var i = 0;\n          function readPosition() {\n            var c = parts[i++];\n            if (!c) return;\n            if (c[0] == \"c\") {\n              var index = parseInt(c.slice(1)) || 0;\n              return editor.session.doc.indexToPosition(index);\n            }\n            var row = pos.row;\n            var column = 0;\n            if (/\\d/.test(c)) {\n              row = parseInt(c) - 1;\n              c = parts[i++];\n            }\n            if (c == \":\") {\n              c = parts[i++];\n              if (/\\d/.test(c)) {\n                column = parseInt(c) || 0;\n              }\n            }\n            return {\n              row: row,\n              column: column\n            };\n          }\n          pos = readPosition();\n          var range = Range.fromPoints(pos, pos);\n          if (parts[i] == \">\") {\n            i++;\n            range.end = readPosition();\n          } else if (parts[i] == \"<\") {\n            i++;\n            range.start = readPosition();\n          }\n          ranges.unshift(range);\n        });\n        editor.selection.fromJSON(ranges);\n        var scrollTop = editor.renderer.scrollTop;\n        editor.renderer.scrollSelectionIntoView(editor.selection.anchor, editor.selection.cursor, 0.5);\n        editor.renderer.animateScrolling(scrollTop);\n      },\n      history: function () {\n        if (!prompt.gotoLine[\"_history\"]) return [];\n        return prompt.gotoLine[\"_history\"];\n      },\n      getCompletions: function (cmdLine) {\n        var value = cmdLine.getValue();\n        var m = value.replace(/^:/, \"\").split(\":\");\n        var row = Math.min(parseInt(m[0]) || 1, editor.session.getLength()) - 1;\n        var line = editor.session.getLine(row);\n        var current = value + \"  \" + line;\n        return [current].concat(this.history());\n      },\n      $rules: {\n        start: [{\n          regex: /\\d+/,\n          token: \"string\"\n        }, {\n          regex: /[:,><+\\-c]/,\n          token: \"keyword\"\n        }]\n      }\n    });\n  };\n  prompt.commands = function (editor, callback) {\n    function normalizeName(name) {\n      return (name || \"\").replace(/^./, function (x) {\n        return x.toUpperCase(x);\n      }).replace(/[a-z][A-Z]/g, function (x) {\n        return x[0] + \" \" + x[1].toLowerCase(x);\n      });\n    }\n    function getEditorCommandsByName(excludeCommands) {\n      var commandsByName = [];\n      var commandMap = {};\n      editor.keyBinding.$handlers.forEach(function (handler) {\n        var platform = handler[\"platform\"];\n        var cbn = handler[\"byName\"];\n        for (var i in cbn) {\n          var key = cbn[i].bindKey;\n          if (typeof key !== \"string\") {\n            key = key && key[platform] || \"\";\n          }\n          var commands = cbn[i];\n          var description = commands.description || normalizeName(commands.name);\n          if (!Array.isArray(commands)) commands = [commands];\n          commands.forEach(function (command) {\n            if (typeof command != \"string\") command = command.name;\n            var needle = excludeCommands.find(function (el) {\n              return el === command;\n            });\n            if (!needle) {\n              if (commandMap[command]) {\n                commandMap[command].key += \"|\" + key;\n              } else {\n                commandMap[command] = {\n                  key: key,\n                  command: command,\n                  description: description\n                };\n                commandsByName.push(commandMap[command]);\n              }\n            }\n          });\n        }\n      });\n      return commandsByName;\n    }\n    var excludeCommandsList = [\"insertstring\", \"inserttext\", \"setIndentation\", \"paste\"];\n    var shortcutsArray = getEditorCommandsByName(excludeCommandsList);\n    shortcutsArray = shortcutsArray.map(function (item) {\n      return {\n        value: item.description,\n        meta: item.key,\n        command: item.command\n      };\n    });\n    prompt(editor, \"\", {\n      name: \"commands\",\n      selection: [0, Number.MAX_VALUE],\n      maxHistoryCount: 5,\n      onAccept: function (data) {\n        if (data.item) {\n          var commandName = data.item.command;\n          this.addToHistory(data.item);\n          editor.execCommand(commandName);\n        }\n      },\n      addToHistory: function (item) {\n        var history = this.history();\n        history.unshift(item);\n        delete item.message;\n        for (var i = 1; i < history.length; i++) {\n          if (history[i][\"command\"] == item.command) {\n            history.splice(i, 1);\n            break;\n          }\n        }\n        if (this.maxHistoryCount > 0 && history.length > this.maxHistoryCount) {\n          history.splice(history.length - 1, 1);\n        }\n        prompt.commands[\"history\"] = history;\n      },\n      history: function () {\n        return prompt.commands[\"history\"] || [];\n      },\n      getPrefix: function (cmdLine) {\n        var currentPos = cmdLine.getCursorPosition();\n        var filterValue = cmdLine.getValue();\n        return filterValue.substring(0, currentPos.column);\n      },\n      getCompletions: function (cmdLine) {\n        function getFilteredCompletions(commands, prefix) {\n          var resultCommands = JSON.parse(JSON.stringify(commands));\n          var filtered = new FilteredList(resultCommands);\n          return filtered.filterCompletions(resultCommands, prefix);\n        }\n        function getUniqueCommandList(commands, usedCommands) {\n          if (!usedCommands || !usedCommands.length) {\n            return commands;\n          }\n          var excludeCommands = [];\n          usedCommands.forEach(function (item) {\n            excludeCommands.push(item.command);\n          });\n          var resultCommands = [];\n          commands.forEach(function (item) {\n            if (excludeCommands.indexOf(item.command) === -1) {\n              resultCommands.push(item);\n            }\n          });\n          return resultCommands;\n        }\n        var prefix = this.getPrefix(cmdLine);\n        var recentlyUsedCommands = getFilteredCompletions(this.history(), prefix);\n        var otherCommands = getUniqueCommandList(shortcutsArray, recentlyUsedCommands);\n        otherCommands = getFilteredCompletions(otherCommands, prefix);\n        if (recentlyUsedCommands.length && otherCommands.length) {\n          recentlyUsedCommands[0].message = nls(\"prompt.recently-used\", \"Recently used\");\n          otherCommands[0].message = nls(\"prompt.other-commands\", \"Other commands\");\n        }\n        var completions = recentlyUsedCommands.concat(otherCommands);\n        return completions.length > 0 ? completions : [{\n          value: nls(\"prompt.no-matching-commands\", \"No matching commands\"),\n          error: 1\n        }];\n      }\n    });\n  };\n  prompt.modes = function (editor, callback) {\n    var modesArray = modelist.modes;\n    modesArray = modesArray.map(function (item) {\n      return {\n        value: item.caption,\n        mode: item.name\n      };\n    });\n    prompt(editor, \"\", {\n      name: \"modes\",\n      selection: [0, Number.MAX_VALUE],\n      onAccept: function (data) {\n        if (data.item) {\n          var modeName = \"ace/mode/\" + data.item.mode;\n          editor.session.setMode(modeName);\n        }\n      },\n      getPrefix: function (cmdLine) {\n        var currentPos = cmdLine.getCursorPosition();\n        var filterValue = cmdLine.getValue();\n        return filterValue.substring(0, currentPos.column);\n      },\n      getCompletions: function (cmdLine) {\n        function getFilteredCompletions(modes, prefix) {\n          var resultCommands = JSON.parse(JSON.stringify(modes));\n          var filtered = new FilteredList(resultCommands);\n          return filtered.filterCompletions(resultCommands, prefix);\n        }\n        var prefix = this.getPrefix(cmdLine);\n        var completions = getFilteredCompletions(modesArray, prefix);\n        return completions.length > 0 ? completions : [{\n          \"caption\": \"No mode matching\",\n          \"value\": \"No mode matching\",\n          \"error\": 1\n        }];\n      }\n    });\n  };\n  dom.importCssString(\".ace_prompt_container {\\n    max-width: 603px;\\n    width: 100%;\\n    margin: 20px auto;\\n    padding: 3px;\\n    background: white;\\n    border-radius: 2px;\\n    box-shadow: 0px 2px 3px 0px #555;\\n}\", \"promtp.css\", false);\n  exports.prompt = prompt;\n});\n(function () {\n  ace.require([\"ace/ext/prompt\"], function (m) {\n    if (typeof module == \"object\" && typeof exports == \"object\" && module) {\n      module.exports = m;\n    }\n  });\n})();","map":{"version":3,"names":["ace","define","require","exports","module","Renderer","VirtualRenderer","Editor","Range","event","lang","dom","nls","userAgent","getAriaId","index","concat","popupAriaRole","isSafari","optionAriaRole","ariaActiveState","$singleLineEditor","el","renderer","$maxLines","editor","setHighlightActiveLine","setShowPrintMargin","setShowGutter","setHighlightGutterLine","$mouseHandler","$focusTimeout","$highlightTagPending","AcePopup","parentNode","createElement","popup","appendChild","style","display","content","cursor","setStyle","$textLayer","element","setAttribute","textarea","setOption","noop","focus","$isFocused","$cursorLayer","restartTimer","opacity","$keepTextAreaAtCursor","session","highlight","$searchHighlight","clazz","on","e","pos","getDocumentPosition","selection","moveToPosition","selectionMarker","start","row","end","stop","lastMouseEvent","hoverMarker","Infinity","id","addMarker","setSelectOnHover","val","removeMarker","x","y","scrollTop","isMouseOver","setRow","setHoverMarker","$pos","t","config","firstRow","l","lastRow","popupRowElement","childNodes","data","length","rowData","getData","ariaLabel","caption","value","meta","highlightedSpans","querySelectorAll","forEach","span","getRow","selected","document","activeElement","selectedNode","removeCssClass","removeAttribute","ariaId","addCssClass","hideHoverMarker","suppressRedraw","_emit","getHoveredRow","addListener","container","doc","getLength","getLine","i","bgTokenizer","$tokenizeRow","tokens","name","addToken","className","push","type","lower","toLowerCase","filterText","lastIndex","lastI","matchMask","sub","slice","indexOf","message","$updateOnChange","$computeWidth","screenWidth","isOpen","isTopdown","autoSelect","setData","list","setValue","stringRepeat","line","Math","max","min","clearSelection","moveCursorTo","_signal","lead","scrollCursorIntoView","hide","anchorPos","anchor","tryShow","lineHeight","forceShow","top","left","scrollBarSize","scrollBar","width","screenHeight","window","innerHeight","innerWidth","maxH","dims","bottom","spaceBelow","$borderSize","spaceAbove","fitsX","$maxPixelHeight","offsetWidth","right","show","topdownOnly","undefined","goTo","where","getTextLeftOffset","$padding","$imageSize","importCssString","oop","EventEmitter","RangeList","HashHandler","Tokenizer","clipboard","VARIABLES","CURRENT_WORD","getTextRange","getWordRange","SELECTION","indentation","text","replace","CURRENT_LINE","getCursorPosition","PREV_LINE","LINE_INDEX","LINE_NUMBER","SOFT_TABS","getUseSoftTabs","TAB_SIZE","getTabSize","CLIPBOARD","getText","FILENAME","exec","FILEPATH","FILENAME_BASE","DIRECTORY","WORKSPACE_NAME","FULLNAME","BLOCK_COMMENT_START","mode","$mode","blockComment","BLOCK_COMMENT_END","LINE_COMMENT","lineCommentStart","CURRENT_YEAR","date","bind","year","CURRENT_YEAR_SHORT","CURRENT_MONTH","month","CURRENT_MONTH_NAME","CURRENT_MONTH_NAME_SHORT","CURRENT_DATE","day","CURRENT_DAY_NAME","weekday","CURRENT_DAY_NAME_SHORT","CURRENT_HOUR","hour","hour12","CURRENT_MINUTE","minute","CURRENT_SECOND","second","SELECTED_TEXT","dateFormat","str","Date","toLocaleString","SnippetManager","snippetMap","snippetNameMap","variables","prototype","getTokenizer","createTokenizer","TabstopToken","substr","test","tabstopId","parseInt","escape","ch","formatMatcher","regex","onMatch","state","stack","ts","fmtString","guard","flag","next","shift","unshift","token","merge","snippetVar","choices","operator","split","map","formatString","expectElse","ifEnd","elseEnd","changeCase","local","formatStringVar","formatFunction","tokenizeTmSnippet","startState","getLineTokens","getVariableValue","__","hasOwnProperty","tmStrFormat","fmt","re","RegExp","fmtTokens","_self","formatted","oldArgs","call","arguments","fmtParts","resolveVariables","gChangeCase","toUpperCase","join","tmFormatFunction","snippet","result","afterNewLine","j","gotoNext","i1","getDisplayTextForSnippet","snippetText","processedSnippet","processSnippetText","insertSnippetForSelection","options","range","getSelectionRange","tabstopManager","TabstopManager","selectionId","inVirtualSelectionMode","addTabstops","tabstops","insertSnippet","self","forEachSelection","keepOrder","tabNext","$getScope","scope","$id","pop","inlinePhp","c","getState","substring","getActiveScopes","scopes","includeScopes","apply","expandWithTab","expandSnippetForSelection","before","column","after","some","snippets","findMatchingSnippet","dryRun","removeInLine","replaceBefore","replaceAfter","M__","matchBefore","T__","matchAfter","snippetList","s","startRe","endRe","triggerRe","endTriggerRe","register","wrapRegexp","src","guardedRegexp","opening","addSnippet","old","unregister","prefix","tabTrigger","body","Array","isArray","trigger","escapeRegExp","endTrigger","endGuard","Object","keys","key","removeSnippet","nameMap","splice","parseSnippetFile","m","JSON","parse","guardRe","match","getSnippetByName","implement","tabString","getTabString","indentString","excludeExtraIndent","p","parents","isNested","expanding","copyValue","copy","lastIndexOf","parentId","lines","ranges","$onChange","onChange","$onChangeSelection","delayedCall","onChangeSelection","schedule","$onChangeSession","onChangeSession","$onAfterExec","onAfterExec","attach","$openTabstops","selectedTabstop","commands","keyBinding","addKeyboardHandler","keyboardHandler","detach","removeTabstopMarkers","off","removeKeyboardHandler","delta","isRemove","action","active","rangeList","$bias","parentActive","startIndex","pointIndex","endIndex","toRemove","removeRange","$inChange","getValue","updateLinkedFields","hasLinkedRanges","firstNonLinked","linked","original","snippetManager","command","readOnly","isEmpty","containsLead","contains","containsAnchor","dir","selectTabstop","updateTabstopMarkers","addTabstopMarkers","sel","multiSelect","toSingleRange","addRange","clone","fromOrientedRange","execCommand","matches","useLink","getOption","fromPoints","moveRelative","arg","snippetId","dest","movePoint","tabstop","addList","markerId","currentSnippetId","bindKeys","Tab","Shift-Tab","Esc","point","diff","expandSnippet","AceInlineScreenReader","screenReaderDiv","classList","add","setScreenReaderContent","completer","idString","lineIndex","_lines","firstChild","removeChild","codeElement","createCodeBlock","destroy","remove","createTextNode","AceInline","completion","inlineScreenReader","displayText","hideInlinePreview","startsWith","removeGhostText","setGhostText","$ghostText","parForEach","array","fn","callback","completed","arLength","err","ID_REGEX","retrievePrecedingIdentifier","buf","reverse","retrieveFollowingIdentifier","getCompletionPrefix","completers","identifierRegexps","identifierRegex","triggerAutocomplete","previousChar","getPrecedingCharacter","triggerCharacters","includes","util","preventParentScroll","destroyCompleter","Autocomplete","autoInsert","autoShown","exactMatch","inlineEnabled","hasSeen","Set","showLoadingState","stickySelectionDelay","blurListener","changeListener","mousedownListener","mousewheelListener","onLayoutChange","changeTimer","updateCompletions","tooltipTimer","updateDocTooltip","popupTimer","$updatePopupPosition","stickySelectionTimer","stickySelection","$firstOpenTimer","initialPosition","completionProvider","completions","FilteredList","completionsForLoading","openPopup","defineProperty","get","enumerable","configurable","$init","documentElement","insertMatch","$onPopupShow","$onHidePopup","$onPopupChange","mouseOutListener","$onPopupRender","$initInline","inlineRenderer","getPopup","hideDocTooltip","cancel","$seen","has","onSeen","$updateGhostText","base","cursorColumn","filtered","getFirstVisibleRow","getLastVisibleRow","observeLayoutChanges","$elements","addEventListener","passive","elements","unObserveLayoutChanges","_this","removeEventListener","layerConfig","getPixelPosition","rect","getBoundingClientRect","offset","scrollLeft","gutterWidth","posGhostText","$ghostTextWidget","position","offsetHeight","editorContainerBottom","lowestPosition","keepPopupPosition","oldRow","previousSelectedItem","textInput","setAriaOptions","activeDescendant","inline","newRow","setTheme","getTheme","setFontSize","getFontSize","tooltipNode","activated","getElement","fromTooltip","relatedTarget","getCompletionProvider","showPopup","CompletionProvider","gatherCompletions","setFilter","createAnchor","$insertRight","getSession","completionOptions","ignoreCaption","provideCompletions","finished","emptyMessage","completionsForEmpty","delay","cancelContextMenu","all","completersLength","getDocTooltip","completerId","docText","docHTML","showDocTooltip","item","margin","pointerEvents","overscrollBehavior","tabIndex","onblur","onclick","onTooltipClick","theme","isDark","cssClass","innerHTML","textContent","targetWidth","targetHeight","leftSize","rightSize","topSize","scores","tooltipStyle","maxWidth","maxHeight","offsetTop","isFocused","a","target","nodeName","href","rel","for","once","Up","Down","Ctrl-Up|Ctrl-Home","Ctrl-Down|Ctrl-End","Return","Shift-Return","deleteSuffix","Backspace","PageUp","gotoPageUp","PageDown","gotoPageDown","startCommand","bindKey","insertByIndex","startOperation","getAllRanges","$insertString","onInsert","endOperation","total","getCompletions","results","assign","processResults","isImmediate","immediateResults","filterCompletions","sort","b","$score","localeCompare","prev","filter","items","needle","upper","loop","skipFilter","score","penalty","distance","fullMatchIndex","i2","cssText","overlayPage","contentElement","closer","ignoreFocusOut","documentEscListener","keyCode","close","setIgnoreFocusOut","ignore","stopPropagation","blur","modes","getModeForPath","path","modesByName","fileName","supportsFile","Mode","extensions","extRe","filename","supportedModes","ABAP","ABC","ActionScript","ADA","Alda","Apache_Conf","Apex","AQL","AsciiDoc","ASL","Assembly_ARM32","Assembly_x86","Astro","AutoHotKey","Basic","BatchFile","BibTeX","C_Cpp","C9Search","Cirru","Clojure","Clue","Cobol","coffee","ColdFusion","Crystal","CSharp","Csound_Document","Csound_Orchestra","Csound_Score","CSS","CSV","Curly","Cuttlefish","D","Dart","Diff","Django","Dockerfile","Dot","Drools","Edifact","Eiffel","EJS","Elixir","Elm","Erlang","Flix","Forth","Fortran","FSharp","FSL","FTL","Gcode","Gherkin","Gitignore","Glsl","Gobstones","golang","GraphQLSchema","Groovy","HAML","Handlebars","Haskell","Haskell_Cabal","haXe","Hjson","HTML","HTML_Elixir","HTML_Ruby","INI","Io","Ion","Jack","Jade","Java","JavaScript","JEXL","JSON5","JSONiq","JSP","JSSM","JSX","Julia","Kotlin","LaTeX","Latte","LESS","Liquid","Lisp","LiveScript","Log","LogiQL","Logtalk","LSL","Lua","LuaPage","Lucene","Makefile","Markdown","Mask","MATLAB","Maze","MediaWiki","MEL","MIPS","MIXAL","MUSHCode","MySQL","Nasal","Nginx","Nim","Nix","NSIS","Nunjucks","ObjectiveC","OCaml","Odin","PartiQL","Pascal","Perl","pgSQL","PHP","PHP_Laravel_blade","Pig","PLSQL","Powershell","Praat","Prisma","Prolog","Properties","Protobuf","PRQL","Puppet","Python","QML","R","Raku","Razor","RDoc","Red","RHTML","Robot","RST","Ruby","Rust","SaC","SASS","SCAD","Scala","Scheme","Scrypt","SCSS","SH","SJS","Slim","Smarty","Smithy","Soy_Template","Space","SPARQL","SQL","SQLServer","Stylus","SVG","Swift","Tcl","Terraform","Tex","Text","Textile","Toml","TSV","TSX","Turtle","Twig","Typescript","Vala","VBScript","Velocity","Verilog","VHDL","Visualforce","Vue","Wollok","XML","XQuery","YAML","Zeek","Zig","nameOverrides","Perl6","displayName","UndoManager","modelist","openPrompt","prompt","lastPrompt","$type","cmdLine","setUndoManager","buildDom","class","hasDescription","overlay","done","setRange","indexToPosition","marginTop","setScrollMargin","accept","$rules","tokenizer","setTokenizer","placeholder","promptTextContainer","valueFromRecentList","curData","onAccept","Esc|Shift-Esc","onCancel","onInput","getPrefix","resize","current","gotoLine","stringifySelection","r","isBackwards","toJSON","Number","MAX_VALUE","_history","parts","Boolean","readPosition","fromJSON","scrollSelectionIntoView","animateScrolling","history","normalizeName","getEditorCommandsByName","excludeCommands","commandsByName","commandMap","$handlers","handler","platform","cbn","description","find","excludeCommandsList","shortcutsArray","maxHistoryCount","commandName","addToHistory","currentPos","filterValue","getFilteredCompletions","resultCommands","stringify","getUniqueCommandList","usedCommands","recentlyUsedCommands","otherCommands","error","modesArray","modeName","setMode"],"sources":["C:/Users/jean9/Desktop/projeto_rm/components/streamlit_ace/frontend/node_modules/ace-builds/src-noconflict/ext-prompt.js"],"sourcesContent":["ace.define(\"ace/autocomplete/popup\",[\"require\",\"exports\",\"module\",\"ace/virtual_renderer\",\"ace/editor\",\"ace/range\",\"ace/lib/event\",\"ace/lib/lang\",\"ace/lib/dom\",\"ace/config\",\"ace/lib/useragent\"], function(require, exports, module){\"use strict\";\nvar Renderer = require(\"../virtual_renderer\").VirtualRenderer;\nvar Editor = require(\"../editor\").Editor;\nvar Range = require(\"../range\").Range;\nvar event = require(\"../lib/event\");\nvar lang = require(\"../lib/lang\");\nvar dom = require(\"../lib/dom\");\nvar nls = require(\"../config\").nls;\nvar userAgent = require(\"./../lib/useragent\");\nvar getAriaId = function (index) {\n    return \"suggest-aria-id:\".concat(index);\n};\nvar popupAriaRole = userAgent.isSafari ? \"menu\" : \"listbox\";\nvar optionAriaRole = userAgent.isSafari ? \"menuitem\" : \"option\";\nvar ariaActiveState = userAgent.isSafari ? \"aria-current\" : \"aria-selected\";\nvar $singleLineEditor = function (el) {\n    var renderer = new Renderer(el);\n    renderer.$maxLines = 4;\n    var editor = new Editor(renderer);\n    editor.setHighlightActiveLine(false);\n    editor.setShowPrintMargin(false);\n    editor.renderer.setShowGutter(false);\n    editor.renderer.setHighlightGutterLine(false);\n    editor.$mouseHandler.$focusTimeout = 0;\n    editor.$highlightTagPending = true;\n    return editor;\n};\nvar AcePopup = /** @class */ (function () {\n    function AcePopup(parentNode) {\n        var el = dom.createElement(\"div\");\n        var popup = $singleLineEditor(el);\n        if (parentNode) {\n            parentNode.appendChild(el);\n        }\n        el.style.display = \"none\";\n        popup.renderer.content.style.cursor = \"default\";\n        popup.renderer.setStyle(\"ace_autocomplete\");\n        popup.renderer.$textLayer.element.setAttribute(\"role\", popupAriaRole);\n        popup.renderer.$textLayer.element.setAttribute(\"aria-roledescription\", nls(\"autocomplete.popup.aria-roledescription\", \"Autocomplete suggestions\"));\n        popup.renderer.$textLayer.element.setAttribute(\"aria-label\", nls(\"autocomplete.popup.aria-label\", \"Autocomplete suggestions\"));\n        popup.renderer.textarea.setAttribute(\"aria-hidden\", \"true\");\n        popup.setOption(\"displayIndentGuides\", false);\n        popup.setOption(\"dragDelay\", 150);\n        var noop = function () { };\n        popup.focus = noop;\n        popup.$isFocused = true;\n        popup.renderer.$cursorLayer.restartTimer = noop;\n        popup.renderer.$cursorLayer.element.style.opacity = \"0\";\n        popup.renderer.$maxLines = 8;\n        popup.renderer.$keepTextAreaAtCursor = false;\n        popup.setHighlightActiveLine(false);\n        popup.session.highlight(\"\");\n        popup.session.$searchHighlight.clazz = \"ace_highlight-marker\";\n        popup.on(\"mousedown\", function (e) {\n            var pos = e.getDocumentPosition();\n            popup.selection.moveToPosition(pos);\n            selectionMarker.start.row = selectionMarker.end.row = pos.row;\n            e.stop();\n        });\n        var lastMouseEvent;\n        var hoverMarker = new Range(-1, 0, -1, Infinity);\n        var selectionMarker = new Range(-1, 0, -1, Infinity);\n        selectionMarker.id = popup.session.addMarker(selectionMarker, \"ace_active-line\", \"fullLine\");\n        popup.setSelectOnHover = function (val) {\n            if (!val) {\n                hoverMarker.id = popup.session.addMarker(hoverMarker, \"ace_line-hover\", \"fullLine\");\n            }\n            else if (hoverMarker.id) {\n                popup.session.removeMarker(hoverMarker.id);\n                hoverMarker.id = null;\n            }\n        };\n        popup.setSelectOnHover(false);\n        popup.on(\"mousemove\", function (e) {\n            if (!lastMouseEvent) {\n                lastMouseEvent = e;\n                return;\n            }\n            if (lastMouseEvent.x == e.x && lastMouseEvent.y == e.y) {\n                return;\n            }\n            lastMouseEvent = e;\n            lastMouseEvent.scrollTop = popup.renderer.scrollTop;\n            popup.isMouseOver = true;\n            var row = lastMouseEvent.getDocumentPosition().row;\n            if (hoverMarker.start.row != row) {\n                if (!hoverMarker.id)\n                    popup.setRow(row);\n                setHoverMarker(row);\n            }\n        });\n        popup.renderer.on(\"beforeRender\", function () {\n            if (lastMouseEvent && hoverMarker.start.row != -1) {\n                lastMouseEvent.$pos = null;\n                var row = lastMouseEvent.getDocumentPosition().row;\n                if (!hoverMarker.id)\n                    popup.setRow(row);\n                setHoverMarker(row, true);\n            }\n        });\n        popup.renderer.on(\"afterRender\", function () {\n            var t = popup.renderer.$textLayer;\n            for (var row = t.config.firstRow, l = t.config.lastRow; row <= l; row++) {\n                var popupRowElement = /** @type {HTMLElement|null} */ (t.element.childNodes[row - t.config.firstRow]);\n                popupRowElement.setAttribute(\"role\", optionAriaRole);\n                popupRowElement.setAttribute(\"aria-roledescription\", nls(\"autocomplete.popup.item.aria-roledescription\", \"item\"));\n                popupRowElement.setAttribute(\"aria-setsize\", popup.data.length);\n                popupRowElement.setAttribute(\"aria-describedby\", \"doc-tooltip\");\n                popupRowElement.setAttribute(\"aria-posinset\", row + 1);\n                var rowData = popup.getData(row);\n                if (rowData) {\n                    var ariaLabel = \"\".concat(rowData.caption || rowData.value).concat(rowData.meta ? \", \".concat(rowData.meta) : '');\n                    popupRowElement.setAttribute(\"aria-label\", ariaLabel);\n                }\n                var highlightedSpans = popupRowElement.querySelectorAll(\".ace_completion-highlight\");\n                highlightedSpans.forEach(function (span) {\n                    span.setAttribute(\"role\", \"mark\");\n                });\n            }\n        });\n        popup.renderer.on(\"afterRender\", function () {\n            var row = popup.getRow();\n            var t = popup.renderer.$textLayer;\n            var selected = /** @type {HTMLElement|null} */ (t.element.childNodes[row - t.config.firstRow]);\n            var el = document.activeElement; // Active element is textarea of main editor\n            if (selected !== popup.selectedNode && popup.selectedNode) {\n                dom.removeCssClass(popup.selectedNode, \"ace_selected\");\n                popup.selectedNode.removeAttribute(ariaActiveState);\n                popup.selectedNode.removeAttribute(\"id\");\n            }\n            el.removeAttribute(\"aria-activedescendant\");\n            popup.selectedNode = selected;\n            if (selected) {\n                var ariaId = getAriaId(row);\n                dom.addCssClass(selected, \"ace_selected\");\n                selected.id = ariaId;\n                t.element.setAttribute(\"aria-activedescendant\", ariaId);\n                el.setAttribute(\"aria-activedescendant\", ariaId);\n                selected.setAttribute(ariaActiveState, \"true\");\n            }\n        });\n        var hideHoverMarker = function () { setHoverMarker(-1); };\n        var setHoverMarker = function (row, suppressRedraw) {\n            if (row !== hoverMarker.start.row) {\n                hoverMarker.start.row = hoverMarker.end.row = row;\n                if (!suppressRedraw)\n                    popup.session._emit(\"changeBackMarker\");\n                popup._emit(\"changeHoverMarker\");\n            }\n        };\n        popup.getHoveredRow = function () {\n            return hoverMarker.start.row;\n        };\n        event.addListener(popup.container, \"mouseout\", function () {\n            popup.isMouseOver = false;\n            hideHoverMarker();\n        });\n        popup.on(\"hide\", hideHoverMarker);\n        popup.on(\"changeSelection\", hideHoverMarker);\n        popup.session.doc.getLength = function () {\n            return popup.data.length;\n        };\n        popup.session.doc.getLine = function (i) {\n            var data = popup.data[i];\n            if (typeof data == \"string\")\n                return data;\n            return (data && data.value) || \"\";\n        };\n        var bgTokenizer = popup.session.bgTokenizer;\n        bgTokenizer.$tokenizeRow = function (row) {\n            var data = popup.data[row];\n            var tokens = [];\n            if (!data)\n                return tokens;\n            if (typeof data == \"string\")\n                data = { value: data };\n            var caption = data.caption || data.value || data.name;\n            function addToken(value, className) {\n                value && tokens.push({\n                    type: (data.className || \"\") + (className || \"\"),\n                    value: value\n                });\n            }\n            var lower = caption.toLowerCase();\n            var filterText = (popup.filterText || \"\").toLowerCase();\n            var lastIndex = 0;\n            var lastI = 0;\n            for (var i = 0; i <= filterText.length; i++) {\n                if (i != lastI && (data.matchMask & (1 << i) || i == filterText.length)) {\n                    var sub = filterText.slice(lastI, i);\n                    lastI = i;\n                    var index = lower.indexOf(sub, lastIndex);\n                    if (index == -1)\n                        continue;\n                    addToken(caption.slice(lastIndex, index), \"\");\n                    lastIndex = index + sub.length;\n                    addToken(caption.slice(index, lastIndex), \"completion-highlight\");\n                }\n            }\n            addToken(caption.slice(lastIndex, caption.length), \"\");\n            tokens.push({ type: \"completion-spacer\", value: \" \" });\n            if (data.meta)\n                tokens.push({ type: \"completion-meta\", value: data.meta });\n            if (data.message)\n                tokens.push({ type: \"completion-message\", value: data.message });\n            return tokens;\n        };\n        bgTokenizer.$updateOnChange = noop;\n        bgTokenizer.start = noop;\n        popup.session.$computeWidth = function () {\n            return this.screenWidth = 0;\n        };\n        popup.isOpen = false;\n        popup.isTopdown = false;\n        popup.autoSelect = true;\n        popup.filterText = \"\";\n        popup.isMouseOver = false;\n        popup.data = [];\n        popup.setData = function (list, filterText) {\n            popup.filterText = filterText || \"\";\n            popup.setValue(lang.stringRepeat(\"\\n\", list.length), -1);\n            popup.data = list || [];\n            popup.setRow(0);\n        };\n        popup.getData = function (row) {\n            return popup.data[row];\n        };\n        popup.getRow = function () {\n            return selectionMarker.start.row;\n        };\n        popup.setRow = function (line) {\n            line = Math.max(this.autoSelect ? 0 : -1, Math.min(this.data.length - 1, line));\n            if (selectionMarker.start.row != line) {\n                popup.selection.clearSelection();\n                selectionMarker.start.row = selectionMarker.end.row = line || 0;\n                popup.session._emit(\"changeBackMarker\");\n                popup.moveCursorTo(line || 0, 0);\n                if (popup.isOpen)\n                    popup._signal(\"select\");\n            }\n        };\n        popup.on(\"changeSelection\", function () {\n            if (popup.isOpen)\n                popup.setRow(popup.selection.lead.row);\n            popup.renderer.scrollCursorIntoView();\n        });\n        popup.hide = function () {\n            this.container.style.display = \"none\";\n            popup.anchorPos = null;\n            popup.anchor = null;\n            if (popup.isOpen) {\n                popup.isOpen = false;\n                this._signal(\"hide\");\n            }\n        };\n        popup.tryShow = function (pos, lineHeight, anchor, forceShow) {\n            if (!forceShow && popup.isOpen && popup.anchorPos && popup.anchor &&\n                popup.anchorPos.top === pos.top && popup.anchorPos.left === pos.left &&\n                popup.anchor === anchor) {\n                return true;\n            }\n            var el = this.container;\n            var scrollBarSize = this.renderer.scrollBar.width || 10;\n            var screenHeight = window.innerHeight - scrollBarSize;\n            var screenWidth = window.innerWidth - scrollBarSize;\n            var renderer = this.renderer;\n            var maxH = renderer.$maxLines * lineHeight * 1.4;\n            var dims = { top: 0, bottom: 0, left: 0 };\n            var spaceBelow = screenHeight - pos.top - 3 * this.$borderSize - lineHeight;\n            var spaceAbove = pos.top - 3 * this.$borderSize;\n            if (!anchor) {\n                if (spaceAbove <= spaceBelow || spaceBelow >= maxH) {\n                    anchor = \"bottom\";\n                }\n                else {\n                    anchor = \"top\";\n                }\n            }\n            if (anchor === \"top\") {\n                dims.bottom = pos.top - this.$borderSize;\n                dims.top = dims.bottom - maxH;\n            }\n            else if (anchor === \"bottom\") {\n                dims.top = pos.top + lineHeight + this.$borderSize;\n                dims.bottom = dims.top + maxH;\n            }\n            var fitsX = dims.top >= 0 && dims.bottom <= screenHeight;\n            if (!forceShow && !fitsX) {\n                return false;\n            }\n            if (!fitsX) {\n                if (anchor === \"top\") {\n                    renderer.$maxPixelHeight = spaceAbove;\n                }\n                else {\n                    renderer.$maxPixelHeight = spaceBelow;\n                }\n            }\n            else {\n                renderer.$maxPixelHeight = null;\n            }\n            if (anchor === \"top\") {\n                el.style.top = \"\";\n                el.style.bottom = (screenHeight + scrollBarSize - dims.bottom) + \"px\";\n                popup.isTopdown = false;\n            }\n            else {\n                el.style.top = dims.top + \"px\";\n                el.style.bottom = \"\";\n                popup.isTopdown = true;\n            }\n            el.style.display = \"\";\n            var left = pos.left;\n            if (left + el.offsetWidth > screenWidth)\n                left = screenWidth - el.offsetWidth;\n            el.style.left = left + \"px\";\n            el.style.right = \"\";\n            if (!popup.isOpen) {\n                popup.isOpen = true;\n                this._signal(\"show\");\n                lastMouseEvent = null;\n            }\n            popup.anchorPos = pos;\n            popup.anchor = anchor;\n            return true;\n        };\n        popup.show = function (pos, lineHeight, topdownOnly) {\n            this.tryShow(pos, lineHeight, topdownOnly ? \"bottom\" : undefined, true);\n        };\n        popup.goTo = function (where) {\n            var row = this.getRow();\n            var max = this.session.getLength() - 1;\n            switch (where) {\n                case \"up\":\n                    row = row <= 0 ? max : row - 1;\n                    break;\n                case \"down\":\n                    row = row >= max ? -1 : row + 1;\n                    break;\n                case \"start\":\n                    row = 0;\n                    break;\n                case \"end\":\n                    row = max;\n                    break;\n            }\n            this.setRow(row);\n        };\n        popup.getTextLeftOffset = function () {\n            return this.$borderSize + this.renderer.$padding + this.$imageSize;\n        };\n        popup.$imageSize = 0;\n        popup.$borderSize = 1;\n        return popup;\n    }\n    return AcePopup;\n}());\ndom.importCssString(\"\\n.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {\\n    background-color: #CAD6FA;\\n    z-index: 1;\\n}\\n.ace_dark.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {\\n    background-color: #3a674e;\\n}\\n.ace_editor.ace_autocomplete .ace_line-hover {\\n    border: 1px solid #abbffe;\\n    margin-top: -1px;\\n    background: rgba(233,233,253,0.4);\\n    position: absolute;\\n    z-index: 2;\\n}\\n.ace_dark.ace_editor.ace_autocomplete .ace_line-hover {\\n    border: 1px solid rgba(109, 150, 13, 0.8);\\n    background: rgba(58, 103, 78, 0.62);\\n}\\n.ace_completion-meta {\\n    opacity: 0.5;\\n    margin-left: 0.9em;\\n}\\n.ace_completion-message {\\n    margin-left: 0.9em;\\n    color: blue;\\n}\\n.ace_editor.ace_autocomplete .ace_completion-highlight{\\n    color: #2d69c7;\\n}\\n.ace_dark.ace_editor.ace_autocomplete .ace_completion-highlight{\\n    color: #93ca12;\\n}\\n.ace_editor.ace_autocomplete {\\n    width: 300px;\\n    z-index: 200000;\\n    border: 1px lightgray solid;\\n    position: fixed;\\n    box-shadow: 2px 3px 5px rgba(0,0,0,.2);\\n    line-height: 1.4;\\n    background: #fefefe;\\n    color: #111;\\n}\\n.ace_dark.ace_editor.ace_autocomplete {\\n    border: 1px #484747 solid;\\n    box-shadow: 2px 3px 5px rgba(0, 0, 0, 0.51);\\n    line-height: 1.4;\\n    background: #25282c;\\n    color: #c1c1c1;\\n}\\n.ace_autocomplete .ace_text-layer  {\\n    width: calc(100% - 8px);\\n}\\n.ace_autocomplete .ace_line {\\n    display: flex;\\n    align-items: center;\\n}\\n.ace_autocomplete .ace_line > * {\\n    min-width: 0;\\n    flex: 0 0 auto;\\n}\\n.ace_autocomplete .ace_line .ace_ {\\n    flex: 0 1 auto;\\n    overflow: hidden;\\n    text-overflow: ellipsis;\\n}\\n.ace_autocomplete .ace_completion-spacer {\\n    flex: 1;\\n}\\n.ace_autocomplete.ace_loading:after  {\\n    content: \\\"\\\";\\n    position: absolute;\\n    top: 0px;\\n    height: 2px;\\n    width: 8%;\\n    background: blue;\\n    z-index: 100;\\n    animation: ace_progress 3s infinite linear;\\n    animation-delay: 300ms;\\n    transform: translateX(-100%) scaleX(1);\\n}\\n@keyframes ace_progress {\\n    0% { transform: translateX(-100%) scaleX(1) }\\n    50% { transform: translateX(625%) scaleX(2) } \\n    100% { transform: translateX(1500%) scaleX(3) } \\n}\\n@media (prefers-reduced-motion) {\\n    .ace_autocomplete.ace_loading:after {\\n        transform: translateX(625%) scaleX(2);\\n        animation: none;\\n     }\\n}\\n\", \"autocompletion.css\", false);\nexports.AcePopup = AcePopup;\nexports.$singleLineEditor = $singleLineEditor;\nexports.getAriaId = getAriaId;\n\n});\n\nace.define(\"ace/snippets\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\",\"ace/lib/oop\",\"ace/lib/event_emitter\",\"ace/lib/lang\",\"ace/range\",\"ace/range_list\",\"ace/keyboard/hash_handler\",\"ace/tokenizer\",\"ace/clipboard\",\"ace/editor\"], function(require, exports, module){\"use strict\";\nvar dom = require(\"./lib/dom\");\nvar oop = require(\"./lib/oop\");\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar lang = require(\"./lib/lang\");\nvar Range = require(\"./range\").Range;\nvar RangeList = require(\"./range_list\").RangeList;\nvar HashHandler = require(\"./keyboard/hash_handler\").HashHandler;\nvar Tokenizer = require(\"./tokenizer\").Tokenizer;\nvar clipboard = require(\"./clipboard\");\nvar VARIABLES = {\n    CURRENT_WORD: function (editor) {\n        return editor.session.getTextRange(editor.session.getWordRange());\n    },\n    SELECTION: function (editor, name, indentation) {\n        var text = editor.session.getTextRange();\n        if (indentation)\n            return text.replace(/\\n\\r?([ \\t]*\\S)/g, \"\\n\" + indentation + \"$1\");\n        return text;\n    },\n    CURRENT_LINE: function (editor) {\n        return editor.session.getLine(editor.getCursorPosition().row);\n    },\n    PREV_LINE: function (editor) {\n        return editor.session.getLine(editor.getCursorPosition().row - 1);\n    },\n    LINE_INDEX: function (editor) {\n        return editor.getCursorPosition().row;\n    },\n    LINE_NUMBER: function (editor) {\n        return editor.getCursorPosition().row + 1;\n    },\n    SOFT_TABS: function (editor) {\n        return editor.session.getUseSoftTabs() ? \"YES\" : \"NO\";\n    },\n    TAB_SIZE: function (editor) {\n        return editor.session.getTabSize();\n    },\n    CLIPBOARD: function (editor) {\n        return clipboard.getText && clipboard.getText();\n    },\n    FILENAME: function (editor) {\n        return /[^/\\\\]*$/.exec(this.FILEPATH(editor))[0];\n    },\n    FILENAME_BASE: function (editor) {\n        return /[^/\\\\]*$/.exec(this.FILEPATH(editor))[0].replace(/\\.[^.]*$/, \"\");\n    },\n    DIRECTORY: function (editor) {\n        return this.FILEPATH(editor).replace(/[^/\\\\]*$/, \"\");\n    },\n    FILEPATH: function (editor) { return \"/not implemented.txt\"; },\n    WORKSPACE_NAME: function () { return \"Unknown\"; },\n    FULLNAME: function () { return \"Unknown\"; },\n    BLOCK_COMMENT_START: function (editor) {\n        var mode = editor.session.$mode || {};\n        return mode.blockComment && mode.blockComment.start || \"\";\n    },\n    BLOCK_COMMENT_END: function (editor) {\n        var mode = editor.session.$mode || {};\n        return mode.blockComment && mode.blockComment.end || \"\";\n    },\n    LINE_COMMENT: function (editor) {\n        var mode = editor.session.$mode || {};\n        return mode.lineCommentStart || \"\";\n    },\n    CURRENT_YEAR: date.bind(null, { year: \"numeric\" }),\n    CURRENT_YEAR_SHORT: date.bind(null, { year: \"2-digit\" }),\n    CURRENT_MONTH: date.bind(null, { month: \"numeric\" }),\n    CURRENT_MONTH_NAME: date.bind(null, { month: \"long\" }),\n    CURRENT_MONTH_NAME_SHORT: date.bind(null, { month: \"short\" }),\n    CURRENT_DATE: date.bind(null, { day: \"2-digit\" }),\n    CURRENT_DAY_NAME: date.bind(null, { weekday: \"long\" }),\n    CURRENT_DAY_NAME_SHORT: date.bind(null, { weekday: \"short\" }),\n    CURRENT_HOUR: date.bind(null, { hour: \"2-digit\", hour12: false }),\n    CURRENT_MINUTE: date.bind(null, { minute: \"2-digit\" }),\n    CURRENT_SECOND: date.bind(null, { second: \"2-digit\" })\n};\nVARIABLES.SELECTED_TEXT = VARIABLES.SELECTION;\nfunction date(dateFormat) {\n    var str = new Date().toLocaleString(\"en-us\", dateFormat);\n    return str.length == 1 ? \"0\" + str : str;\n}\nvar SnippetManager = /** @class */ (function () {\n    function SnippetManager() {\n        this.snippetMap = {};\n        this.snippetNameMap = {};\n        this.variables = VARIABLES;\n    }\n    SnippetManager.prototype.getTokenizer = function () {\n        return SnippetManager[\"$tokenizer\"] || this.createTokenizer();\n    };\n    SnippetManager.prototype.createTokenizer = function () {\n        function TabstopToken(str) {\n            str = str.substr(1);\n            if (/^\\d+$/.test(str))\n                return [{ tabstopId: parseInt(str, 10) }];\n            return [{ text: str }];\n        }\n        function escape(ch) {\n            return \"(?:[^\\\\\\\\\" + ch + \"]|\\\\\\\\.)\";\n        }\n        var formatMatcher = {\n            regex: \"/(\" + escape(\"/\") + \"+)/\",\n            onMatch: function (val, state, stack) {\n                var ts = stack[0];\n                ts.fmtString = true;\n                ts.guard = val.slice(1, -1);\n                ts.flag = \"\";\n                return \"\";\n            },\n            next: \"formatString\"\n        };\n        SnippetManager[\"$tokenizer\"] = new Tokenizer({\n            start: [\n                { regex: /\\\\./, onMatch: function (val, state, stack) {\n                        var ch = val[1];\n                        if (ch == \"}\" && stack.length) {\n                            val = ch;\n                        }\n                        else if (\"`$\\\\\".indexOf(ch) != -1) {\n                            val = ch;\n                        }\n                        return [val];\n                    } },\n                { regex: /}/, onMatch: function (val, state, stack) {\n                        return [stack.length ? stack.shift() : val];\n                    } },\n                { regex: /\\$(?:\\d+|\\w+)/, onMatch: TabstopToken },\n                { regex: /\\$\\{[\\dA-Z_a-z]+/, onMatch: function (str, state, stack) {\n                        var t = TabstopToken(str.substr(1));\n                        stack.unshift(t[0]);\n                        return t;\n                    }, next: \"snippetVar\" },\n                { regex: /\\n/, token: \"newline\", merge: false }\n            ],\n            snippetVar: [\n                { regex: \"\\\\|\" + escape(\"\\\\|\") + \"*\\\\|\", onMatch: function (val, state, stack) {\n                        var choices = val.slice(1, -1).replace(/\\\\[,|\\\\]|,/g, function (operator) {\n                            return operator.length == 2 ? operator[1] : \"\\x00\";\n                        }).split(\"\\x00\").map(function (value) {\n                            return { value: value };\n                        });\n                        stack[0].choices = choices;\n                        return [choices[0]];\n                    }, next: \"start\" },\n                formatMatcher,\n                { regex: \"([^:}\\\\\\\\]|\\\\\\\\.)*:?\", token: \"\", next: \"start\" }\n            ],\n            formatString: [\n                { regex: /:/, onMatch: function (val, state, stack) {\n                        if (stack.length && stack[0].expectElse) {\n                            stack[0].expectElse = false;\n                            stack[0].ifEnd = { elseEnd: stack[0] };\n                            return [stack[0].ifEnd];\n                        }\n                        return \":\";\n                    } },\n                { regex: /\\\\./, onMatch: function (val, state, stack) {\n                        var ch = val[1];\n                        if (ch == \"}\" && stack.length)\n                            val = ch;\n                        else if (\"`$\\\\\".indexOf(ch) != -1)\n                            val = ch;\n                        else if (ch == \"n\")\n                            val = \"\\n\";\n                        else if (ch == \"t\")\n                            val = \"\\t\";\n                        else if (\"ulULE\".indexOf(ch) != -1)\n                            val = { changeCase: ch, local: ch > \"a\" };\n                        return [val];\n                    } },\n                { regex: \"/\\\\w*}\", onMatch: function (val, state, stack) {\n                        var next = stack.shift();\n                        if (next)\n                            next.flag = val.slice(1, -1);\n                        this.next = next && next.tabstopId ? \"start\" : \"\";\n                        return [next || val];\n                    }, next: \"start\" },\n                { regex: /\\$(?:\\d+|\\w+)/, onMatch: function (val, state, stack) {\n                        return [{ text: val.slice(1) }];\n                    } },\n                { regex: /\\${\\w+/, onMatch: function (val, state, stack) {\n                        var token = { text: val.slice(2) };\n                        stack.unshift(token);\n                        return [token];\n                    }, next: \"formatStringVar\" },\n                { regex: /\\n/, token: \"newline\", merge: false },\n                { regex: /}/, onMatch: function (val, state, stack) {\n                        var next = stack.shift();\n                        this.next = next && next.tabstopId ? \"start\" : \"\";\n                        return [next || val];\n                    }, next: \"start\" }\n            ],\n            formatStringVar: [\n                { regex: /:\\/\\w+}/, onMatch: function (val, state, stack) {\n                        var ts = stack[0];\n                        ts.formatFunction = val.slice(2, -1);\n                        return [stack.shift()];\n                    }, next: \"formatString\" },\n                formatMatcher,\n                { regex: /:[\\?\\-+]?/, onMatch: function (val, state, stack) {\n                        if (val[1] == \"+\")\n                            stack[0].ifEnd = stack[0];\n                        if (val[1] == \"?\")\n                            stack[0].expectElse = true;\n                    }, next: \"formatString\" },\n                { regex: \"([^:}\\\\\\\\]|\\\\\\\\.)*:?\", token: \"\", next: \"formatString\" }\n            ]\n        });\n        return SnippetManager[\"$tokenizer\"];\n    };\n    SnippetManager.prototype.tokenizeTmSnippet = function (str, startState) {\n        return this.getTokenizer().getLineTokens(str, startState).tokens.map(function (x) {\n            return x.value || x;\n        });\n    };\n    SnippetManager.prototype.getVariableValue = function (editor, name, indentation) {\n        if (/^\\d+$/.test(name))\n            return (this.variables.__ || {})[name] || \"\";\n        if (/^[A-Z]\\d+$/.test(name))\n            return (this.variables[name[0] + \"__\"] || {})[name.substr(1)] || \"\";\n        name = name.replace(/^TM_/, \"\");\n        if (!this.variables.hasOwnProperty(name))\n            return \"\";\n        var value = this.variables[name];\n        if (typeof value == \"function\")\n            value = this.variables[name](editor, name, indentation);\n        return value == null ? \"\" : value;\n    };\n    SnippetManager.prototype.tmStrFormat = function (str, ch, editor) {\n        if (!ch.fmt)\n            return str;\n        var flag = ch.flag || \"\";\n        var re = ch.guard;\n        re = new RegExp(re, flag.replace(/[^gim]/g, \"\"));\n        var fmtTokens = typeof ch.fmt == \"string\" ? this.tokenizeTmSnippet(ch.fmt, \"formatString\") : ch.fmt;\n        var _self = this;\n        var formatted = str.replace(re, function () {\n            var oldArgs = _self.variables.__;\n            _self.variables.__ = [].slice.call(arguments);\n            var fmtParts = _self.resolveVariables(fmtTokens, editor);\n            var gChangeCase = \"E\";\n            for (var i = 0; i < fmtParts.length; i++) {\n                var ch = fmtParts[i];\n                if (typeof ch == \"object\") {\n                    fmtParts[i] = \"\";\n                    if (ch.changeCase && ch.local) {\n                        var next = fmtParts[i + 1];\n                        if (next && typeof next == \"string\") {\n                            if (ch.changeCase == \"u\")\n                                fmtParts[i] = next[0].toUpperCase();\n                            else\n                                fmtParts[i] = next[0].toLowerCase();\n                            fmtParts[i + 1] = next.substr(1);\n                        }\n                    }\n                    else if (ch.changeCase) {\n                        gChangeCase = ch.changeCase;\n                    }\n                }\n                else if (gChangeCase == \"U\") {\n                    fmtParts[i] = ch.toUpperCase();\n                }\n                else if (gChangeCase == \"L\") {\n                    fmtParts[i] = ch.toLowerCase();\n                }\n            }\n            _self.variables.__ = oldArgs;\n            return fmtParts.join(\"\");\n        });\n        return formatted;\n    };\n    SnippetManager.prototype.tmFormatFunction = function (str, ch, editor) {\n        if (ch.formatFunction == \"upcase\")\n            return str.toUpperCase();\n        if (ch.formatFunction == \"downcase\")\n            return str.toLowerCase();\n        return str;\n    };\n    SnippetManager.prototype.resolveVariables = function (snippet, editor) {\n        var result = [];\n        var indentation = \"\";\n        var afterNewLine = true;\n        for (var i = 0; i < snippet.length; i++) {\n            var ch = snippet[i];\n            if (typeof ch == \"string\") {\n                result.push(ch);\n                if (ch == \"\\n\") {\n                    afterNewLine = true;\n                    indentation = \"\";\n                }\n                else if (afterNewLine) {\n                    indentation = /^\\t*/.exec(ch)[0];\n                    afterNewLine = /\\S/.test(ch);\n                }\n                continue;\n            }\n            if (!ch)\n                continue;\n            afterNewLine = false;\n            if (ch.fmtString) {\n                var j = snippet.indexOf(ch, i + 1);\n                if (j == -1)\n                    j = snippet.length;\n                ch.fmt = snippet.slice(i + 1, j);\n                i = j;\n            }\n            if (ch.text) {\n                var value = this.getVariableValue(editor, ch.text, indentation) + \"\";\n                if (ch.fmtString)\n                    value = this.tmStrFormat(value, ch, editor);\n                if (ch.formatFunction)\n                    value = this.tmFormatFunction(value, ch, editor);\n                if (value && !ch.ifEnd) {\n                    result.push(value);\n                    gotoNext(ch);\n                }\n                else if (!value && ch.ifEnd) {\n                    gotoNext(ch.ifEnd);\n                }\n            }\n            else if (ch.elseEnd) {\n                gotoNext(ch.elseEnd);\n            }\n            else if (ch.tabstopId != null) {\n                result.push(ch);\n            }\n            else if (ch.changeCase != null) {\n                result.push(ch);\n            }\n        }\n        function gotoNext(ch) {\n            var i1 = snippet.indexOf(ch, i + 1);\n            if (i1 != -1)\n                i = i1;\n        }\n        return result;\n    };\n    SnippetManager.prototype.getDisplayTextForSnippet = function (editor, snippetText) {\n        var processedSnippet = processSnippetText.call(this, editor, snippetText);\n        return processedSnippet.text;\n    };\n    SnippetManager.prototype.insertSnippetForSelection = function (editor, snippetText, options) {\n        if (options === void 0) { options = {}; }\n        var processedSnippet = processSnippetText.call(this, editor, snippetText, options);\n        var range = editor.getSelectionRange();\n        var end = editor.session.replace(range, processedSnippet.text);\n        var tabstopManager = new TabstopManager(editor);\n        var selectionId = editor.inVirtualSelectionMode && editor.selection.index;\n        tabstopManager.addTabstops(processedSnippet.tabstops, range.start, end, selectionId);\n    };\n    SnippetManager.prototype.insertSnippet = function (editor, snippetText, options) {\n        if (options === void 0) { options = {}; }\n        var self = this;\n        if (editor.inVirtualSelectionMode)\n            return self.insertSnippetForSelection(editor, snippetText, options);\n        editor.forEachSelection(function () {\n            self.insertSnippetForSelection(editor, snippetText, options);\n        }, null, { keepOrder: true });\n        if (editor.tabstopManager)\n            editor.tabstopManager.tabNext();\n    };\n    SnippetManager.prototype.$getScope = function (editor) {\n        var scope = editor.session.$mode.$id || \"\";\n        scope = scope.split(\"/\").pop();\n        if (scope === \"html\" || scope === \"php\") {\n            if (scope === \"php\" && !editor.session.$mode.inlinePhp)\n                scope = \"html\";\n            var c = editor.getCursorPosition();\n            var state = editor.session.getState(c.row);\n            if (typeof state === \"object\") {\n                state = state[0];\n            }\n            if (state.substring) {\n                if (state.substring(0, 3) == \"js-\")\n                    scope = \"javascript\";\n                else if (state.substring(0, 4) == \"css-\")\n                    scope = \"css\";\n                else if (state.substring(0, 4) == \"php-\")\n                    scope = \"php\";\n            }\n        }\n        return scope;\n    };\n    SnippetManager.prototype.getActiveScopes = function (editor) {\n        var scope = this.$getScope(editor);\n        var scopes = [scope];\n        var snippetMap = this.snippetMap;\n        if (snippetMap[scope] && snippetMap[scope].includeScopes) {\n            scopes.push.apply(scopes, snippetMap[scope].includeScopes);\n        }\n        scopes.push(\"_\");\n        return scopes;\n    };\n    SnippetManager.prototype.expandWithTab = function (editor, options) {\n        var self = this;\n        var result = editor.forEachSelection(function () {\n            return self.expandSnippetForSelection(editor, options);\n        }, null, { keepOrder: true });\n        if (result && editor.tabstopManager)\n            editor.tabstopManager.tabNext();\n        return result;\n    };\n    SnippetManager.prototype.expandSnippetForSelection = function (editor, options) {\n        var cursor = editor.getCursorPosition();\n        var line = editor.session.getLine(cursor.row);\n        var before = line.substring(0, cursor.column);\n        var after = line.substr(cursor.column);\n        var snippetMap = this.snippetMap;\n        var snippet;\n        this.getActiveScopes(editor).some(function (scope) {\n            var snippets = snippetMap[scope];\n            if (snippets)\n                snippet = this.findMatchingSnippet(snippets, before, after);\n            return !!snippet;\n        }, this);\n        if (!snippet)\n            return false;\n        if (options && options.dryRun)\n            return true;\n        editor.session.doc.removeInLine(cursor.row, cursor.column - snippet.replaceBefore.length, cursor.column + snippet.replaceAfter.length);\n        this.variables.M__ = snippet.matchBefore;\n        this.variables.T__ = snippet.matchAfter;\n        this.insertSnippetForSelection(editor, snippet.content);\n        this.variables.M__ = this.variables.T__ = null;\n        return true;\n    };\n    SnippetManager.prototype.findMatchingSnippet = function (snippetList, before, after) {\n        for (var i = snippetList.length; i--;) {\n            var s = snippetList[i];\n            if (s.startRe && !s.startRe.test(before))\n                continue;\n            if (s.endRe && !s.endRe.test(after))\n                continue;\n            if (!s.startRe && !s.endRe)\n                continue;\n            s.matchBefore = s.startRe ? s.startRe.exec(before) : [\"\"];\n            s.matchAfter = s.endRe ? s.endRe.exec(after) : [\"\"];\n            s.replaceBefore = s.triggerRe ? s.triggerRe.exec(before)[0] : \"\";\n            s.replaceAfter = s.endTriggerRe ? s.endTriggerRe.exec(after)[0] : \"\";\n            return s;\n        }\n    };\n    SnippetManager.prototype.register = function (snippets, scope) {\n        var snippetMap = this.snippetMap;\n        var snippetNameMap = this.snippetNameMap;\n        var self = this;\n        if (!snippets)\n            snippets = [];\n        function wrapRegexp(src) {\n            if (src && !/^\\^?\\(.*\\)\\$?$|^\\\\b$/.test(src))\n                src = \"(?:\" + src + \")\";\n            return src || \"\";\n        }\n        function guardedRegexp(re, guard, opening) {\n            re = wrapRegexp(re);\n            guard = wrapRegexp(guard);\n            if (opening) {\n                re = guard + re;\n                if (re && re[re.length - 1] != \"$\")\n                    re = re + \"$\";\n            }\n            else {\n                re = re + guard;\n                if (re && re[0] != \"^\")\n                    re = \"^\" + re;\n            }\n            return new RegExp(re);\n        }\n        function addSnippet(s) {\n            if (!s.scope)\n                s.scope = scope || \"_\";\n            scope = s.scope;\n            if (!snippetMap[scope]) {\n                snippetMap[scope] = [];\n                snippetNameMap[scope] = {};\n            }\n            var map = snippetNameMap[scope];\n            if (s.name) {\n                var old = map[s.name];\n                if (old)\n                    self.unregister(old);\n                map[s.name] = s;\n            }\n            snippetMap[scope].push(s);\n            if (s.prefix)\n                s.tabTrigger = s.prefix;\n            if (!s.content && s.body)\n                s.content = Array.isArray(s.body) ? s.body.join(\"\\n\") : s.body;\n            if (s.tabTrigger && !s.trigger) {\n                if (!s.guard && /^\\w/.test(s.tabTrigger))\n                    s.guard = \"\\\\b\";\n                s.trigger = lang.escapeRegExp(s.tabTrigger);\n            }\n            if (!s.trigger && !s.guard && !s.endTrigger && !s.endGuard)\n                return;\n            s.startRe = guardedRegexp(s.trigger, s.guard, true);\n            s.triggerRe = new RegExp(s.trigger);\n            s.endRe = guardedRegexp(s.endTrigger, s.endGuard, true);\n            s.endTriggerRe = new RegExp(s.endTrigger);\n        }\n        if (Array.isArray(snippets)) {\n            snippets.forEach(addSnippet);\n        }\n        else {\n            Object.keys(snippets).forEach(function (key) {\n                addSnippet(snippets[key]);\n            });\n        }\n        this._signal(\"registerSnippets\", { scope: scope });\n    };\n    SnippetManager.prototype.unregister = function (snippets, scope) {\n        var snippetMap = this.snippetMap;\n        var snippetNameMap = this.snippetNameMap;\n        function removeSnippet(s) {\n            var nameMap = snippetNameMap[s.scope || scope];\n            if (nameMap && nameMap[s.name]) {\n                delete nameMap[s.name];\n                var map = snippetMap[s.scope || scope];\n                var i = map && map.indexOf(s);\n                if (i >= 0)\n                    map.splice(i, 1);\n            }\n        }\n        if (snippets.content)\n            removeSnippet(snippets);\n        else if (Array.isArray(snippets))\n            snippets.forEach(removeSnippet);\n    };\n    SnippetManager.prototype.parseSnippetFile = function (str) {\n        str = str.replace(/\\r/g, \"\");\n        var list = [], /**@type{Snippet}*/ snippet = {};\n        var re = /^#.*|^({[\\s\\S]*})\\s*$|^(\\S+) (.*)$|^((?:\\n*\\t.*)+)/gm;\n        var m;\n        while (m = re.exec(str)) {\n            if (m[1]) {\n                try {\n                    snippet = JSON.parse(m[1]);\n                    list.push(snippet);\n                }\n                catch (e) { }\n            }\n            if (m[4]) {\n                snippet.content = m[4].replace(/^\\t/gm, \"\");\n                list.push(snippet);\n                snippet = {};\n            }\n            else {\n                var key = m[2], val = m[3];\n                if (key == \"regex\") {\n                    var guardRe = /\\/((?:[^\\/\\\\]|\\\\.)*)|$/g;\n                    snippet.guard = guardRe.exec(val)[1];\n                    snippet.trigger = guardRe.exec(val)[1];\n                    snippet.endTrigger = guardRe.exec(val)[1];\n                    snippet.endGuard = guardRe.exec(val)[1];\n                }\n                else if (key == \"snippet\") {\n                    snippet.tabTrigger = val.match(/^\\S*/)[0];\n                    if (!snippet.name)\n                        snippet.name = val;\n                }\n                else if (key) {\n                    snippet[key] = val;\n                }\n            }\n        }\n        return list;\n    };\n    SnippetManager.prototype.getSnippetByName = function (name, editor) {\n        var snippetMap = this.snippetNameMap;\n        var snippet;\n        this.getActiveScopes(editor).some(function (scope) {\n            var snippets = snippetMap[scope];\n            if (snippets)\n                snippet = snippets[name];\n            return !!snippet;\n        }, this);\n        return snippet;\n    };\n    return SnippetManager;\n}());\noop.implement(SnippetManager.prototype, EventEmitter);\nvar processSnippetText = function (editor, snippetText, options) {\n    if (options === void 0) { options = {}; }\n    var cursor = editor.getCursorPosition();\n    var line = editor.session.getLine(cursor.row);\n    var tabString = editor.session.getTabString();\n    var indentString = line.match(/^\\s*/)[0];\n    if (cursor.column < indentString.length)\n        indentString = indentString.slice(0, cursor.column);\n    snippetText = snippetText.replace(/\\r/g, \"\");\n    var tokens = this.tokenizeTmSnippet(snippetText);\n    tokens = this.resolveVariables(tokens, editor);\n    tokens = tokens.map(function (x) {\n        if (x == \"\\n\" && !options.excludeExtraIndent)\n            return x + indentString;\n        if (typeof x == \"string\")\n            return x.replace(/\\t/g, tabString);\n        return x;\n    });\n    var tabstops = [];\n    tokens.forEach(function (p, i) {\n        if (typeof p != \"object\")\n            return;\n        var id = p.tabstopId;\n        var ts = tabstops[id];\n        if (!ts) {\n            ts = tabstops[id] = [];\n            ts.index = id;\n            ts.value = \"\";\n            ts.parents = {};\n        }\n        if (ts.indexOf(p) !== -1)\n            return;\n        if (p.choices && !ts.choices)\n            ts.choices = p.choices;\n        ts.push(p);\n        var i1 = tokens.indexOf(p, i + 1);\n        if (i1 === -1)\n            return;\n        var value = tokens.slice(i + 1, i1);\n        var isNested = value.some(function (t) { return typeof t === \"object\"; });\n        if (isNested && !ts.value) {\n            ts.value = value;\n        }\n        else if (value.length && (!ts.value || typeof ts.value !== \"string\")) {\n            ts.value = value.join(\"\");\n        }\n    });\n    tabstops.forEach(function (ts) { ts.length = 0; });\n    var expanding = {};\n    function copyValue(val) {\n        var copy = [];\n        for (var i = 0; i < val.length; i++) {\n            var p = val[i];\n            if (typeof p == \"object\") {\n                if (expanding[p.tabstopId])\n                    continue;\n                var j = val.lastIndexOf(p, i - 1);\n                p = copy[j] || { tabstopId: p.tabstopId };\n            }\n            copy[i] = p;\n        }\n        return copy;\n    }\n    for (var i = 0; i < tokens.length; i++) {\n        var p = tokens[i];\n        if (typeof p != \"object\")\n            continue;\n        var id = p.tabstopId;\n        var ts = tabstops[id];\n        var i1 = tokens.indexOf(p, i + 1);\n        if (expanding[id]) {\n            if (expanding[id] === p) {\n                delete expanding[id];\n                Object.keys(expanding).forEach(function (parentId) {\n                    ts.parents[parentId] = true;\n                });\n            }\n            continue;\n        }\n        expanding[id] = p;\n        var value = ts.value;\n        if (typeof value !== \"string\")\n            value = copyValue(value);\n        else if (p.fmt)\n            value = this.tmStrFormat(value, p, editor);\n        tokens.splice.apply(tokens, [i + 1, Math.max(0, i1 - i)].concat(value, p));\n        if (ts.indexOf(p) === -1)\n            ts.push(p);\n    }\n    var row = 0, column = 0;\n    var text = \"\";\n    tokens.forEach(function (t) {\n        if (typeof t === \"string\") {\n            var lines = t.split(\"\\n\");\n            if (lines.length > 1) {\n                column = lines[lines.length - 1].length;\n                row += lines.length - 1;\n            }\n            else\n                column += t.length;\n            text += t;\n        }\n        else if (t) {\n            if (!t.start)\n                t.start = { row: row, column: column };\n            else\n                t.end = { row: row, column: column };\n        }\n    });\n    return {\n        text: text,\n        tabstops: tabstops,\n        tokens: tokens\n    };\n};\nvar TabstopManager = /** @class */ (function () {\n    function TabstopManager(editor) {\n        this.index = 0;\n        this.ranges = [];\n        this.tabstops = [];\n        if (editor.tabstopManager)\n            return editor.tabstopManager;\n        editor.tabstopManager = this;\n        this.$onChange = this.onChange.bind(this);\n        this.$onChangeSelection = lang.delayedCall(this.onChangeSelection.bind(this)).schedule;\n        this.$onChangeSession = this.onChangeSession.bind(this);\n        this.$onAfterExec = this.onAfterExec.bind(this);\n        this.attach(editor);\n    }\n    TabstopManager.prototype.attach = function (editor) {\n        this.$openTabstops = null;\n        this.selectedTabstop = null;\n        this.editor = editor;\n        this.session = editor.session;\n        this.editor.on(\"change\", this.$onChange);\n        this.editor.on(\"changeSelection\", this.$onChangeSelection);\n        this.editor.on(\"changeSession\", this.$onChangeSession);\n        this.editor.commands.on(\"afterExec\", this.$onAfterExec);\n        this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler);\n    };\n    TabstopManager.prototype.detach = function () {\n        this.tabstops.forEach(this.removeTabstopMarkers, this);\n        this.ranges.length = 0;\n        this.tabstops.length = 0;\n        this.selectedTabstop = null;\n        this.editor.off(\"change\", this.$onChange);\n        this.editor.off(\"changeSelection\", this.$onChangeSelection);\n        this.editor.off(\"changeSession\", this.$onChangeSession);\n        this.editor.commands.off(\"afterExec\", this.$onAfterExec);\n        this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler);\n        this.editor.tabstopManager = null;\n        this.session = null;\n        this.editor = null;\n    };\n    TabstopManager.prototype.onChange = function (delta) {\n        var isRemove = delta.action[0] == \"r\";\n        var selectedTabstop = this.selectedTabstop || {};\n        var parents = selectedTabstop.parents || {};\n        var tabstops = this.tabstops.slice();\n        for (var i = 0; i < tabstops.length; i++) {\n            var ts = tabstops[i];\n            var active = ts == selectedTabstop || parents[ts.index];\n            ts.rangeList.$bias = active ? 0 : 1;\n            if (delta.action == \"remove\" && ts !== selectedTabstop) {\n                var parentActive = ts.parents && ts.parents[selectedTabstop.index];\n                var startIndex = ts.rangeList.pointIndex(delta.start, parentActive);\n                startIndex = startIndex < 0 ? -startIndex - 1 : startIndex + 1;\n                var endIndex = ts.rangeList.pointIndex(delta.end, parentActive);\n                endIndex = endIndex < 0 ? -endIndex - 1 : endIndex - 1;\n                var toRemove = ts.rangeList.ranges.slice(startIndex, endIndex);\n                for (var j = 0; j < toRemove.length; j++)\n                    this.removeRange(toRemove[j]);\n            }\n            ts.rangeList.$onChange(delta);\n        }\n        var session = this.session;\n        if (!this.$inChange && isRemove && session.getLength() == 1 && !session.getValue())\n            this.detach();\n    };\n    TabstopManager.prototype.updateLinkedFields = function () {\n        var ts = this.selectedTabstop;\n        if (!ts || !ts.hasLinkedRanges || !ts.firstNonLinked)\n            return;\n        this.$inChange = true;\n        var session = this.session;\n        var text = session.getTextRange(ts.firstNonLinked);\n        for (var i = 0; i < ts.length; i++) {\n            var range = ts[i];\n            if (!range.linked)\n                continue;\n            var original = range.original;\n            var fmt = exports.snippetManager.tmStrFormat(text, original, this.editor);\n            session.replace(range, fmt);\n        }\n        this.$inChange = false;\n    };\n    TabstopManager.prototype.onAfterExec = function (e) {\n        if (e.command && !e.command.readOnly)\n            this.updateLinkedFields();\n    };\n    TabstopManager.prototype.onChangeSelection = function () {\n        if (!this.editor)\n            return;\n        var lead = this.editor.selection.lead;\n        var anchor = this.editor.selection.anchor;\n        var isEmpty = this.editor.selection.isEmpty();\n        for (var i = 0; i < this.ranges.length; i++) {\n            if (this.ranges[i].linked)\n                continue;\n            var containsLead = this.ranges[i].contains(lead.row, lead.column);\n            var containsAnchor = isEmpty || this.ranges[i].contains(anchor.row, anchor.column);\n            if (containsLead && containsAnchor)\n                return;\n        }\n        this.detach();\n    };\n    TabstopManager.prototype.onChangeSession = function () {\n        this.detach();\n    };\n    TabstopManager.prototype.tabNext = function (dir) {\n        var max = this.tabstops.length;\n        var index = this.index + (dir || 1);\n        index = Math.min(Math.max(index, 1), max);\n        if (index == max)\n            index = 0;\n        this.selectTabstop(index);\n        this.updateTabstopMarkers();\n        if (index === 0) {\n            this.detach();\n        }\n    };\n    TabstopManager.prototype.selectTabstop = function (index) {\n        this.$openTabstops = null;\n        var ts = this.tabstops[this.index];\n        if (ts)\n            this.addTabstopMarkers(ts);\n        this.index = index;\n        ts = this.tabstops[this.index];\n        if (!ts || !ts.length)\n            return;\n        this.selectedTabstop = ts;\n        var range = ts.firstNonLinked || ts;\n        if (ts.choices)\n            range.cursor = range.start;\n        if (!this.editor.inVirtualSelectionMode) {\n            var sel = this.editor.multiSelect;\n            sel.toSingleRange(range);\n            for (var i = 0; i < ts.length; i++) {\n                if (ts.hasLinkedRanges && ts[i].linked)\n                    continue;\n                sel.addRange(ts[i].clone(), true);\n            }\n        }\n        else {\n            this.editor.selection.fromOrientedRange(range);\n        }\n        this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler);\n        if (this.selectedTabstop && this.selectedTabstop.choices)\n            this.editor.execCommand(\"startAutocomplete\", { matches: this.selectedTabstop.choices });\n    };\n    TabstopManager.prototype.addTabstops = function (tabstops, start, end) {\n        var useLink = this.useLink || !this.editor.getOption(\"enableMultiselect\");\n        if (!this.$openTabstops)\n            this.$openTabstops = [];\n        if (!tabstops[0]) {\n            var p = Range.fromPoints(end, end);\n            moveRelative(p.start, start);\n            moveRelative(p.end, start);\n            tabstops[0] = [p];\n            tabstops[0].index = 0;\n        }\n        var i = this.index;\n        var arg = [i + 1, 0];\n        var ranges = this.ranges;\n        var snippetId = this.snippetId = (this.snippetId || 0) + 1;\n        tabstops.forEach(function (ts, index) {\n            var dest = this.$openTabstops[index] || ts;\n            dest.snippetId = snippetId;\n            for (var i = 0; i < ts.length; i++) {\n                var p = ts[i];\n                var range = Range.fromPoints(p.start, p.end || p.start);\n                movePoint(range.start, start);\n                movePoint(range.end, start);\n                range.original = p;\n                range.tabstop = dest;\n                ranges.push(range);\n                if (dest != ts)\n                    dest.unshift(range);\n                else\n                    dest[i] = range;\n                if (p.fmtString || (dest.firstNonLinked && useLink)) {\n                    range.linked = true;\n                    dest.hasLinkedRanges = true;\n                }\n                else if (!dest.firstNonLinked)\n                    dest.firstNonLinked = range;\n            }\n            if (!dest.firstNonLinked)\n                dest.hasLinkedRanges = false;\n            if (dest === ts) {\n                arg.push(dest);\n                this.$openTabstops[index] = dest;\n            }\n            this.addTabstopMarkers(dest);\n            dest.rangeList = dest.rangeList || new RangeList();\n            dest.rangeList.$bias = 0;\n            dest.rangeList.addList(dest);\n        }, this);\n        if (arg.length > 2) {\n            if (this.tabstops.length)\n                arg.push(arg.splice(2, 1)[0]);\n            this.tabstops.splice.apply(this.tabstops, arg);\n        }\n    };\n    TabstopManager.prototype.addTabstopMarkers = function (ts) {\n        var session = this.session;\n        ts.forEach(function (range) {\n            if (!range.markerId)\n                range.markerId = session.addMarker(range, \"ace_snippet-marker\", \"text\");\n        });\n    };\n    TabstopManager.prototype.removeTabstopMarkers = function (ts) {\n        var session = this.session;\n        ts.forEach(function (range) {\n            session.removeMarker(range.markerId);\n            range.markerId = null;\n        });\n    };\n    TabstopManager.prototype.updateTabstopMarkers = function () {\n        if (!this.selectedTabstop)\n            return;\n        var currentSnippetId = this.selectedTabstop.snippetId;\n        if (this.selectedTabstop.index === 0) {\n            currentSnippetId--;\n        }\n        this.tabstops.forEach(function (ts) {\n            if (ts.snippetId === currentSnippetId)\n                this.addTabstopMarkers(ts);\n            else\n                this.removeTabstopMarkers(ts);\n        }, this);\n    };\n    TabstopManager.prototype.removeRange = function (range) {\n        var i = range.tabstop.indexOf(range);\n        if (i != -1)\n            range.tabstop.splice(i, 1);\n        i = this.ranges.indexOf(range);\n        if (i != -1)\n            this.ranges.splice(i, 1);\n        i = range.tabstop.rangeList.ranges.indexOf(range);\n        if (i != -1)\n            range.tabstop.splice(i, 1);\n        this.session.removeMarker(range.markerId);\n        if (!range.tabstop.length) {\n            i = this.tabstops.indexOf(range.tabstop);\n            if (i != -1)\n                this.tabstops.splice(i, 1);\n            if (!this.tabstops.length)\n                this.detach();\n        }\n    };\n    return TabstopManager;\n}());\nTabstopManager.prototype.keyboardHandler = new HashHandler();\nTabstopManager.prototype.keyboardHandler.bindKeys({\n    \"Tab\": function (editor) {\n        if (exports.snippetManager && exports.snippetManager.expandWithTab(editor))\n            return;\n        editor.tabstopManager.tabNext(1);\n        editor.renderer.scrollCursorIntoView();\n    },\n    \"Shift-Tab\": function (editor) {\n        editor.tabstopManager.tabNext(-1);\n        editor.renderer.scrollCursorIntoView();\n    },\n    \"Esc\": function (editor) {\n        editor.tabstopManager.detach();\n    }\n});\nvar movePoint = function (point, diff) {\n    if (point.row == 0)\n        point.column += diff.column;\n    point.row += diff.row;\n};\nvar moveRelative = function (point, start) {\n    if (point.row == start.row)\n        point.column -= start.column;\n    point.row -= start.row;\n};\ndom.importCssString(\"\\n.ace_snippet-marker {\\n    -moz-box-sizing: border-box;\\n    box-sizing: border-box;\\n    background: rgba(194, 193, 208, 0.09);\\n    border: 1px dotted rgba(211, 208, 235, 0.62);\\n    position: absolute;\\n}\", \"snippets.css\", false);\nexports.snippetManager = new SnippetManager();\nvar Editor = require(\"./editor\").Editor;\n(function () {\n    this.insertSnippet = function (content, options) {\n        return exports.snippetManager.insertSnippet(this, content, options);\n    };\n    this.expandSnippet = function (options) {\n        return exports.snippetManager.expandWithTab(this, options);\n    };\n}).call(Editor.prototype);\n\n});\n\nace.define(\"ace/autocomplete/inline_screenreader\",[\"require\",\"exports\",\"module\"], function(require, exports, module){\"use strict\";\nvar AceInlineScreenReader = /** @class */ (function () {\n    function AceInlineScreenReader(editor) {\n        this.editor = editor;\n        this.screenReaderDiv = document.createElement(\"div\");\n        this.screenReaderDiv.classList.add(\"ace_screenreader-only\");\n        this.editor.container.appendChild(this.screenReaderDiv);\n    }\n    AceInlineScreenReader.prototype.setScreenReaderContent = function (content) {\n        if (!this.popup && this.editor.completer && /**@type{import(\"../autocomplete\").Autocomplete}*/ (this.editor.completer).popup) {\n            this.popup = /**@type{import(\"../autocomplete\").Autocomplete}*/ (this.editor.completer).popup;\n            this.popup.renderer.on(\"afterRender\", function () {\n                var row = this.popup.getRow();\n                var t = this.popup.renderer.$textLayer;\n                var selected = t.element.childNodes[row - t.config.firstRow];\n                if (selected) {\n                    var idString = \"doc-tooltip \";\n                    for (var lineIndex = 0; lineIndex < this._lines.length; lineIndex++) {\n                        idString += \"ace-inline-screenreader-line-\".concat(lineIndex, \" \");\n                    }\n                    selected.setAttribute(\"aria-describedby\", idString);\n                }\n            }.bind(this));\n        }\n        while (this.screenReaderDiv.firstChild) {\n            this.screenReaderDiv.removeChild(this.screenReaderDiv.firstChild);\n        }\n        this._lines = content.split(/\\r\\n|\\r|\\n/);\n        var codeElement = this.createCodeBlock();\n        this.screenReaderDiv.appendChild(codeElement);\n    };\n    AceInlineScreenReader.prototype.destroy = function () {\n        this.screenReaderDiv.remove();\n    };\n    AceInlineScreenReader.prototype.createCodeBlock = function () {\n        var container = document.createElement(\"pre\");\n        container.setAttribute(\"id\", \"ace-inline-screenreader\");\n        for (var lineIndex = 0; lineIndex < this._lines.length; lineIndex++) {\n            var codeElement = document.createElement(\"code\");\n            codeElement.setAttribute(\"id\", \"ace-inline-screenreader-line-\".concat(lineIndex));\n            var line = document.createTextNode(this._lines[lineIndex]);\n            codeElement.appendChild(line);\n            container.appendChild(codeElement);\n        }\n        return container;\n    };\n    return AceInlineScreenReader;\n}());\nexports.AceInlineScreenReader = AceInlineScreenReader;\n\n});\n\nace.define(\"ace/autocomplete/inline\",[\"require\",\"exports\",\"module\",\"ace/snippets\",\"ace/autocomplete/inline_screenreader\"], function(require, exports, module){\"use strict\";\nvar snippetManager = require(\"../snippets\").snippetManager;\nvar AceInlineScreenReader = require(\"./inline_screenreader\").AceInlineScreenReader;\nvar AceInline = /** @class */ (function () {\n    function AceInline() {\n        this.editor = null;\n    }\n    AceInline.prototype.show = function (editor, completion, prefix) {\n        prefix = prefix || \"\";\n        if (editor && this.editor && this.editor !== editor) {\n            this.hide();\n            this.editor = null;\n            this.inlineScreenReader = null;\n        }\n        if (!editor || !completion) {\n            return false;\n        }\n        if (!this.inlineScreenReader) {\n            this.inlineScreenReader = new AceInlineScreenReader(editor);\n        }\n        var displayText = completion.snippet ? snippetManager.getDisplayTextForSnippet(editor, completion.snippet) : completion.value;\n        if (completion.hideInlinePreview || !displayText || !displayText.startsWith(prefix)) {\n            return false;\n        }\n        this.editor = editor;\n        this.inlineScreenReader.setScreenReaderContent(displayText);\n        displayText = displayText.slice(prefix.length);\n        if (displayText === \"\") {\n            editor.removeGhostText();\n        }\n        else {\n            editor.setGhostText(displayText);\n        }\n        return true;\n    };\n    AceInline.prototype.isOpen = function () {\n        if (!this.editor) {\n            return false;\n        }\n        return !!this.editor.renderer.$ghostText;\n    };\n    AceInline.prototype.hide = function () {\n        if (!this.editor) {\n            return false;\n        }\n        this.editor.removeGhostText();\n        return true;\n    };\n    AceInline.prototype.destroy = function () {\n        this.hide();\n        this.editor = null;\n        if (this.inlineScreenReader) {\n            this.inlineScreenReader.destroy();\n            this.inlineScreenReader = null;\n        }\n    };\n    return AceInline;\n}());\nexports.AceInline = AceInline;\n\n});\n\nace.define(\"ace/autocomplete/util\",[\"require\",\"exports\",\"module\"], function(require, exports, module){\"use strict\";\nexports.parForEach = function (array, fn, callback) {\n    var completed = 0;\n    var arLength = array.length;\n    if (arLength === 0)\n        callback();\n    for (var i = 0; i < arLength; i++) {\n        fn(array[i], function (result, err) {\n            completed++;\n            if (completed === arLength)\n                callback(result, err);\n        });\n    }\n};\nvar ID_REGEX = /[a-zA-Z_0-9\\$\\-\\u00A2-\\u2000\\u2070-\\uFFFF]/;\nexports.retrievePrecedingIdentifier = function (text, pos, regex) {\n    regex = regex || ID_REGEX;\n    var buf = [];\n    for (var i = pos - 1; i >= 0; i--) {\n        if (regex.test(text[i]))\n            buf.push(text[i]);\n        else\n            break;\n    }\n    return buf.reverse().join(\"\");\n};\nexports.retrieveFollowingIdentifier = function (text, pos, regex) {\n    regex = regex || ID_REGEX;\n    var buf = [];\n    for (var i = pos; i < text.length; i++) {\n        if (regex.test(text[i]))\n            buf.push(text[i]);\n        else\n            break;\n    }\n    return buf;\n};\nexports.getCompletionPrefix = function (editor) {\n    var pos = editor.getCursorPosition();\n    var line = editor.session.getLine(pos.row);\n    var prefix;\n    editor.completers.forEach(function (completer) {\n        if (completer.identifierRegexps) {\n            completer.identifierRegexps.forEach(function (identifierRegex) {\n                if (!prefix && identifierRegex)\n                    prefix = this.retrievePrecedingIdentifier(line, pos.column, identifierRegex);\n            }.bind(this));\n        }\n    }.bind(this));\n    return prefix || this.retrievePrecedingIdentifier(line, pos.column);\n};\nexports.triggerAutocomplete = function (editor, previousChar) {\n    var previousChar = previousChar == null\n        ? editor.session.getPrecedingCharacter()\n        : previousChar;\n    return editor.completers.some(function (completer) {\n        if (completer.triggerCharacters && Array.isArray(completer.triggerCharacters)) {\n            return completer.triggerCharacters.includes(previousChar);\n        }\n    });\n};\n\n});\n\nace.define(\"ace/autocomplete\",[\"require\",\"exports\",\"module\",\"ace/keyboard/hash_handler\",\"ace/autocomplete/popup\",\"ace/autocomplete/inline\",\"ace/autocomplete/popup\",\"ace/autocomplete/util\",\"ace/lib/lang\",\"ace/lib/dom\",\"ace/snippets\",\"ace/config\",\"ace/lib/event\",\"ace/lib/scroll\"], function(require, exports, module){\"use strict\";\nvar HashHandler = require(\"./keyboard/hash_handler\").HashHandler;\nvar AcePopup = require(\"./autocomplete/popup\").AcePopup;\nvar AceInline = require(\"./autocomplete/inline\").AceInline;\nvar getAriaId = require(\"./autocomplete/popup\").getAriaId;\nvar util = require(\"./autocomplete/util\");\nvar lang = require(\"./lib/lang\");\nvar dom = require(\"./lib/dom\");\nvar snippetManager = require(\"./snippets\").snippetManager;\nvar config = require(\"./config\");\nvar event = require(\"./lib/event\");\nvar preventParentScroll = require(\"./lib/scroll\").preventParentScroll;\nvar destroyCompleter = function (e, editor) {\n    editor.completer && editor.completer.destroy();\n};\nvar Autocomplete = /** @class */ (function () {\n    function Autocomplete() {\n        this.autoInsert = false;\n        this.autoSelect = true;\n        this.autoShown = false;\n        this.exactMatch = false;\n        this.inlineEnabled = false;\n        this.keyboardHandler = new HashHandler();\n        this.keyboardHandler.bindKeys(this.commands);\n        this.parentNode = null;\n        this.setSelectOnHover = false;\n        this.hasSeen = new Set();\n        this.showLoadingState = false;\n        this.stickySelectionDelay = 500;\n        this.blurListener = this.blurListener.bind(this);\n        this.changeListener = this.changeListener.bind(this);\n        this.mousedownListener = this.mousedownListener.bind(this);\n        this.mousewheelListener = this.mousewheelListener.bind(this);\n        this.onLayoutChange = this.onLayoutChange.bind(this);\n        this.changeTimer = lang.delayedCall(function () {\n            this.updateCompletions(true);\n        }.bind(this));\n        this.tooltipTimer = lang.delayedCall(this.updateDocTooltip.bind(this), 50);\n        this.popupTimer = lang.delayedCall(this.$updatePopupPosition.bind(this), 50);\n        this.stickySelectionTimer = lang.delayedCall(function () {\n            this.stickySelection = true;\n        }.bind(this), this.stickySelectionDelay);\n        this.$firstOpenTimer = lang.delayedCall(/**@this{Autocomplete}*/ function () {\n            var initialPosition = this.completionProvider && this.completionProvider.initialPosition;\n            if (this.autoShown || (this.popup && this.popup.isOpen) || !initialPosition || this.editor.completers.length === 0)\n                return;\n            this.completions = new FilteredList(Autocomplete.completionsForLoading);\n            this.openPopup(this.editor, initialPosition.prefix, false);\n            this.popup.renderer.setStyle(\"ace_loading\", true);\n        }.bind(this), this.stickySelectionDelay);\n    }\n    Object.defineProperty(Autocomplete, \"completionsForLoading\", {\n        get: function () {\n            return [{\n                    caption: config.nls(\"autocomplete.loading\", \"Loading...\"),\n                    value: \"\"\n                }];\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Autocomplete.prototype.$init = function () {\n        this.popup = new AcePopup(this.parentNode || document.body || document.documentElement);\n        this.popup.on(\"click\", function (e) {\n            this.insertMatch();\n            e.stop();\n        }.bind(this));\n        this.popup.focus = this.editor.focus.bind(this.editor);\n        this.popup.on(\"show\", this.$onPopupShow.bind(this));\n        this.popup.on(\"hide\", this.$onHidePopup.bind(this));\n        this.popup.on(\"select\", this.$onPopupChange.bind(this));\n        event.addListener(this.popup.container, \"mouseout\", this.mouseOutListener.bind(this));\n        this.popup.on(\"changeHoverMarker\", this.tooltipTimer.bind(null, null));\n        this.popup.renderer.on(\"afterRender\", this.$onPopupRender.bind(this));\n        return this.popup;\n    };\n    Autocomplete.prototype.$initInline = function () {\n        if (!this.inlineEnabled || this.inlineRenderer)\n            return;\n        this.inlineRenderer = new AceInline();\n        return this.inlineRenderer;\n    };\n    Autocomplete.prototype.getPopup = function () {\n        return this.popup || this.$init();\n    };\n    Autocomplete.prototype.$onHidePopup = function () {\n        if (this.inlineRenderer) {\n            this.inlineRenderer.hide();\n        }\n        this.hideDocTooltip();\n        this.stickySelectionTimer.cancel();\n        this.popupTimer.cancel();\n        this.stickySelection = false;\n    };\n    Autocomplete.prototype.$seen = function (completion) {\n        if (!this.hasSeen.has(completion) && completion && completion.completer && completion.completer.onSeen && typeof completion.completer.onSeen === \"function\") {\n            completion.completer.onSeen(this.editor, completion);\n            this.hasSeen.add(completion);\n        }\n    };\n    Autocomplete.prototype.$onPopupChange = function (hide) {\n        if (this.inlineRenderer && this.inlineEnabled) {\n            var completion = hide ? null : this.popup.getData(this.popup.getRow());\n            this.$updateGhostText(completion);\n            if (this.popup.isMouseOver && this.setSelectOnHover) {\n                this.tooltipTimer.call(null, null);\n                return;\n            }\n            this.popupTimer.schedule();\n            this.tooltipTimer.schedule();\n        }\n        else {\n            this.popupTimer.call(null, null);\n            this.tooltipTimer.call(null, null);\n        }\n    };\n    Autocomplete.prototype.$updateGhostText = function (completion) {\n        var row = this.base.row;\n        var column = this.base.column;\n        var cursorColumn = this.editor.getCursorPosition().column;\n        var prefix = this.editor.session.getLine(row).slice(column, cursorColumn);\n        if (!this.inlineRenderer.show(this.editor, completion, prefix)) {\n            this.inlineRenderer.hide();\n        }\n        else {\n            this.$seen(completion);\n        }\n    };\n    Autocomplete.prototype.$onPopupRender = function () {\n        var inlineEnabled = this.inlineRenderer && this.inlineEnabled;\n        if (this.completions && this.completions.filtered && this.completions.filtered.length > 0) {\n            for (var i = this.popup.getFirstVisibleRow(); i <= this.popup.getLastVisibleRow(); i++) {\n                var completion = this.popup.getData(i);\n                if (completion && (!inlineEnabled || completion.hideInlinePreview)) {\n                    this.$seen(completion);\n                }\n            }\n        }\n    };\n    Autocomplete.prototype.$onPopupShow = function (hide) {\n        this.$onPopupChange(hide);\n        this.stickySelection = false;\n        if (this.stickySelectionDelay >= 0)\n            this.stickySelectionTimer.schedule(this.stickySelectionDelay);\n    };\n    Autocomplete.prototype.observeLayoutChanges = function () {\n        if (this.$elements || !this.editor)\n            return;\n        window.addEventListener(\"resize\", this.onLayoutChange, { passive: true });\n        window.addEventListener(\"wheel\", this.mousewheelListener);\n        var el = this.editor.container.parentNode;\n        var elements = [];\n        while (el) {\n            elements.push(el);\n            el.addEventListener(\"scroll\", this.onLayoutChange, { passive: true });\n            el = el.parentNode;\n        }\n        this.$elements = elements;\n    };\n    Autocomplete.prototype.unObserveLayoutChanges = function () {\n        var _this = this;\n        window.removeEventListener(\"resize\", this.onLayoutChange, { passive: true });\n        window.removeEventListener(\"wheel\", this.mousewheelListener);\n        this.$elements && this.$elements.forEach(function (el) {\n            el.removeEventListener(\"scroll\", _this.onLayoutChange, { passive: true });\n        });\n        this.$elements = null;\n    };\n    Autocomplete.prototype.onLayoutChange = function () {\n        if (!this.popup.isOpen)\n            return this.unObserveLayoutChanges();\n        this.$updatePopupPosition();\n        this.updateDocTooltip();\n    };\n    Autocomplete.prototype.$updatePopupPosition = function () {\n        var editor = this.editor;\n        var renderer = editor.renderer;\n        var lineHeight = renderer.layerConfig.lineHeight;\n        var pos = renderer.$cursorLayer.getPixelPosition(this.base, true);\n        pos.left -= this.popup.getTextLeftOffset();\n        var rect = editor.container.getBoundingClientRect();\n        pos.top += rect.top - renderer.layerConfig.offset;\n        pos.left += rect.left - editor.renderer.scrollLeft;\n        pos.left += renderer.gutterWidth;\n        var posGhostText = {\n            top: pos.top,\n            left: pos.left\n        };\n        if (renderer.$ghostText && renderer.$ghostTextWidget) {\n            if (this.base.row === renderer.$ghostText.position.row) {\n                posGhostText.top += renderer.$ghostTextWidget.el.offsetHeight;\n            }\n        }\n        var editorContainerBottom = editor.container.getBoundingClientRect().bottom - lineHeight;\n        var lowestPosition = editorContainerBottom < posGhostText.top ?\n            { top: editorContainerBottom, left: posGhostText.left } :\n            posGhostText;\n        if (this.popup.tryShow(lowestPosition, lineHeight, \"bottom\")) {\n            return;\n        }\n        if (this.popup.tryShow(pos, lineHeight, \"top\")) {\n            return;\n        }\n        this.popup.show(pos, lineHeight);\n    };\n    Autocomplete.prototype.openPopup = function (editor, prefix, keepPopupPosition) {\n        this.$firstOpenTimer.cancel();\n        if (!this.popup)\n            this.$init();\n        if (this.inlineEnabled && !this.inlineRenderer)\n            this.$initInline();\n        this.popup.autoSelect = this.autoSelect;\n        this.popup.setSelectOnHover(this.setSelectOnHover);\n        var oldRow = this.popup.getRow();\n        var previousSelectedItem = this.popup.data[oldRow];\n        this.popup.setData(this.completions.filtered, this.completions.filterText);\n        if (this.editor.textInput.setAriaOptions) {\n            this.editor.textInput.setAriaOptions({\n                activeDescendant: getAriaId(this.popup.getRow()),\n                inline: this.inlineEnabled\n            });\n        }\n        editor.keyBinding.addKeyboardHandler(this.keyboardHandler);\n        var newRow;\n        if (this.stickySelection)\n            newRow = this.popup.data.indexOf(previousSelectedItem);\n        if (!newRow || newRow === -1)\n            newRow = 0;\n        this.popup.setRow(this.autoSelect ? newRow : -1);\n        if (newRow === oldRow && previousSelectedItem !== this.completions.filtered[newRow])\n            this.$onPopupChange();\n        var inlineEnabled = this.inlineRenderer && this.inlineEnabled;\n        if (newRow === oldRow && inlineEnabled) {\n            var completion = this.popup.getData(this.popup.getRow());\n            this.$updateGhostText(completion);\n        }\n        if (!keepPopupPosition) {\n            this.popup.setTheme(editor.getTheme());\n            this.popup.setFontSize(editor.getFontSize());\n            this.$updatePopupPosition();\n            if (this.tooltipNode) {\n                this.updateDocTooltip();\n            }\n        }\n        this.changeTimer.cancel();\n        this.observeLayoutChanges();\n    };\n    Autocomplete.prototype.detach = function () {\n        if (this.editor) {\n            this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler);\n            this.editor.off(\"changeSelection\", this.changeListener);\n            this.editor.off(\"blur\", this.blurListener);\n            this.editor.off(\"mousedown\", this.mousedownListener);\n            this.editor.off(\"mousewheel\", this.mousewheelListener);\n        }\n        this.$firstOpenTimer.cancel();\n        this.changeTimer.cancel();\n        this.hideDocTooltip();\n        if (this.completionProvider) {\n            this.completionProvider.detach();\n        }\n        if (this.popup && this.popup.isOpen)\n            this.popup.hide();\n        if (this.popup && this.popup.renderer) {\n            this.popup.renderer.off(\"afterRender\", this.$onPopupRender);\n        }\n        if (this.base)\n            this.base.detach();\n        this.activated = false;\n        this.completionProvider = this.completions = this.base = null;\n        this.unObserveLayoutChanges();\n    };\n    Autocomplete.prototype.changeListener = function (e) {\n        var cursor = this.editor.selection.lead;\n        if (cursor.row != this.base.row || cursor.column < this.base.column) {\n            this.detach();\n        }\n        if (this.activated)\n            this.changeTimer.schedule();\n        else\n            this.detach();\n    };\n    Autocomplete.prototype.blurListener = function (e) {\n        var el = document.activeElement;\n        var text = this.editor.textInput.getElement();\n        var fromTooltip = e.relatedTarget && this.tooltipNode && this.tooltipNode.contains(e.relatedTarget);\n        var container = this.popup && this.popup.container;\n        if (el != text && el.parentNode != container && !fromTooltip\n            && el != this.tooltipNode && e.relatedTarget != text) {\n            this.detach();\n        }\n    };\n    Autocomplete.prototype.mousedownListener = function (e) {\n        this.detach();\n    };\n    Autocomplete.prototype.mousewheelListener = function (e) {\n        if (this.popup && !this.popup.isMouseOver)\n            this.detach();\n    };\n    Autocomplete.prototype.mouseOutListener = function (e) {\n        if (this.popup.isOpen)\n            this.$updatePopupPosition();\n    };\n    Autocomplete.prototype.goTo = function (where) {\n        this.popup.goTo(where);\n    };\n    Autocomplete.prototype.insertMatch = function (data, options) {\n        if (!data)\n            data = this.popup.getData(this.popup.getRow());\n        if (!data)\n            return false;\n        if (data.value === \"\") // Explicitly given nothing to insert, e.g. \"No suggestion state\"\n            return this.detach();\n        var completions = this.completions;\n        var result = this.getCompletionProvider().insertMatch(this.editor, data, completions.filterText, options);\n        if (this.completions == completions)\n            this.detach();\n        return result;\n    };\n    Autocomplete.prototype.showPopup = function (editor, options) {\n        if (this.editor)\n            this.detach();\n        this.activated = true;\n        this.editor = editor;\n        if (editor.completer != this) {\n            if (editor.completer)\n                editor.completer.detach();\n            editor.completer = this;\n        }\n        editor.on(\"changeSelection\", this.changeListener);\n        editor.on(\"blur\", this.blurListener);\n        editor.on(\"mousedown\", this.mousedownListener);\n        editor.on(\"mousewheel\", this.mousewheelListener);\n        this.updateCompletions(false, options);\n    };\n    Autocomplete.prototype.getCompletionProvider = function (initialPosition) {\n        if (!this.completionProvider)\n            this.completionProvider = new CompletionProvider(initialPosition);\n        return this.completionProvider;\n    };\n    Autocomplete.prototype.gatherCompletions = function (editor, callback) {\n        return this.getCompletionProvider().gatherCompletions(editor, callback);\n    };\n    Autocomplete.prototype.updateCompletions = function (keepPopupPosition, options) {\n        if (keepPopupPosition && this.base && this.completions) {\n            var pos = this.editor.getCursorPosition();\n            var prefix = this.editor.session.getTextRange({ start: this.base, end: pos });\n            if (prefix == this.completions.filterText)\n                return;\n            this.completions.setFilter(prefix);\n            if (!this.completions.filtered.length)\n                return this.detach();\n            if (this.completions.filtered.length == 1\n                && this.completions.filtered[0].value == prefix\n                && !this.completions.filtered[0].snippet)\n                return this.detach();\n            this.openPopup(this.editor, prefix, keepPopupPosition);\n            return;\n        }\n        if (options && options.matches) {\n            var pos = this.editor.getSelectionRange().start;\n            this.base = this.editor.session.doc.createAnchor(pos.row, pos.column);\n            this.base.$insertRight = true;\n            this.completions = new FilteredList(options.matches);\n            this.getCompletionProvider().completions = this.completions;\n            return this.openPopup(this.editor, \"\", keepPopupPosition);\n        }\n        var session = this.editor.getSession();\n        var pos = this.editor.getCursorPosition();\n        var prefix = util.getCompletionPrefix(this.editor);\n        this.base = session.doc.createAnchor(pos.row, pos.column - prefix.length);\n        this.base.$insertRight = true;\n        var completionOptions = {\n            exactMatch: this.exactMatch,\n            ignoreCaption: this.ignoreCaption\n        };\n        this.getCompletionProvider({\n            prefix: prefix,\n            pos: pos\n        }).provideCompletions(this.editor, completionOptions, \n        function (err, completions, finished) {\n            var filtered = completions.filtered;\n            var prefix = util.getCompletionPrefix(this.editor);\n            this.$firstOpenTimer.cancel();\n            if (finished) {\n                if (!filtered.length) {\n                    var emptyMessage = !this.autoShown && this.emptyMessage;\n                    if (typeof emptyMessage == \"function\")\n                        emptyMessage = this.emptyMessage(prefix);\n                    if (emptyMessage) {\n                        var completionsForEmpty = [{\n                                caption: emptyMessage,\n                                value: \"\"\n                            }\n                        ];\n                        this.completions = new FilteredList(completionsForEmpty);\n                        this.openPopup(this.editor, prefix, keepPopupPosition);\n                        this.popup.renderer.setStyle(\"ace_loading\", false);\n                        this.popup.renderer.setStyle(\"ace_empty-message\", true);\n                        return;\n                    }\n                    return this.detach();\n                }\n                if (filtered.length == 1 && filtered[0].value == prefix\n                    && !filtered[0].snippet)\n                    return this.detach();\n                if (this.autoInsert && !this.autoShown && filtered.length == 1)\n                    return this.insertMatch(filtered[0]);\n            }\n            this.completions = !finished && this.showLoadingState ?\n                new FilteredList(Autocomplete.completionsForLoading.concat(filtered), completions.filterText) :\n                completions;\n            this.openPopup(this.editor, prefix, keepPopupPosition);\n            this.popup.renderer.setStyle(\"ace_empty-message\", false);\n            this.popup.renderer.setStyle(\"ace_loading\", !finished);\n        }.bind(this));\n        if (this.showLoadingState && !this.autoShown && !(this.popup && this.popup.isOpen)) {\n            this.$firstOpenTimer.delay(this.stickySelectionDelay / 2);\n        }\n    };\n    Autocomplete.prototype.cancelContextMenu = function () {\n        this.editor.$mouseHandler.cancelContextMenu();\n    };\n    Autocomplete.prototype.updateDocTooltip = function () {\n        var popup = this.popup;\n        var all = this.completions && this.completions.filtered;\n        var selected = all && (all[popup.getHoveredRow()] || all[popup.getRow()]);\n        var doc = null;\n        if (!selected || !this.editor || !this.popup.isOpen)\n            return this.hideDocTooltip();\n        var completersLength = this.editor.completers.length;\n        for (var i = 0; i < completersLength; i++) {\n            var completer = this.editor.completers[i];\n            if (completer.getDocTooltip && selected.completerId === completer.id) {\n                doc = completer.getDocTooltip(selected);\n                break;\n            }\n        }\n        if (!doc && typeof selected != \"string\")\n            doc = selected;\n        if (typeof doc == \"string\")\n            doc = { docText: doc };\n        if (!doc || !(doc.docHTML || doc.docText))\n            return this.hideDocTooltip();\n        this.showDocTooltip(doc);\n    };\n    Autocomplete.prototype.showDocTooltip = function (item) {\n        if (!this.tooltipNode) {\n            this.tooltipNode = dom.createElement(\"div\");\n            this.tooltipNode.style.margin = \"0\";\n            this.tooltipNode.style.pointerEvents = \"auto\";\n            this.tooltipNode.style.overscrollBehavior = \"contain\";\n            this.tooltipNode.tabIndex = -1;\n            this.tooltipNode.onblur = this.blurListener.bind(this);\n            this.tooltipNode.onclick = this.onTooltipClick.bind(this);\n            this.tooltipNode.id = \"doc-tooltip\";\n            this.tooltipNode.setAttribute(\"role\", \"tooltip\");\n            this.tooltipNode.addEventListener(\"wheel\", preventParentScroll);\n        }\n        var theme = this.editor.renderer.theme;\n        this.tooltipNode.className = \"ace_tooltip ace_doc-tooltip \" +\n            (theme.isDark ? \"ace_dark \" : \"\") + (theme.cssClass || \"\");\n        var tooltipNode = this.tooltipNode;\n        if (item.docHTML) {\n            tooltipNode.innerHTML = item.docHTML;\n        }\n        else if (item.docText) {\n            tooltipNode.textContent = item.docText;\n        }\n        if (!tooltipNode.parentNode)\n            this.popup.container.appendChild(this.tooltipNode);\n        var popup = this.popup;\n        var rect = popup.container.getBoundingClientRect();\n        var targetWidth = 400;\n        var targetHeight = 300;\n        var scrollBarSize = popup.renderer.scrollBar.width || 10;\n        var leftSize = rect.left;\n        var rightSize = window.innerWidth - rect.right - scrollBarSize;\n        var topSize = popup.isTopdown ? rect.top : window.innerHeight - scrollBarSize - rect.bottom;\n        var scores = [\n            Math.min(rightSize / targetWidth, 1),\n            Math.min(leftSize / targetWidth, 1),\n            Math.min(topSize / targetHeight * 0.9),\n        ];\n        var max = Math.max.apply(Math, scores);\n        var tooltipStyle = tooltipNode.style;\n        tooltipStyle.display = \"block\";\n        if (max == scores[0]) {\n            tooltipStyle.left = (rect.right + 1) + \"px\";\n            tooltipStyle.right = \"\";\n            tooltipStyle.maxWidth = targetWidth * max + \"px\";\n            tooltipStyle.top = rect.top + \"px\";\n            tooltipStyle.bottom = \"\";\n            tooltipStyle.maxHeight = Math.min(window.innerHeight - scrollBarSize - rect.top, targetHeight) + \"px\";\n        }\n        else if (max == scores[1]) {\n            tooltipStyle.right = window.innerWidth - rect.left + \"px\";\n            tooltipStyle.left = \"\";\n            tooltipStyle.maxWidth = targetWidth * max + \"px\";\n            tooltipStyle.top = rect.top + \"px\";\n            tooltipStyle.bottom = \"\";\n            tooltipStyle.maxHeight = Math.min(window.innerHeight - scrollBarSize - rect.top, targetHeight) + \"px\";\n        }\n        else if (max == scores[2]) {\n            tooltipStyle.left = window.innerWidth - rect.left + \"px\";\n            tooltipStyle.maxWidth = Math.min(targetWidth, window.innerWidth) + \"px\";\n            if (popup.isTopdown) {\n                tooltipStyle.top = rect.bottom + \"px\";\n                tooltipStyle.left = rect.left + \"px\";\n                tooltipStyle.right = \"\";\n                tooltipStyle.bottom = \"\";\n                tooltipStyle.maxHeight = Math.min(window.innerHeight - scrollBarSize - rect.bottom, targetHeight) + \"px\";\n            }\n            else {\n                tooltipStyle.top = popup.container.offsetTop - tooltipNode.offsetHeight + \"px\";\n                tooltipStyle.left = rect.left + \"px\";\n                tooltipStyle.right = \"\";\n                tooltipStyle.bottom = \"\";\n                tooltipStyle.maxHeight = Math.min(popup.container.offsetTop, targetHeight) + \"px\";\n            }\n        }\n    };\n    Autocomplete.prototype.hideDocTooltip = function () {\n        this.tooltipTimer.cancel();\n        if (!this.tooltipNode)\n            return;\n        var el = this.tooltipNode;\n        if (!this.editor.isFocused() && document.activeElement == el)\n            this.editor.focus();\n        this.tooltipNode = null;\n        if (el.parentNode)\n            el.parentNode.removeChild(el);\n    };\n    Autocomplete.prototype.onTooltipClick = function (e) {\n        var a = e.target;\n        while (a && a != this.tooltipNode) {\n            if (a.nodeName == \"A\" && a.href) {\n                a.rel = \"noreferrer\";\n                a.target = \"_blank\";\n                break;\n            }\n            a = a.parentNode;\n        }\n    };\n    Autocomplete.prototype.destroy = function () {\n        this.detach();\n        if (this.popup) {\n            this.popup.destroy();\n            var el = this.popup.container;\n            if (el && el.parentNode)\n                el.parentNode.removeChild(el);\n        }\n        if (this.editor && this.editor.completer == this) {\n            this.editor.off(\"destroy\", destroyCompleter);\n            this.editor.completer = null;\n        }\n        this.inlineRenderer = this.popup = this.editor = null;\n    };\n    Autocomplete.for = function (editor) {\n        if (editor.completer instanceof Autocomplete) {\n            return editor.completer;\n        }\n        if (editor.completer) {\n            editor.completer.destroy();\n            editor.completer = null;\n        }\n        if (config.get(\"sharedPopups\")) {\n            if (!Autocomplete[\"$sharedInstance\"])\n                Autocomplete[\"$sharedInstance\"] = new Autocomplete();\n            editor.completer = Autocomplete[\"$sharedInstance\"];\n        }\n        else {\n            editor.completer = new Autocomplete();\n            editor.once(\"destroy\", destroyCompleter);\n        }\n        return editor.completer;\n    };\n    return Autocomplete;\n}());\nAutocomplete.prototype.commands = {\n    \"Up\": function (editor) { editor.completer.goTo(\"up\"); },\n    \"Down\": function (editor) { editor.completer.goTo(\"down\"); },\n    \"Ctrl-Up|Ctrl-Home\": function (editor) { editor.completer.goTo(\"start\"); },\n    \"Ctrl-Down|Ctrl-End\": function (editor) { editor.completer.goTo(\"end\"); },\n    \"Esc\": function (editor) { editor.completer.detach(); },\n    \"Return\": function (editor) { return editor.completer.insertMatch(); },\n    \"Shift-Return\": function (editor) { editor.completer.insertMatch(null, { deleteSuffix: true }); },\n    \"Tab\": function (editor) {\n        var result = editor.completer.insertMatch();\n        if (!result && !editor.tabstopManager)\n            editor.completer.goTo(\"down\");\n        else\n            return result;\n    },\n    \"Backspace\": function (editor) {\n        editor.execCommand(\"backspace\");\n        var prefix = util.getCompletionPrefix(editor);\n        if (!prefix && editor.completer)\n            editor.completer.detach();\n    },\n    \"PageUp\": function (editor) { editor.completer.popup.gotoPageUp(); },\n    \"PageDown\": function (editor) { editor.completer.popup.gotoPageDown(); }\n};\nAutocomplete.startCommand = {\n    name: \"startAutocomplete\",\n    exec: function (editor, options) {\n        var completer = Autocomplete.for(editor);\n        completer.autoInsert = false;\n        completer.autoSelect = true;\n        completer.autoShown = false;\n        completer.showPopup(editor, options);\n        completer.cancelContextMenu();\n    },\n    bindKey: \"Ctrl-Space|Ctrl-Shift-Space|Alt-Space\"\n};\nvar CompletionProvider = /** @class */ (function () {\n    function CompletionProvider(initialPosition) {\n        this.initialPosition = initialPosition;\n        this.active = true;\n    }\n    CompletionProvider.prototype.insertByIndex = function (editor, index, options) {\n        if (!this.completions || !this.completions.filtered) {\n            return false;\n        }\n        return this.insertMatch(editor, this.completions.filtered[index], options);\n    };\n    CompletionProvider.prototype.insertMatch = function (editor, data, options) {\n        if (!data)\n            return false;\n        editor.startOperation({ command: { name: \"insertMatch\" } });\n        if (data.completer && data.completer.insertMatch) {\n            data.completer.insertMatch(editor, data);\n        }\n        else {\n            if (!this.completions)\n                return false;\n            var replaceBefore = this.completions.filterText.length;\n            var replaceAfter = 0;\n            if (data.range && data.range.start.row === data.range.end.row) {\n                replaceBefore -= this.initialPosition.prefix.length;\n                replaceBefore += this.initialPosition.pos.column - data.range.start.column;\n                replaceAfter += data.range.end.column - this.initialPosition.pos.column;\n            }\n            if (replaceBefore || replaceAfter) {\n                var ranges;\n                if (editor.selection.getAllRanges) {\n                    ranges = editor.selection.getAllRanges();\n                }\n                else {\n                    ranges = [editor.getSelectionRange()];\n                }\n                for (var i = 0, range; range = ranges[i]; i++) {\n                    range.start.column -= replaceBefore;\n                    range.end.column += replaceAfter;\n                    editor.session.remove(range);\n                }\n            }\n            if (data.snippet) {\n                snippetManager.insertSnippet(editor, data.snippet);\n            }\n            else {\n                this.$insertString(editor, data);\n            }\n            if (data.completer && data.completer.onInsert && typeof data.completer.onInsert == \"function\") {\n                data.completer.onInsert(editor, data);\n            }\n            if (data.command && data.command === \"startAutocomplete\") {\n                editor.execCommand(data.command);\n            }\n        }\n        editor.endOperation();\n        return true;\n    };\n    CompletionProvider.prototype.$insertString = function (editor, data) {\n        var text = data.value || data;\n        editor.execCommand(\"insertstring\", text);\n    };\n    CompletionProvider.prototype.gatherCompletions = function (editor, callback) {\n        var session = editor.getSession();\n        var pos = editor.getCursorPosition();\n        var prefix = util.getCompletionPrefix(editor);\n        var matches = [];\n        this.completers = editor.completers;\n        var total = editor.completers.length;\n        editor.completers.forEach(function (completer, i) {\n            completer.getCompletions(editor, session, pos, prefix, function (err, results) {\n                if (completer.hideInlinePreview)\n                    results = results.map(function (result) {\n                        return Object.assign(result, { hideInlinePreview: completer.hideInlinePreview });\n                    });\n                if (!err && results)\n                    matches = matches.concat(results);\n                callback(null, {\n                    prefix: util.getCompletionPrefix(editor),\n                    matches: matches,\n                    finished: (--total === 0)\n                });\n            });\n        });\n        return true;\n    };\n    CompletionProvider.prototype.provideCompletions = function (editor, options, callback) {\n        var processResults = function (results) {\n            var prefix = results.prefix;\n            var matches = results.matches;\n            this.completions = new FilteredList(matches);\n            if (options.exactMatch)\n                this.completions.exactMatch = true;\n            if (options.ignoreCaption)\n                this.completions.ignoreCaption = true;\n            this.completions.setFilter(prefix);\n            if (results.finished || this.completions.filtered.length)\n                callback(null, this.completions, results.finished);\n        }.bind(this);\n        var isImmediate = true;\n        var immediateResults = null;\n        this.gatherCompletions(editor, function (err, results) {\n            if (!this.active) {\n                return;\n            }\n            if (err) {\n                callback(err, [], true);\n                this.detach();\n            }\n            var prefix = results.prefix;\n            if (prefix.indexOf(results.prefix) !== 0)\n                return;\n            if (isImmediate) {\n                immediateResults = results;\n                return;\n            }\n            processResults(results);\n        }.bind(this));\n        isImmediate = false;\n        if (immediateResults) {\n            var results = immediateResults;\n            immediateResults = null;\n            processResults(results);\n        }\n    };\n    CompletionProvider.prototype.detach = function () {\n        this.active = false;\n        this.completers && this.completers.forEach(function (completer) {\n            if (typeof completer.cancel === \"function\") {\n                completer.cancel();\n            }\n        });\n    };\n    return CompletionProvider;\n}());\nvar FilteredList = /** @class */ (function () {\n    function FilteredList(array, filterText) {\n        this.all = array;\n        this.filtered = array;\n        this.filterText = filterText || \"\";\n        this.exactMatch = false;\n        this.ignoreCaption = false;\n    }\n    FilteredList.prototype.setFilter = function (str) {\n        if (str.length > this.filterText && str.lastIndexOf(this.filterText, 0) === 0)\n            var matches = this.filtered;\n        else\n            var matches = this.all;\n        this.filterText = str;\n        matches = this.filterCompletions(matches, this.filterText);\n        matches = matches.sort(function (a, b) {\n            return b.exactMatch - a.exactMatch || b.$score - a.$score\n                || (a.caption || a.value).localeCompare(b.caption || b.value);\n        });\n        var prev = null;\n        matches = matches.filter(function (item) {\n            var caption = item.snippet || item.caption || item.value;\n            if (caption === prev)\n                return false;\n            prev = caption;\n            return true;\n        });\n        this.filtered = matches;\n    };\n    FilteredList.prototype.filterCompletions = function (items, needle) {\n        var results = [];\n        var upper = needle.toUpperCase();\n        var lower = needle.toLowerCase();\n        loop: for (var i = 0, item; item = items[i]; i++) {\n            if (item.skipFilter) {\n                item.$score = item.score;\n                results.push(item);\n                continue;\n            }\n            var caption = (!this.ignoreCaption && item.caption) || item.value || item.snippet;\n            if (!caption)\n                continue;\n            var lastIndex = -1;\n            var matchMask = 0;\n            var penalty = 0;\n            var index, distance;\n            if (this.exactMatch) {\n                if (needle !== caption.substr(0, needle.length))\n                    continue loop;\n            }\n            else {\n                var fullMatchIndex = caption.toLowerCase().indexOf(lower);\n                if (fullMatchIndex > -1) {\n                    penalty = fullMatchIndex;\n                }\n                else {\n                    for (var j = 0; j < needle.length; j++) {\n                        var i1 = caption.indexOf(lower[j], lastIndex + 1);\n                        var i2 = caption.indexOf(upper[j], lastIndex + 1);\n                        index = (i1 >= 0) ? ((i2 < 0 || i1 < i2) ? i1 : i2) : i2;\n                        if (index < 0)\n                            continue loop;\n                        distance = index - lastIndex - 1;\n                        if (distance > 0) {\n                            if (lastIndex === -1)\n                                penalty += 10;\n                            penalty += distance;\n                            matchMask = matchMask | (1 << j);\n                        }\n                        lastIndex = index;\n                    }\n                }\n            }\n            item.matchMask = matchMask;\n            item.exactMatch = penalty ? 0 : 1;\n            item.$score = (item.score || 0) - penalty;\n            results.push(item);\n        }\n        return results;\n    };\n    return FilteredList;\n}());\nexports.Autocomplete = Autocomplete;\nexports.CompletionProvider = CompletionProvider;\nexports.FilteredList = FilteredList;\n\n});\n\nace.define(\"ace/ext/menu_tools/settings_menu.css\",[\"require\",\"exports\",\"module\"], function(require, exports, module){module.exports = \"#ace_settingsmenu, #kbshortcutmenu {\\n    background-color: #F7F7F7;\\n    color: black;\\n    box-shadow: -5px 4px 5px rgba(126, 126, 126, 0.55);\\n    padding: 1em 0.5em 2em 1em;\\n    overflow: auto;\\n    position: absolute;\\n    margin: 0;\\n    bottom: 0;\\n    right: 0;\\n    top: 0;\\n    z-index: 9991;\\n    cursor: default;\\n}\\n\\n.ace_dark #ace_settingsmenu, .ace_dark #kbshortcutmenu {\\n    box-shadow: -20px 10px 25px rgba(126, 126, 126, 0.25);\\n    background-color: rgba(255, 255, 255, 0.6);\\n    color: black;\\n}\\n\\n.ace_optionsMenuEntry:hover {\\n    background-color: rgba(100, 100, 100, 0.1);\\n    transition: all 0.3s\\n}\\n\\n.ace_closeButton {\\n    background: rgba(245, 146, 146, 0.5);\\n    border: 1px solid #F48A8A;\\n    border-radius: 50%;\\n    padding: 7px;\\n    position: absolute;\\n    right: -8px;\\n    top: -8px;\\n    z-index: 100000;\\n}\\n.ace_closeButton{\\n    background: rgba(245, 146, 146, 0.9);\\n}\\n.ace_optionsMenuKey {\\n    color: darkslateblue;\\n    font-weight: bold;\\n}\\n.ace_optionsMenuCommand {\\n    color: darkcyan;\\n    font-weight: normal;\\n}\\n.ace_optionsMenuEntry input, .ace_optionsMenuEntry button {\\n    vertical-align: middle;\\n}\\n\\n.ace_optionsMenuEntry button[ace_selected_button=true] {\\n    background: #e7e7e7;\\n    box-shadow: 1px 0px 2px 0px #adadad inset;\\n    border-color: #adadad;\\n}\\n.ace_optionsMenuEntry button {\\n    background: white;\\n    border: 1px solid lightgray;\\n    margin: 0px;\\n}\\n.ace_optionsMenuEntry button:hover{\\n    background: #f0f0f0;\\n}\";\n\n});\n\nace.define(\"ace/ext/menu_tools/overlay_page\",[\"require\",\"exports\",\"module\",\"ace/ext/menu_tools/overlay_page\",\"ace/lib/dom\",\"ace/ext/menu_tools/settings_menu.css\"], function(require, exports, module){/**\n * ## Overlay Page utility\n *\n * Provides modal overlay functionality for displaying editor extension interfaces. Creates a full-screen overlay with\n * configurable backdrop behavior, keyboard navigation (ESC to close), and focus management. Used by various extensions\n * to display menus, settings panels, and other interactive content over the editor interface.\n *\n * **Usage:**\n * ```javascript\n * var overlayPage = require('./overlay_page').overlayPage;\n * var contentElement = document.createElement('div');\n * contentElement.innerHTML = '<h1>Settings</h1>';\n *\n * var overlay = overlayPage(editor, contentElement, function() {\n *   console.log('Overlay closed');\n * });\n * ```\n *\n * @module\n */\n'use strict';\nvar dom = require(\"../../lib/dom\");\nvar cssText = require(\"./settings_menu.css\");\ndom.importCssString(cssText, \"settings_menu.css\", false);\nmodule.exports.overlayPage = function overlayPage(editor, contentElement, callback) {\n    var closer = document.createElement('div');\n    var ignoreFocusOut = false;\n    function documentEscListener(e) {\n        if (e.keyCode === 27) {\n            close();\n        }\n    }\n    function close() {\n        if (!closer)\n            return;\n        document.removeEventListener('keydown', documentEscListener);\n        closer.parentNode.removeChild(closer);\n        if (editor) {\n            editor.focus();\n        }\n        closer = null;\n        callback && callback();\n    }\n    function setIgnoreFocusOut(ignore) {\n        ignoreFocusOut = ignore;\n        if (ignore) {\n            closer.style.pointerEvents = \"none\";\n            contentElement.style.pointerEvents = \"auto\";\n        }\n    }\n    closer.style.cssText = 'margin: 0; padding: 0; ' +\n        'position: fixed; top:0; bottom:0; left:0; right:0;' +\n        'z-index: 9990; ' +\n        (editor ? 'background-color: rgba(0, 0, 0, 0.3);' : '');\n    closer.addEventListener('click', function (e) {\n        if (!ignoreFocusOut) {\n            close();\n        }\n    });\n    document.addEventListener('keydown', documentEscListener);\n    contentElement.addEventListener('click', function (e) {\n        e.stopPropagation();\n    });\n    closer.appendChild(contentElement);\n    document.body.appendChild(closer);\n    if (editor) {\n        editor.blur();\n    }\n    return {\n        close: close,\n        setIgnoreFocusOut: setIgnoreFocusOut\n    };\n};\n\n});\n\nace.define(\"ace/ext/modelist\",[\"require\",\"exports\",\"module\"], function(require, exports, module){/**\n * ## File mode detection utility\n *\n * Provides automatic detection of editor syntax modes based on file paths and extensions. Maps file extensions to\n * appropriate Ace Editor syntax highlighting modes for over 100 programming languages and file formats including\n * JavaScript, TypeScript, HTML, CSS, Python, Java, C++, and many others. Supports complex extension patterns and\n * provides fallback mechanisms for unknown file types.\n *\n * @module\n */\n\"use strict\";\nvar modes = [];\nfunction getModeForPath(path) {\n    var mode = modesByName.text;\n    var fileName = path.split(/[\\/\\\\]/).pop();\n    for (var i = 0; i < modes.length; i++) {\n        if (modes[i].supportsFile(fileName)) {\n            mode = modes[i];\n            break;\n        }\n    }\n    return mode;\n}\nvar Mode = /** @class */ (function () {\n    function Mode(name, caption, extensions) {\n        this.name = name;\n        this.caption = caption;\n        this.mode = \"ace/mode/\" + name;\n        this.extensions = extensions;\n        var re;\n        if (/\\^/.test(extensions)) {\n            re = extensions.replace(/\\|(\\^)?/g, function (a, b) {\n                return \"$|\" + (b ? \"^\" : \"^.*\\\\.\");\n            }) + \"$\";\n        }\n        else {\n            re = \"\\\\.(\" + extensions + \")$\";\n        }\n        this.extRe = new RegExp(re, \"gi\");\n    }\n    Mode.prototype.supportsFile = function (filename) {\n        return filename.match(this.extRe);\n    };\n    return Mode;\n}());\nvar supportedModes = {\n    ABAP: [\"abap\"],\n    ABC: [\"abc\"],\n    ActionScript: [\"as\"],\n    ADA: [\"ada|adb\"],\n    Alda: [\"alda\"],\n    Apache_Conf: [\"^htaccess|^htgroups|^htpasswd|^conf|htaccess|htgroups|htpasswd\"],\n    Apex: [\"apex|cls|trigger|tgr\"],\n    AQL: [\"aql\"],\n    AsciiDoc: [\"asciidoc|adoc\"],\n    ASL: [\"dsl|asl|asl.json\"],\n    Assembly_ARM32: [\"s\"],\n    Assembly_x86: [\"asm|a\"],\n    Astro: [\"astro\"],\n    AutoHotKey: [\"ahk\"],\n    Basic: [\"bas|bak\"],\n    BatchFile: [\"bat|cmd\"],\n    BibTeX: [\"bib\"],\n    C_Cpp: [\"cpp|c|cc|cxx|h|hh|hpp|ino\"],\n    C9Search: [\"c9search_results\"],\n    Cirru: [\"cirru|cr\"],\n    Clojure: [\"clj|cljs\"],\n    Clue: [\"clue\"],\n    Cobol: [\"CBL|COB\"],\n    coffee: [\"coffee|cf|cson|^Cakefile\"],\n    ColdFusion: [\"cfm|cfc\"],\n    Crystal: [\"cr\"],\n    CSharp: [\"cs\"],\n    Csound_Document: [\"csd\"],\n    Csound_Orchestra: [\"orc\"],\n    Csound_Score: [\"sco\"],\n    CSS: [\"css\"],\n    CSV: [\"csv\"],\n    Curly: [\"curly\"],\n    Cuttlefish: [\"conf\"],\n    D: [\"d|di\"],\n    Dart: [\"dart\"],\n    Diff: [\"diff|patch\"],\n    Django: [\"djt|html.djt|dj.html|djhtml\"],\n    Dockerfile: [\"^Dockerfile\"],\n    Dot: [\"dot\"],\n    Drools: [\"drl\"],\n    Edifact: [\"edi\"],\n    Eiffel: [\"e|ge\"],\n    EJS: [\"ejs\"],\n    Elixir: [\"ex|exs\"],\n    Elm: [\"elm\"],\n    Erlang: [\"erl|hrl\"],\n    Flix: [\"flix\"],\n    Forth: [\"frt|fs|ldr|fth|4th\"],\n    Fortran: [\"f|f90\"],\n    FSharp: [\"fsi|fs|ml|mli|fsx|fsscript\"],\n    FSL: [\"fsl\"],\n    FTL: [\"ftl\"],\n    Gcode: [\"gcode\"],\n    Gherkin: [\"feature\"],\n    Gitignore: [\"^.gitignore\"],\n    Glsl: [\"glsl|frag|vert\"],\n    Gobstones: [\"gbs\"],\n    golang: [\"go\"],\n    GraphQLSchema: [\"gql\"],\n    Groovy: [\"groovy\"],\n    HAML: [\"haml\"],\n    Handlebars: [\"hbs|handlebars|tpl|mustache\"],\n    Haskell: [\"hs\"],\n    Haskell_Cabal: [\"cabal\"],\n    haXe: [\"hx\"],\n    Hjson: [\"hjson\"],\n    HTML: [\"html|htm|xhtml|we|wpy\"],\n    HTML_Elixir: [\"eex|html.eex\"],\n    HTML_Ruby: [\"erb|rhtml|html.erb\"],\n    INI: [\"ini|conf|cfg|prefs\"],\n    Io: [\"io\"],\n    Ion: [\"ion\"],\n    Jack: [\"jack\"],\n    Jade: [\"jade|pug\"],\n    Java: [\"java\"],\n    JavaScript: [\"js|jsm|cjs|mjs\"],\n    JEXL: [\"jexl\"],\n    JSON: [\"json\"],\n    JSON5: [\"json5\"],\n    JSONiq: [\"jq\"],\n    JSP: [\"jsp\"],\n    JSSM: [\"jssm|jssm_state\"],\n    JSX: [\"jsx\"],\n    Julia: [\"jl\"],\n    Kotlin: [\"kt|kts\"],\n    LaTeX: [\"tex|latex|ltx|bib\"],\n    Latte: [\"latte\"],\n    LESS: [\"less\"],\n    Liquid: [\"liquid\"],\n    Lisp: [\"lisp\"],\n    LiveScript: [\"ls\"],\n    Log: [\"log\"],\n    LogiQL: [\"logic|lql\"],\n    Logtalk: [\"lgt\"],\n    LSL: [\"lsl\"],\n    Lua: [\"lua\"],\n    LuaPage: [\"lp\"],\n    Lucene: [\"lucene\"],\n    Makefile: [\"^Makefile|^GNUmakefile|^makefile|^OCamlMakefile|make\"],\n    Markdown: [\"md|markdown\"],\n    Mask: [\"mask\"],\n    MATLAB: [\"matlab\"],\n    Maze: [\"mz\"],\n    MediaWiki: [\"wiki|mediawiki\"],\n    MEL: [\"mel\"],\n    MIPS: [\"s|asm\"],\n    MIXAL: [\"mixal\"],\n    MUSHCode: [\"mc|mush\"],\n    MySQL: [\"mysql\"],\n    Nasal: [\"nas\"],\n    Nginx: [\"nginx|conf\"],\n    Nim: [\"nim\"],\n    Nix: [\"nix\"],\n    NSIS: [\"nsi|nsh\"],\n    Nunjucks: [\"nunjucks|nunjs|nj|njk\"],\n    ObjectiveC: [\"m|mm\"],\n    OCaml: [\"ml|mli\"],\n    Odin: [\"odin\"],\n    PartiQL: [\"partiql|pql\"],\n    Pascal: [\"pas|p\"],\n    Perl: [\"pl|pm\"],\n    pgSQL: [\"pgsql\"],\n    PHP: [\"php|inc|phtml|shtml|php3|php4|php5|phps|phpt|aw|ctp|module\"],\n    PHP_Laravel_blade: [\"blade.php\"],\n    Pig: [\"pig\"],\n    PLSQL: [\"plsql\"],\n    Powershell: [\"ps1\"],\n    Praat: [\"praat|praatscript|psc|proc\"],\n    Prisma: [\"prisma\"],\n    Prolog: [\"plg|prolog\"],\n    Properties: [\"properties\"],\n    Protobuf: [\"proto\"],\n    PRQL: [\"prql\"],\n    Puppet: [\"epp|pp\"],\n    Python: [\"py\"],\n    QML: [\"qml\"],\n    R: [\"r\"],\n    Raku: [\"raku|rakumod|rakutest|p6|pl6|pm6\"],\n    Razor: [\"cshtml|asp\"],\n    RDoc: [\"Rd\"],\n    Red: [\"red|reds\"],\n    RHTML: [\"Rhtml\"],\n    Robot: [\"robot|resource\"],\n    RST: [\"rst\"],\n    Ruby: [\"rb|ru|gemspec|rake|^Guardfile|^Rakefile|^Gemfile\"],\n    Rust: [\"rs\"],\n    SaC: [\"sac\"],\n    SASS: [\"sass\"],\n    SCAD: [\"scad\"],\n    Scala: [\"scala|sbt\"],\n    Scheme: [\"scm|sm|rkt|oak|scheme\"],\n    Scrypt: [\"scrypt\"],\n    SCSS: [\"scss\"],\n    SH: [\"sh|bash|^.bashrc\"],\n    SJS: [\"sjs\"],\n    Slim: [\"slim|skim\"],\n    Smarty: [\"smarty|tpl\"],\n    Smithy: [\"smithy\"],\n    snippets: [\"snippets\"],\n    Soy_Template: [\"soy\"],\n    Space: [\"space\"],\n    SPARQL: [\"rq\"],\n    SQL: [\"sql\"],\n    SQLServer: [\"sqlserver\"],\n    Stylus: [\"styl|stylus\"],\n    SVG: [\"svg\"],\n    Swift: [\"swift\"],\n    Tcl: [\"tcl\"],\n    Terraform: [\"tf\", \"tfvars\", \"terragrunt\"],\n    Tex: [\"tex\"],\n    Text: [\"txt\"],\n    Textile: [\"textile\"],\n    Toml: [\"toml\"],\n    TSV: [\"tsv\"],\n    TSX: [\"tsx\"],\n    Turtle: [\"ttl\"],\n    Twig: [\"twig|swig\"],\n    Typescript: [\"ts|mts|cts|typescript|str\"],\n    Vala: [\"vala\"],\n    VBScript: [\"vbs|vb\"],\n    Velocity: [\"vm\"],\n    Verilog: [\"v|vh|sv|svh\"],\n    VHDL: [\"vhd|vhdl\"],\n    Visualforce: [\"vfp|component|page\"],\n    Vue: [\"vue\"],\n    Wollok: [\"wlk|wpgm|wtest\"],\n    XML: [\"xml|rdf|rss|wsdl|xslt|atom|mathml|mml|xul|xbl|xaml\"],\n    XQuery: [\"xq\"],\n    YAML: [\"yaml|yml\"],\n    Zeek: [\"zeek|bro\"],\n    Zig: [\"zig\"]\n};\nvar nameOverrides = {\n    ObjectiveC: \"Objective-C\",\n    CSharp: \"C#\",\n    golang: \"Go\",\n    C_Cpp: \"C and C++\",\n    Csound_Document: \"Csound Document\",\n    Csound_Orchestra: \"Csound\",\n    Csound_Score: \"Csound Score\",\n    coffee: \"CoffeeScript\",\n    HTML_Ruby: \"HTML (Ruby)\",\n    HTML_Elixir: \"HTML (Elixir)\",\n    FTL: \"FreeMarker\",\n    PHP_Laravel_blade: \"PHP (Blade Template)\",\n    Perl6: \"Perl 6\",\n    AutoHotKey: \"AutoHotkey / AutoIt\"\n};\nvar modesByName = {};\nfor (var name in supportedModes) {\n    var data = supportedModes[name];\n    var displayName = (nameOverrides[name] || name).replace(/_/g, \" \");\n    var filename = name.toLowerCase();\n    var mode = new Mode(filename, displayName, data[0]);\n    modesByName[filename] = mode;\n    modes.push(mode);\n}\nexports.getModeForPath = getModeForPath;\nexports.modes = modes;\nexports.modesByName = modesByName;\n\n});\n\nace.define(\"ace/ext/prompt\",[\"require\",\"exports\",\"module\",\"ace/config\",\"ace/range\",\"ace/lib/dom\",\"ace/autocomplete\",\"ace/autocomplete/popup\",\"ace/autocomplete/popup\",\"ace/undomanager\",\"ace/tokenizer\",\"ace/ext/menu_tools/overlay_page\",\"ace/ext/modelist\"], function(require, exports, module){/**\n * ## User Input Prompt extension\n *\n * Provides customizable modal prompts for gathering user input with support for autocompletion, validation, and\n * specialized input types. Includes built-in prompt types for navigation (goto line), command palette, and mode\n * selection, with extensible architecture for custom prompt implementations.\n *\n * **Built-in Prompt Types:**\n * - `gotoLine`: Navigate to specific line numbers with selection support\n * - `commands`: Command palette with searchable editor commands and shortcuts\n * - `modes`: Language mode selector with filtering capabilities\n *\n * **Usage:**\n * ```javascript\n * // Basic prompt\n * prompt(editor, \"Default value\", {\n *   placeholder: \"Enter text...\",\n *   onAccept: (data) => console.log(data.value)\n * });\n *\n * // Built-in prompts\n * prompt.gotoLine(editor);\n * prompt.commands(editor);\n * prompt.modes(editor);\n * ```\n *\n * @module\n */\n\"use strict\";\nvar nls = require(\"../config\").nls;\nvar Range = require(\"../range\").Range;\nvar dom = require(\"../lib/dom\");\nvar FilteredList = require(\"../autocomplete\").FilteredList;\nvar AcePopup = require('../autocomplete/popup').AcePopup;\nvar $singleLineEditor = require('../autocomplete/popup').$singleLineEditor;\nvar UndoManager = require(\"../undomanager\").UndoManager;\nvar Tokenizer = require(\"../tokenizer\").Tokenizer;\nvar overlayPage = require(\"./menu_tools/overlay_page\").overlayPage;\nvar modelist = require(\"./modelist\");\nvar openPrompt;\nfunction prompt(editor, message, options, callback) {\n    if (typeof message == \"object\") {\n        return prompt(editor, \"\", message, options);\n    }\n    if (openPrompt) {\n        var lastPrompt = openPrompt;\n        editor = lastPrompt.editor;\n        lastPrompt.close();\n        if (lastPrompt.name && lastPrompt.name == options.name)\n            return;\n    }\n    if (options.$type)\n        return prompt[options.$type](editor, callback);\n    var cmdLine = $singleLineEditor();\n    cmdLine.session.setUndoManager(new UndoManager());\n    var el = dom.buildDom([\"div\", { class: \"ace_prompt_container\" + (options.hasDescription ? \" input-box-with-description\" : \"\") }]);\n    var overlay = overlayPage(editor, el, done);\n    el.appendChild(cmdLine.container);\n    if (editor) {\n        editor.cmdLine = cmdLine;\n        cmdLine.setOption(\"fontSize\", editor.getOption(\"fontSize\"));\n    }\n    if (message) {\n        cmdLine.setValue(message, 1);\n    }\n    if (options.selection) {\n        cmdLine.selection.setRange({\n            start: cmdLine.session.doc.indexToPosition(options.selection[0]),\n            end: cmdLine.session.doc.indexToPosition(options.selection[1])\n        });\n    }\n    if (options.getCompletions) {\n        var popup = new AcePopup();\n        popup.renderer.setStyle(\"ace_autocomplete_inline\");\n        popup.container.style.display = \"block\";\n        popup.container.style.maxWidth = \"600px\";\n        popup.container.style.width = \"100%\";\n        popup.container.style.marginTop = \"3px\";\n        popup.renderer.setScrollMargin(2, 2, 0, 0);\n        popup.autoSelect = false;\n        popup.renderer.$maxLines = 15;\n        popup.setRow(-1);\n        popup.on(\"click\", function (e) {\n            var data = popup.getData(popup.getRow());\n            if (!data[\"error\"]) {\n                cmdLine.setValue(data.value || data[\"name\"] || data);\n                accept();\n                e.stop();\n            }\n        });\n        el.appendChild(popup.container);\n        updateCompletions();\n    }\n    if (options.$rules) {\n        var tokenizer = new Tokenizer(options.$rules);\n        cmdLine.session.bgTokenizer.setTokenizer(tokenizer);\n    }\n    if (options.placeholder) {\n        cmdLine.setOption(\"placeholder\", options.placeholder);\n    }\n    if (options.hasDescription) {\n        var promptTextContainer = dom.buildDom([\"div\", { class: \"ace_prompt_text_container\" }]);\n        dom.buildDom(options.prompt || \"Press 'Enter' to confirm or 'Escape' to cancel\", promptTextContainer);\n        el.appendChild(promptTextContainer);\n    }\n    overlay.setIgnoreFocusOut(options.ignoreFocusOut);\n    function accept() {\n        var val;\n        if (popup && popup.getCursorPosition().row > 0) {\n            val = valueFromRecentList();\n        }\n        else {\n            val = cmdLine.getValue();\n        }\n        var curData = popup ? popup.getData(popup.getRow()) : val;\n        if (curData && !curData[\"error\"]) {\n            done();\n            options.onAccept && options.onAccept({\n                value: val,\n                item: curData\n            }, cmdLine);\n        }\n    }\n    var keys = {\n        \"Enter\": accept,\n        \"Esc|Shift-Esc\": function () {\n            options.onCancel && options.onCancel(cmdLine.getValue(), cmdLine);\n            done();\n        }\n    };\n    if (popup) {\n        Object.assign(keys, {\n            \"Up\": function (editor) { popup.goTo(\"up\"); valueFromRecentList(); },\n            \"Down\": function (editor) { popup.goTo(\"down\"); valueFromRecentList(); },\n            \"Ctrl-Up|Ctrl-Home\": function (editor) { popup.goTo(\"start\"); valueFromRecentList(); },\n            \"Ctrl-Down|Ctrl-End\": function (editor) { popup.goTo(\"end\"); valueFromRecentList(); },\n            \"Tab\": function (editor) {\n                popup.goTo(\"down\");\n                valueFromRecentList();\n            },\n            \"PageUp\": function (editor) { popup.gotoPageUp(); valueFromRecentList(); },\n            \"PageDown\": function (editor) { popup.gotoPageDown(); valueFromRecentList(); }\n        });\n    }\n    cmdLine.commands.bindKeys(keys);\n    function done() {\n        overlay.close();\n        callback && callback();\n        openPrompt = null;\n    }\n    cmdLine.on(\"input\", function () {\n        options.onInput && options.onInput();\n        updateCompletions();\n    });\n    function updateCompletions() {\n        if (options.getCompletions) {\n            var prefix;\n            if (options.getPrefix) {\n                prefix = options.getPrefix(cmdLine);\n            }\n            var completions = options.getCompletions(cmdLine);\n            popup.setData(completions, prefix);\n            popup.resize(true);\n        }\n    }\n    function valueFromRecentList() {\n        var current = popup.getData(popup.getRow());\n        if (current && !current[\"error\"])\n            return current.value || current.caption || current;\n    }\n    cmdLine.resize(true);\n    if (popup) {\n        popup.resize(true);\n    }\n    cmdLine.focus();\n    openPrompt = {\n        close: done,\n        name: options.name,\n        editor: editor\n    };\n}\nprompt.gotoLine = function (editor, callback) {\n    function stringifySelection(selection) {\n        if (!Array.isArray(selection))\n            selection = [selection];\n        return selection.map(function (r) {\n            var cursor = r.isBackwards ? r.start : r.end;\n            var anchor = r.isBackwards ? r.end : r.start;\n            var row = anchor.row;\n            var s = (row + 1) + \":\" + anchor.column;\n            if (anchor.row == cursor.row) {\n                if (anchor.column != cursor.column)\n                    s += \">\" + \":\" + cursor.column;\n            }\n            else {\n                s += \">\" + (cursor.row + 1) + \":\" + cursor.column;\n            }\n            return s;\n        }).reverse().join(\", \");\n    }\n    prompt(editor, \":\" + stringifySelection(editor.selection.toJSON()), {\n        name: \"gotoLine\",\n        selection: [1, Number.MAX_VALUE],\n        onAccept: function (data) {\n            var value = data.value;\n            var _history = prompt.gotoLine[\"_history\"];\n            if (!_history)\n                prompt.gotoLine[\"_history\"] = _history = [];\n            if (_history.indexOf(value) != -1)\n                _history.splice(_history.indexOf(value), 1);\n            _history.unshift(value);\n            if (_history.length > 20)\n                _history.length = 20;\n            var pos = editor.getCursorPosition();\n            var ranges = [];\n            value.replace(/^:/, \"\").split(/,/).map(function (str) {\n                var parts = str.split(/([<>:+-]|c?\\d+)|[^c\\d<>:+-]+/).filter(Boolean);\n                var i = 0;\n                function readPosition() {\n                    var c = parts[i++];\n                    if (!c)\n                        return;\n                    if (c[0] == \"c\") {\n                        var index = parseInt(c.slice(1)) || 0;\n                        return editor.session.doc.indexToPosition(index);\n                    }\n                    var row = pos.row;\n                    var column = 0;\n                    if (/\\d/.test(c)) {\n                        row = parseInt(c) - 1;\n                        c = parts[i++];\n                    }\n                    if (c == \":\") {\n                        c = parts[i++];\n                        if (/\\d/.test(c)) {\n                            column = parseInt(c) || 0;\n                        }\n                    }\n                    return { row: row, column: column };\n                }\n                pos = readPosition();\n                var range = Range.fromPoints(pos, pos);\n                if (parts[i] == \">\") {\n                    i++;\n                    range.end = readPosition();\n                }\n                else if (parts[i] == \"<\") {\n                    i++;\n                    range.start = readPosition();\n                }\n                ranges.unshift(range);\n            });\n            editor.selection.fromJSON(ranges);\n            var scrollTop = editor.renderer.scrollTop;\n            editor.renderer.scrollSelectionIntoView(editor.selection.anchor, editor.selection.cursor, 0.5);\n            editor.renderer.animateScrolling(scrollTop);\n        },\n        history: function () {\n            if (!prompt.gotoLine[\"_history\"])\n                return [];\n            return prompt.gotoLine[\"_history\"];\n        },\n        getCompletions: function (cmdLine) {\n            var value = cmdLine.getValue();\n            var m = value.replace(/^:/, \"\").split(\":\");\n            var row = Math.min(parseInt(m[0]) || 1, editor.session.getLength()) - 1;\n            var line = editor.session.getLine(row);\n            var current = value + \"  \" + line;\n            return [current].concat(this.history());\n        },\n        $rules: {\n            start: [{\n                    regex: /\\d+/,\n                    token: \"string\"\n                }, {\n                    regex: /[:,><+\\-c]/,\n                    token: \"keyword\"\n                }]\n        }\n    });\n};\nprompt.commands = function (editor, callback) {\n    function normalizeName(name) {\n        return (name || \"\").replace(/^./, function (x) {\n            return x.toUpperCase(x);\n        }).replace(/[a-z][A-Z]/g, function (x) {\n            return x[0] + \" \" + x[1].toLowerCase(x);\n        });\n    }\n    function getEditorCommandsByName(excludeCommands) {\n        var commandsByName = [];\n        var commandMap = {};\n        editor.keyBinding.$handlers.forEach(function (handler) {\n            var platform = handler[\"platform\"];\n            var cbn = handler[\"byName\"];\n            for (var i in cbn) {\n                var key = cbn[i].bindKey;\n                if (typeof key !== \"string\") {\n                    key = key && key[platform] || \"\";\n                }\n                var commands = cbn[i];\n                var description = commands.description || normalizeName(commands.name);\n                if (!Array.isArray(commands))\n                    commands = [commands];\n                commands.forEach(function (command) {\n                    if (typeof command != \"string\")\n                        command = command.name;\n                    var needle = excludeCommands.find(function (el) {\n                        return el === command;\n                    });\n                    if (!needle) {\n                        if (commandMap[command]) {\n                            commandMap[command].key += \"|\" + key;\n                        }\n                        else {\n                            commandMap[command] = { key: key, command: command, description: description };\n                            commandsByName.push(commandMap[command]);\n                        }\n                    }\n                });\n            }\n        });\n        return commandsByName;\n    }\n    var excludeCommandsList = [\"insertstring\", \"inserttext\", \"setIndentation\", \"paste\"];\n    var shortcutsArray = getEditorCommandsByName(excludeCommandsList);\n    shortcutsArray = shortcutsArray.map(function (item) {\n        return { value: item.description, meta: item.key, command: item.command };\n    });\n    prompt(editor, \"\", {\n        name: \"commands\",\n        selection: [0, Number.MAX_VALUE],\n        maxHistoryCount: 5,\n        onAccept: function (data) {\n            if (data.item) {\n                var commandName = data.item.command;\n                this.addToHistory(data.item);\n                editor.execCommand(commandName);\n            }\n        },\n        addToHistory: function (item) {\n            var history = this.history();\n            history.unshift(item);\n            delete item.message;\n            for (var i = 1; i < history.length; i++) {\n                if (history[i][\"command\"] == item.command) {\n                    history.splice(i, 1);\n                    break;\n                }\n            }\n            if (this.maxHistoryCount > 0 && history.length > this.maxHistoryCount) {\n                history.splice(history.length - 1, 1);\n            }\n            prompt.commands[\"history\"] = history;\n        },\n        history: function () {\n            return prompt.commands[\"history\"] || [];\n        },\n        getPrefix: function (cmdLine) {\n            var currentPos = cmdLine.getCursorPosition();\n            var filterValue = cmdLine.getValue();\n            return filterValue.substring(0, currentPos.column);\n        },\n        getCompletions: function (cmdLine) {\n            function getFilteredCompletions(commands, prefix) {\n                var resultCommands = JSON.parse(JSON.stringify(commands));\n                var filtered = new FilteredList(resultCommands);\n                return filtered.filterCompletions(resultCommands, prefix);\n            }\n            function getUniqueCommandList(commands, usedCommands) {\n                if (!usedCommands || !usedCommands.length) {\n                    return commands;\n                }\n                var excludeCommands = [];\n                usedCommands.forEach(function (item) {\n                    excludeCommands.push(item.command);\n                });\n                var resultCommands = [];\n                commands.forEach(function (item) {\n                    if (excludeCommands.indexOf(item.command) === -1) {\n                        resultCommands.push(item);\n                    }\n                });\n                return resultCommands;\n            }\n            var prefix = this.getPrefix(cmdLine);\n            var recentlyUsedCommands = getFilteredCompletions(this.history(), prefix);\n            var otherCommands = getUniqueCommandList(shortcutsArray, recentlyUsedCommands);\n            otherCommands = getFilteredCompletions(otherCommands, prefix);\n            if (recentlyUsedCommands.length && otherCommands.length) {\n                recentlyUsedCommands[0].message = nls(\"prompt.recently-used\", \"Recently used\");\n                otherCommands[0].message = nls(\"prompt.other-commands\", \"Other commands\");\n            }\n            var completions = recentlyUsedCommands.concat(otherCommands);\n            return completions.length > 0 ? completions : [{\n                    value: nls(\"prompt.no-matching-commands\", \"No matching commands\"),\n                    error: 1\n                }];\n        }\n    });\n};\nprompt.modes = function (editor, callback) {\n    var modesArray = modelist.modes;\n    modesArray = modesArray.map(function (item) {\n        return { value: item.caption, mode: item.name };\n    });\n    prompt(editor, \"\", {\n        name: \"modes\",\n        selection: [0, Number.MAX_VALUE],\n        onAccept: function (data) {\n            if (data.item) {\n                var modeName = \"ace/mode/\" + data.item.mode;\n                editor.session.setMode(modeName);\n            }\n        },\n        getPrefix: function (cmdLine) {\n            var currentPos = cmdLine.getCursorPosition();\n            var filterValue = cmdLine.getValue();\n            return filterValue.substring(0, currentPos.column);\n        },\n        getCompletions: function (cmdLine) {\n            function getFilteredCompletions(modes, prefix) {\n                var resultCommands = JSON.parse(JSON.stringify(modes));\n                var filtered = new FilteredList(resultCommands);\n                return filtered.filterCompletions(resultCommands, prefix);\n            }\n            var prefix = this.getPrefix(cmdLine);\n            var completions = getFilteredCompletions(modesArray, prefix);\n            return completions.length > 0 ? completions : [{\n                    \"caption\": \"No mode matching\",\n                    \"value\": \"No mode matching\",\n                    \"error\": 1\n                }];\n        }\n    });\n};\ndom.importCssString(\".ace_prompt_container {\\n    max-width: 603px;\\n    width: 100%;\\n    margin: 20px auto;\\n    padding: 3px;\\n    background: white;\\n    border-radius: 2px;\\n    box-shadow: 0px 2px 3px 0px #555;\\n}\", \"promtp.css\", false);\nexports.prompt = prompt;\n\n});                (function() {\n                    ace.require([\"ace/ext/prompt\"], function(m) {\n                        if (typeof module == \"object\" && typeof exports == \"object\" && module) {\n                            module.exports = m;\n                        }\n                    });\n                })();\n            "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script"}